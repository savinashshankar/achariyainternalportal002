var pw=Object.defineProperty;var gw=(t,e,s)=>e in t?pw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Sf=(t,e,s)=>gw(t,typeof e!="symbol"?e+"":e,s);function xw(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function yw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lx={exports:{}},Tl={},cx={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),vw=Symbol.for("react.portal"),bw=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Nw=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),Ew=Symbol.for("react.forward_ref"),Sw=Symbol.for("react.suspense"),Cw=Symbol.for("react.memo"),Tw=Symbol.for("react.lazy"),Cf=Symbol.iterator;function Aw(t){return t===null||typeof t!="object"?null:(t=Cf&&t[Cf]||t["@@iterator"],typeof t=="function"?t:null)}var dx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ux=Object.assign,hx={};function qr(t,e,s){this.props=t,this.context=e,this.refs=hx,this.updater=s||dx}qr.prototype.isReactComponent={};qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mx(){}mx.prototype=qr.prototype;function Fu(t,e,s){this.props=t,this.context=e,this.refs=hx,this.updater=s||dx}var zu=Fu.prototype=new mx;zu.constructor=Fu;ux(zu,qr.prototype);zu.isPureReactComponent=!0;var Tf=Array.isArray,fx=Object.prototype.hasOwnProperty,Uu={current:null},px={key:!0,ref:!0,__self:!0,__source:!0};function gx(t,e,s){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)fx.call(e,n)&&!px.hasOwnProperty(n)&&(i[n]=e[n]);var c=arguments.length-2;if(c===1)i.children=s;else if(1<c){for(var d=Array(c),u=0;u<c;u++)d[u]=arguments[u+2];i.children=d}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Sa,type:t,key:a,ref:o,props:i,_owner:Uu.current}}function kw(t,e){return{$$typeof:Sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sa}function Iw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Af=/\/+/g;function Pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Iw(""+t.key):e.toString(36)}function vo(t,e,s,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sa:case vw:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Pc(o,0):n,Tf(i)?(s="",t!=null&&(s=t.replace(Af,"$&/")+"/"),vo(i,e,s,"",function(u){return u})):i!=null&&(Bu(i)&&(i=kw(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Af,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Tf(t))for(var c=0;c<t.length;c++){a=t[c];var d=n+Pc(a,c);o+=vo(a,e,s,d,i)}else if(d=Aw(t),typeof d=="function")for(t=d.call(t),c=0;!(a=t.next()).done;)a=a.value,d=n+Pc(a,c++),o+=vo(a,e,s,d,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ya(t,e,s){if(t==null)return t;var n=[],i=0;return vo(t,n,"","",function(a){return e.call(s,a,i++)}),n}function Pw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},bo={transition:null},Rw={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:bo,ReactCurrentOwner:Uu};function xx(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ya,forEach:function(t,e,s){Ya(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return Ya(t,function(){e++}),e},toArray:function(t){return Ya(t,function(e){return e})||[]},only:function(t){if(!Bu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=qr;re.Fragment=bw;re.Profiler=Nw;re.PureComponent=Fu;re.StrictMode=ww;re.Suspense=Sw;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rw;re.act=xx;re.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ux({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Uu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)fx.call(e,d)&&!px.hasOwnProperty(d)&&(n[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)n.children=s;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Sa,type:t.type,key:i,ref:a,props:n,_owner:o}};re.createContext=function(t){return t={$$typeof:_w,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jw,_context:t},t.Consumer=t};re.createElement=gx;re.createFactory=function(t){var e=gx.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:Ew,render:t}};re.isValidElement=Bu;re.lazy=function(t){return{$$typeof:Tw,_payload:{_status:-1,_result:t},_init:Pw}};re.memo=function(t,e){return{$$typeof:Cw,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=bo.transition;bo.transition={};try{t()}finally{bo.transition=e}};re.unstable_act=xx;re.useCallback=function(t,e){return ht.current.useCallback(t,e)};re.useContext=function(t){return ht.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};re.useEffect=function(t,e){return ht.current.useEffect(t,e)};re.useId=function(){return ht.current.useId()};re.useImperativeHandle=function(t,e,s){return ht.current.useImperativeHandle(t,e,s)};re.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return ht.current.useMemo(t,e)};re.useReducer=function(t,e,s){return ht.current.useReducer(t,e,s)};re.useRef=function(t){return ht.current.useRef(t)};re.useState=function(t){return ht.current.useState(t)};re.useSyncExternalStore=function(t,e,s){return ht.current.useSyncExternalStore(t,e,s)};re.useTransition=function(){return ht.current.useTransition()};re.version="18.3.1";cx.exports=re;var I=cx.exports;const yx=yw(I),Dw=xw({__proto__:null,default:yx},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw=I,Vw=Symbol.for("react.element"),Lw=Symbol.for("react.fragment"),Ow=Object.prototype.hasOwnProperty,Fw=Mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zw={key:!0,ref:!0,__self:!0,__source:!0};function vx(t,e,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ow.call(e,n)&&!zw.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Vw,type:t,key:a,ref:o,props:i,_owner:Fw.current}}Tl.Fragment=Lw;Tl.jsx=vx;Tl.jsxs=vx;lx.exports=Tl;var r=lx.exports,pd={},bx={exports:{}},Tt={},wx={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,X){var te=q.length;q.push(X);e:for(;0<te;){var ve=te-1>>>1,Te=q[ve];if(0<i(Te,X))q[ve]=X,q[te]=Te,te=ve;else break e}}function s(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var X=q[0],te=q.pop();if(te!==X){q[0]=te;e:for(var ve=0,Te=q.length,vn=Te>>>1;ve<vn;){var kt=2*(ve+1)-1,bn=q[kt],Ut=kt+1,Ts=q[Ut];if(0>i(bn,te))Ut<Te&&0>i(Ts,bn)?(q[ve]=Ts,q[Ut]=te,ve=Ut):(q[ve]=bn,q[kt]=te,ve=kt);else if(Ut<Te&&0>i(Ts,te))q[ve]=Ts,q[Ut]=te,ve=Ut;else break e}}return X}function i(q,X){var te=q.sortIndex-X.sortIndex;return te!==0?te:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],u=[],h=1,f=null,g=3,w=!1,A=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var X=s(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=q)n(u),X.sortIndex=X.expirationTime,e(d,X);else break;X=s(u)}}function D(q){if(S=!1,_(q),!A)if(s(d)!==null)A=!0,Zr(L);else{var X=s(u);X!==null&&ei(D,X.startTime-q)}}function L(q,X){A=!1,S&&(S=!1,v(b),b=-1),w=!0;var te=g;try{for(_(X),f=s(d);f!==null&&(!(f.expirationTime>X)||q&&!k());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,g=f.priorityLevel;var Te=ve(f.expirationTime<=X);X=t.unstable_now(),typeof Te=="function"?f.callback=Te:f===s(d)&&n(d),_(X)}else n(d);f=s(d)}if(f!==null)var vn=!0;else{var kt=s(u);kt!==null&&ei(D,kt.startTime-X),vn=!1}return vn}finally{f=null,g=te,w=!1}}var z=!1,j=null,b=-1,E=5,T=-1;function k(){return!(t.unstable_now()-T<E)}function P(){if(j!==null){var q=t.unstable_now();T=q;var X=!0;try{X=j(!0,q)}finally{X?C():(z=!1,j=null)}}else z=!1}var C;if(typeof x=="function")C=function(){x(P)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,ms=He.port2;He.port1.onmessage=P,C=function(){ms.postMessage(null)}}else C=function(){N(P,0)};function Zr(q){j=q,z||(z=!0,C())}function ei(q,X){b=N(function(){q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){A||w||(A=!0,Zr(L))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var te=g;g=X;try{return q()}finally{g=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=g;g=q;try{return X()}finally{g=te}},t.unstable_scheduleCallback=function(q,X,te){var ve=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,q){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=te+Te,q={id:h++,callback:X,priorityLevel:q,startTime:te,expirationTime:Te,sortIndex:-1},te>ve?(q.sortIndex=te,e(u,q),s(d)===null&&q===s(u)&&(S?(v(b),b=-1):S=!0,ei(D,te-ve))):(q.sortIndex=Te,e(d,q),A||w||(A=!0,Zr(L))),q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(q){var X=g;return function(){var te=g;g=X;try{return q.apply(this,arguments)}finally{g=te}}}})(Nx);wx.exports=Nx;var Uw=wx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=I,St=Uw;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jx=new Set,Ki={};function Hn(t,e){Tr(t,e),Tr(t+"Capture",e)}function Tr(t,e){for(Ki[t]=e,t=0;t<e.length;t++)jx.add(e[t])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,qw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kf={},If={};function $w(t){return gd.call(If,t)?!0:gd.call(kf,t)?!1:qw.test(t)?If[t]=!0:(kf[t]=!0,!1)}function Hw(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qw(t,e,s,n){if(e===null||typeof e>"u"||Hw(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,s,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function $u(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qu,$u);Je[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qu,$u);Je[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qu,$u);Je[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hu(t,e,s,n){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qw(e,s,i,n)&&(s=null),n||i===null?$w(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,n=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var Cs=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),or=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),_x=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Gu=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),Sx=Symbol.for("react.offscreen"),Pf=Symbol.iterator;function xi(t){return t===null||typeof t!="object"?null:(t=Pf&&t[Pf]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Rc;function Ei(t){if(Rc===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Rc=e&&e[1]||""}return`
`+Rc+t}var Dc=!1;function Mc(t,e){if(!t||Dc)return"";Dc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var d=`
`+i[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=c);break}}}finally{Dc=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Ei(t):""}function Ww(t){switch(t.tag){case 5:return Ei(t.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return t=Mc(t.type,!1),t;case 11:return t=Mc(t.type.render,!1),t;case 1:return t=Mc(t.type,!0),t;default:return""}}function bd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lr:return"Fragment";case or:return"Portal";case xd:return"Profiler";case Qu:return"StrictMode";case yd:return"Suspense";case vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ex:return(t.displayName||"Context")+".Consumer";case _x:return(t._context.displayName||"Context")+".Provider";case Wu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gu:return e=t.displayName||null,e!==null?e:bd(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return bd(t(e))}catch{}}return null}function Gw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bd(e);case 8:return e===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kw(t){var e=Cx(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xa(t){t._valueTracker||(t._valueTracker=Kw(t))}function Tx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=Cx(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function Oo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wd(t,e){var s=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Rf(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=rn(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ax(t,e){e=e.checked,e!=null&&Hu(t,"checked",e,!1)}function Nd(t,e){Ax(t,e);var s=rn(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jd(t,e.type,s):e.hasOwnProperty("defaultValue")&&jd(t,e.type,rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Df(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function jd(t,e,s){(e!=="number"||Oo(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Si=Array.isArray;function br(t,e,s,n){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+rn(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _d(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mf(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(U(92));if(Si(s)){if(1<s.length)throw Error(U(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:rn(s)}}function kx(t,e){var s=rn(e.value),n=rn(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function Vf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ix(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ed(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ix(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Za,Px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yi(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yw=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(t){Yw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mi[e]=Mi[t]})});function Rx(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Mi.hasOwnProperty(t)&&Mi[t]?(""+e).trim():e+"px"}function Dx(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=Rx(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,i):t[s]=i}}var Jw=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sd(t,e){if(e){if(Jw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Cd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function Ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ad=null,wr=null,Nr=null;function Lf(t){if(t=Aa(t)){if(typeof Ad!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Rl(e),Ad(t.stateNode,t.type,e))}}function Mx(t){wr?Nr?Nr.push(t):Nr=[t]:wr=t}function Vx(){if(wr){var t=wr,e=Nr;if(Nr=wr=null,Lf(t),e)for(t=0;t<e.length;t++)Lf(e[t])}}function Lx(t,e){return t(e)}function Ox(){}var Vc=!1;function Fx(t,e,s){if(Vc)return t(e,s);Vc=!0;try{return Lx(t,e,s)}finally{Vc=!1,(wr!==null||Nr!==null)&&(Ox(),Vx())}}function Ji(t,e){var s=t.stateNode;if(s===null)return null;var n=Rl(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(U(231,e,typeof s));return s}var kd=!1;if(bs)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){kd=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{kd=!1}function Xw(t,e,s,n,i,a,o,c,d){var u=Array.prototype.slice.call(arguments,3);try{e.apply(s,u)}catch(h){this.onError(h)}}var Vi=!1,Fo=null,zo=!1,Id=null,Zw={onError:function(t){Vi=!0,Fo=t}};function e1(t,e,s,n,i,a,o,c,d){Vi=!1,Fo=null,Xw.apply(Zw,arguments)}function t1(t,e,s,n,i,a,o,c,d){if(e1.apply(this,arguments),Vi){if(Vi){var u=Fo;Vi=!1,Fo=null}else throw Error(U(198));zo||(zo=!0,Id=u)}}function Qn(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function zx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Of(t){if(Qn(t)!==t)throw Error(U(188))}function s1(t){var e=t.alternate;if(!e){if(e=Qn(t),e===null)throw Error(U(188));return e!==t?null:t}for(var s=t,n=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Of(i),t;if(a===n)return Of(i),e;a=a.sibling}throw Error(U(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,c=i.child;c;){if(c===s){o=!0,s=i,n=a;break}if(c===n){o=!0,n=i,s=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===s){o=!0,s=a,n=i;break}if(c===n){o=!0,n=a,s=i;break}c=c.sibling}if(!o)throw Error(U(189))}}if(s.alternate!==n)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?t:e}function Ux(t){return t=s1(t),t!==null?Bx(t):null}function Bx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bx(t);if(e!==null)return e;t=t.sibling}return null}var qx=St.unstable_scheduleCallback,Ff=St.unstable_cancelCallback,n1=St.unstable_shouldYield,r1=St.unstable_requestPaint,ke=St.unstable_now,i1=St.unstable_getCurrentPriorityLevel,Yu=St.unstable_ImmediatePriority,$x=St.unstable_UserBlockingPriority,Uo=St.unstable_NormalPriority,a1=St.unstable_LowPriority,Hx=St.unstable_IdlePriority,Al=null,ss=null;function o1(t){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Al,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:d1,l1=Math.log,c1=Math.LN2;function d1(t){return t>>>=0,t===0?32:31-(l1(t)/c1|0)|0}var eo=64,to=4194304;function Ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bo(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var c=o&~i;c!==0?n=Ci(c):(a&=o,a!==0&&(n=Ci(a)))}else o=s&~i,o!==0?n=Ci(o):a!==0&&(n=Ci(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-Qt(e),i=1<<s,n|=t[s],e&=~i;return n}function u1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h1(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Qt(a),c=1<<o,d=i[o];d===-1?(!(c&s)||c&n)&&(i[o]=u1(c,e)):d<=e&&(t.expiredLanes|=c),a&=~c}}function Pd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qx(){var t=eo;return eo<<=1,!(eo&4194240)&&(eo=64),t}function Lc(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Ca(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=s}function m1(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Qt(s),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,s&=~a}}function Ju(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-Qt(s),i=1<<n;i&e|t[n]&e&&(t[n]|=e),s&=~i}}var ue=0;function Wx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gx,Xu,Kx,Yx,Jx,Rd=!1,so=[],$s=null,Hs=null,Qs=null,Xi=new Map,Zi=new Map,Os=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zf(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(e.pointerId)}}function vi(t,e,s,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Aa(e),e!==null&&Xu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function p1(t,e,s,n,i){switch(e){case"focusin":return $s=vi($s,t,e,s,n,i),!0;case"dragenter":return Hs=vi(Hs,t,e,s,n,i),!0;case"mouseover":return Qs=vi(Qs,t,e,s,n,i),!0;case"pointerover":var a=i.pointerId;return Xi.set(a,vi(Xi.get(a)||null,t,e,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Zi.set(a,vi(Zi.get(a)||null,t,e,s,n,i)),!0}return!1}function Xx(t){var e=An(t.target);if(e!==null){var s=Qn(e);if(s!==null){if(e=s.tag,e===13){if(e=zx(s),e!==null){t.blockedOn=e,Jx(t.priority,function(){Kx(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Dd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);Td=n,s.target.dispatchEvent(n),Td=null}else return e=Aa(s),e!==null&&Xu(e),t.blockedOn=s,!1;e.shift()}return!0}function Uf(t,e,s){wo(t)&&s.delete(e)}function g1(){Rd=!1,$s!==null&&wo($s)&&($s=null),Hs!==null&&wo(Hs)&&(Hs=null),Qs!==null&&wo(Qs)&&(Qs=null),Xi.forEach(Uf),Zi.forEach(Uf)}function bi(t,e){t.blockedOn===e&&(t.blockedOn=null,Rd||(Rd=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,g1)))}function ea(t){function e(i){return bi(i,t)}if(0<so.length){bi(so[0],t);for(var s=1;s<so.length;s++){var n=so[s];n.blockedOn===t&&(n.blockedOn=null)}}for($s!==null&&bi($s,t),Hs!==null&&bi(Hs,t),Qs!==null&&bi(Qs,t),Xi.forEach(e),Zi.forEach(e),s=0;s<Os.length;s++)n=Os[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)Xx(s),s.blockedOn===null&&Os.shift()}var jr=Cs.ReactCurrentBatchConfig,qo=!0;function x1(t,e,s,n){var i=ue,a=jr.transition;jr.transition=null;try{ue=1,Zu(t,e,s,n)}finally{ue=i,jr.transition=a}}function y1(t,e,s,n){var i=ue,a=jr.transition;jr.transition=null;try{ue=4,Zu(t,e,s,n)}finally{ue=i,jr.transition=a}}function Zu(t,e,s,n){if(qo){var i=Dd(t,e,s,n);if(i===null)Wc(t,e,n,$o,s),zf(t,n);else if(p1(i,t,e,s,n))n.stopPropagation();else if(zf(t,n),e&4&&-1<f1.indexOf(t)){for(;i!==null;){var a=Aa(i);if(a!==null&&Gx(a),a=Dd(t,e,s,n),a===null&&Wc(t,e,n,$o,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else Wc(t,e,n,null,s)}}var $o=null;function Dd(t,e,s,n){if($o=null,t=Ku(n),t=An(t),t!==null)if(e=Qn(t),e===null)t=null;else if(s=e.tag,s===13){if(t=zx(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $o=t,null}function Zx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i1()){case Yu:return 1;case $x:return 4;case Uo:case a1:return 16;case Hx:return 536870912;default:return 16}default:return 16}}var zs=null,eh=null,No=null;function e0(){if(No)return No;var t,e=eh,s=e.length,n,i="value"in zs?zs.value:zs.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(n=1;n<=o&&e[s-n]===i[a-n];n++);return No=i.slice(t,1<n?1-n:void 0)}function jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function Bf(){return!1}function At(t){function e(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(s=t[c],this[c]=s?s(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?no:Bf,this.isPropagationStopped=Bf,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),e}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=At($r),Ta=je({},$r,{view:0,detail:0}),v1=At(Ta),Oc,Fc,wi,kl=je({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Oc=t.screenX-wi.screenX,Fc=t.screenY-wi.screenY):Fc=Oc=0,wi=t),Oc)},movementY:function(t){return"movementY"in t?t.movementY:Fc}}),qf=At(kl),b1=je({},kl,{dataTransfer:0}),w1=At(b1),N1=je({},Ta,{relatedTarget:0}),zc=At(N1),j1=je({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=At(j1),E1=je({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S1=At(E1),C1=je({},$r,{data:0}),$f=At(C1),T1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k1[t])?!!e[t]:!1}function sh(){return I1}var P1=je({},Ta,{key:function(t){if(t.key){var e=T1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(t){return t.type==="keypress"?jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R1=At(P1),D1=je({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=At(D1),M1=je({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),V1=At(M1),L1=je({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),O1=At(L1),F1=je({},kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=At(F1),U1=[9,13,27,32],nh=bs&&"CompositionEvent"in window,Li=null;bs&&"documentMode"in document&&(Li=document.documentMode);var B1=bs&&"TextEvent"in window&&!Li,t0=bs&&(!nh||Li&&8<Li&&11>=Li),Qf=" ",Wf=!1;function s0(t,e){switch(t){case"keyup":return U1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cr=!1;function q1(t,e){switch(t){case"compositionend":return n0(e);case"keypress":return e.which!==32?null:(Wf=!0,Qf);case"textInput":return t=e.data,t===Qf&&Wf?null:t;default:return null}}function $1(t,e){if(cr)return t==="compositionend"||!nh&&s0(t,e)?(t=e0(),No=eh=zs=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t0&&e.locale!=="ko"?null:e.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H1[t.type]:e==="textarea"}function r0(t,e,s,n){Mx(n),e=Ho(e,"onChange"),0<e.length&&(s=new th("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var Oi=null,ta=null;function Q1(t){p0(t,0)}function Il(t){var e=hr(t);if(Tx(e))return t}function W1(t,e){if(t==="change")return e}var i0=!1;if(bs){var Uc;if(bs){var Bc="oninput"in document;if(!Bc){var Kf=document.createElement("div");Kf.setAttribute("oninput","return;"),Bc=typeof Kf.oninput=="function"}Uc=Bc}else Uc=!1;i0=Uc&&(!document.documentMode||9<document.documentMode)}function Yf(){Oi&&(Oi.detachEvent("onpropertychange",a0),ta=Oi=null)}function a0(t){if(t.propertyName==="value"&&Il(ta)){var e=[];r0(e,ta,t,Ku(t)),Fx(Q1,e)}}function G1(t,e,s){t==="focusin"?(Yf(),Oi=e,ta=s,Oi.attachEvent("onpropertychange",a0)):t==="focusout"&&Yf()}function K1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Il(ta)}function Y1(t,e){if(t==="click")return Il(e)}function J1(t,e){if(t==="input"||t==="change")return Il(e)}function X1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:X1;function sa(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!gd.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function Jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xf(t,e){var s=Jf(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Jf(s)}}function o0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l0(){for(var t=window,e=Oo();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Oo(t.document)}return e}function rh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z1(t){var e=l0(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&o0(s.ownerDocument.documentElement,s)){if(n!==null&&rh(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Xf(s,a);var o=Xf(s,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e2=bs&&"documentMode"in document&&11>=document.documentMode,dr=null,Md=null,Fi=null,Vd=!1;function Zf(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vd||dr==null||dr!==Oo(n)||(n=dr,"selectionStart"in n&&rh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fi&&sa(Fi,n)||(Fi=n,n=Ho(Md,"onSelect"),0<n.length&&(e=new th("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=dr)))}function ro(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var ur={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},qc={},c0={};bs&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Pl(t){if(qc[t])return qc[t];if(!ur[t])return t;var e=ur[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in c0)return qc[t]=e[s];return t}var d0=Pl("animationend"),u0=Pl("animationiteration"),h0=Pl("animationstart"),m0=Pl("transitionend"),f0=new Map,ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(t,e){f0.set(t,e),Hn(e,[t])}for(var $c=0;$c<ep.length;$c++){var Hc=ep[$c],t2=Hc.toLowerCase(),s2=Hc[0].toUpperCase()+Hc.slice(1);mn(t2,"on"+s2)}mn(d0,"onAnimationEnd");mn(u0,"onAnimationIteration");mn(h0,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(m0,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function tp(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,t1(n,e,void 0,t),t.currentTarget=null}function p0(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var c=n[o],d=c.instance,u=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;tp(i,c,u),a=d}else for(o=0;o<n.length;o++){if(c=n[o],d=c.instance,u=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;tp(i,c,u),a=d}}}if(zo)throw t=Id,zo=!1,Id=null,t}function xe(t,e){var s=e[Ud];s===void 0&&(s=e[Ud]=new Set);var n=t+"__bubble";s.has(n)||(g0(e,t,2,!1),s.add(n))}function Qc(t,e,s){var n=0;e&&(n|=4),g0(s,t,n,e)}var io="_reactListening"+Math.random().toString(36).slice(2);function na(t){if(!t[io]){t[io]=!0,jx.forEach(function(s){s!=="selectionchange"&&(n2.has(s)||Qc(s,!1,t),Qc(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[io]||(e[io]=!0,Qc("selectionchange",!1,e))}}function g0(t,e,s,n){switch(Zx(e)){case 1:var i=x1;break;case 4:i=y1;break;default:i=Zu}s=i.bind(null,e,s,t),i=void 0,!kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function Wc(t,e,s,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;c!==null;){if(o=An(c),o===null)return;if(d=o.tag,d===5||d===6){n=a=o;continue e}c=c.parentNode}}n=n.return}Fx(function(){var u=a,h=Ku(s),f=[];e:{var g=f0.get(t);if(g!==void 0){var w=th,A=t;switch(t){case"keypress":if(jo(s)===0)break e;case"keydown":case"keyup":w=R1;break;case"focusin":A="focus",w=zc;break;case"focusout":A="blur",w=zc;break;case"beforeblur":case"afterblur":w=zc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=w1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=V1;break;case d0:case u0:case h0:w=_1;break;case m0:w=O1;break;case"scroll":w=v1;break;case"wheel":w=z1;break;case"copy":case"cut":case"paste":w=S1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hf}var S=(e&4)!==0,N=!S&&t==="scroll",v=S?g!==null?g+"Capture":null:g;S=[];for(var x=u,_;x!==null;){_=x;var D=_.stateNode;if(_.tag===5&&D!==null&&(_=D,v!==null&&(D=Ji(x,v),D!=null&&S.push(ra(x,D,_)))),N)break;x=x.return}0<S.length&&(g=new w(g,A,null,s,h),f.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&s!==Td&&(A=s.relatedTarget||s.fromElement)&&(An(A)||A[ws]))break e;if((w||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,w?(A=s.relatedTarget||s.toElement,w=u,A=A?An(A):null,A!==null&&(N=Qn(A),A!==N||A.tag!==5&&A.tag!==6)&&(A=null)):(w=null,A=u),w!==A)){if(S=qf,D="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(S=Hf,D="onPointerLeave",v="onPointerEnter",x="pointer"),N=w==null?g:hr(w),_=A==null?g:hr(A),g=new S(D,x+"leave",w,s,h),g.target=N,g.relatedTarget=_,D=null,An(h)===u&&(S=new S(v,x+"enter",A,s,h),S.target=_,S.relatedTarget=N,D=S),N=D,w&&A)t:{for(S=w,v=A,x=0,_=S;_;_=sr(_))x++;for(_=0,D=v;D;D=sr(D))_++;for(;0<x-_;)S=sr(S),x--;for(;0<_-x;)v=sr(v),_--;for(;x--;){if(S===v||v!==null&&S===v.alternate)break t;S=sr(S),v=sr(v)}S=null}else S=null;w!==null&&sp(f,g,w,S,!1),A!==null&&N!==null&&sp(f,N,A,S,!0)}}e:{if(g=u?hr(u):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var L=W1;else if(Gf(g))if(i0)L=J1;else{L=K1;var z=G1}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=Y1);if(L&&(L=L(t,u))){r0(f,L,s,h);break e}z&&z(t,g,u),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&jd(g,"number",g.value)}switch(z=u?hr(u):window,t){case"focusin":(Gf(z)||z.contentEditable==="true")&&(dr=z,Md=u,Fi=null);break;case"focusout":Fi=Md=dr=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Zf(f,s,h);break;case"selectionchange":if(e2)break;case"keydown":case"keyup":Zf(f,s,h)}var j;if(nh)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else cr?s0(t,s)&&(b="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(b="onCompositionStart");b&&(t0&&s.locale!=="ko"&&(cr||b!=="onCompositionStart"?b==="onCompositionEnd"&&cr&&(j=e0()):(zs=h,eh="value"in zs?zs.value:zs.textContent,cr=!0)),z=Ho(u,b),0<z.length&&(b=new $f(b,t,null,s,h),f.push({event:b,listeners:z}),j?b.data=j:(j=n0(s),j!==null&&(b.data=j)))),(j=B1?q1(t,s):$1(t,s))&&(u=Ho(u,"onBeforeInput"),0<u.length&&(h=new $f("onBeforeInput","beforeinput",null,s,h),f.push({event:h,listeners:u}),h.data=j))}p0(f,e)})}function ra(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Ho(t,e){for(var s=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ji(t,s),a!=null&&n.unshift(ra(t,a,i)),a=Ji(t,e),a!=null&&n.push(ra(t,a,i))),t=t.return}return n}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sp(t,e,s,n,i){for(var a=e._reactName,o=[];s!==null&&s!==n;){var c=s,d=c.alternate,u=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&u!==null&&(c=u,i?(d=Ji(s,a),d!=null&&o.unshift(ra(s,d,c))):i||(d=Ji(s,a),d!=null&&o.push(ra(s,d,c)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var r2=/\r\n?/g,i2=/\u0000|\uFFFD/g;function np(t){return(typeof t=="string"?t:""+t).replace(r2,`
`).replace(i2,"")}function ao(t,e,s){if(e=np(e),np(t)!==e&&s)throw Error(U(425))}function Qo(){}var Ld=null,Od=null;function Fd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,a2=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,o2=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(t){return rp.resolve(null).then(t).catch(l2)}:zd;function l2(t){setTimeout(function(){throw t})}function Gc(t,e){var s=e,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){t.removeChild(i),ea(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);ea(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ip(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),ts="__reactFiber$"+Hr,ia="__reactProps$"+Hr,ws="__reactContainer$"+Hr,Ud="__reactEvents$"+Hr,c2="__reactListeners$"+Hr,d2="__reactHandles$"+Hr;function An(t){var e=t[ts];if(e)return e;for(var s=t.parentNode;s;){if(e=s[ws]||s[ts]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=ip(t);t!==null;){if(s=t[ts])return s;t=ip(t)}return e}t=s,s=t.parentNode}return null}function Aa(t){return t=t[ts]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Rl(t){return t[ia]||null}var Bd=[],mr=-1;function fn(t){return{current:t}}function ye(t){0>mr||(t.current=Bd[mr],Bd[mr]=null,mr--)}function pe(t,e){mr++,Bd[mr]=t.current,t.current=e}var an={},at=fn(an),yt=fn(!1),On=an;function Ar(t,e){var s=t.type.contextTypes;if(!s)return an;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vt(t){return t=t.childContextTypes,t!=null}function Wo(){ye(yt),ye(at)}function ap(t,e,s){if(at.current!==an)throw Error(U(168));pe(at,e),pe(yt,s)}function x0(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(U(108,Gw(t)||"Unknown",i));return je({},s,n)}function Go(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,On=at.current,pe(at,t),pe(yt,yt.current),!0}function op(t,e,s){var n=t.stateNode;if(!n)throw Error(U(169));s?(t=x0(t,e,On),n.__reactInternalMemoizedMergedChildContext=t,ye(yt),ye(at),pe(at,t)):ye(yt),pe(yt,s)}var ps=null,Dl=!1,Kc=!1;function y0(t){ps===null?ps=[t]:ps.push(t)}function u2(t){Dl=!0,y0(t)}function pn(){if(!Kc&&ps!==null){Kc=!0;var t=0,e=ue;try{var s=ps;for(ue=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}ps=null,Dl=!1}catch(i){throw ps!==null&&(ps=ps.slice(t+1)),qx(Yu,pn),i}finally{ue=e,Kc=!1}}return null}var fr=[],pr=0,Ko=null,Yo=0,It=[],Pt=0,Fn=null,gs=1,xs="";function Sn(t,e){fr[pr++]=Yo,fr[pr++]=Ko,Ko=t,Yo=e}function v0(t,e,s){It[Pt++]=gs,It[Pt++]=xs,It[Pt++]=Fn,Fn=t;var n=gs;t=xs;var i=32-Qt(n)-1;n&=~(1<<i),s+=1;var a=32-Qt(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,gs=1<<32-Qt(e)+i|s<<i|n,xs=a+t}else gs=1<<a|s<<i|n,xs=t}function ih(t){t.return!==null&&(Sn(t,1),v0(t,1,0))}function ah(t){for(;t===Ko;)Ko=fr[--pr],fr[pr]=null,Yo=fr[--pr],fr[pr]=null;for(;t===Fn;)Fn=It[--Pt],It[Pt]=null,xs=It[--Pt],It[Pt]=null,gs=It[--Pt],It[Pt]=null}var Et=null,jt=null,be=!1,Ht=null;function b0(t,e){var s=Dt(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function lp(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,jt=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Fn!==null?{id:gs,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Dt(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Et=t,jt=null,!0):!1;default:return!1}}function qd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $d(t){if(be){var e=jt;if(e){var s=e;if(!lp(t,e)){if(qd(t))throw Error(U(418));e=Ws(s.nextSibling);var n=Et;e&&lp(t,e)?b0(n,s):(t.flags=t.flags&-4097|2,be=!1,Et=t)}}else{if(qd(t))throw Error(U(418));t.flags=t.flags&-4097|2,be=!1,Et=t}}}function cp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function oo(t){if(t!==Et)return!1;if(!be)return cp(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fd(t.type,t.memoizedProps)),e&&(e=jt)){if(qd(t))throw w0(),Error(U(418));for(;e;)b0(t,e),e=Ws(e.nextSibling)}if(cp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){jt=Ws(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=Et?Ws(t.stateNode.nextSibling):null;return!0}function w0(){for(var t=jt;t;)t=Ws(t.nextSibling)}function kr(){jt=Et=null,be=!1}function oh(t){Ht===null?Ht=[t]:Ht.push(t)}var h2=Cs.ReactCurrentBatchConfig;function Ni(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(U(309));var n=s.stateNode}if(!n)throw Error(U(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(U(284));if(!s._owner)throw Error(U(290,t))}return t}function lo(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dp(t){var e=t._init;return e(t._payload)}function N0(t){function e(v,x){if(t){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function s(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Js(v,x),v.index=0,v.sibling=null,v}function a(v,x,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,x,_,D){return x===null||x.tag!==6?(x=sd(_,v.mode,D),x.return=v,x):(x=i(x,_),x.return=v,x)}function d(v,x,_,D){var L=_.type;return L===lr?h(v,x,_.props.children,D,_.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Vs&&dp(L)===x.type)?(D=i(x,_.props),D.ref=Ni(v,x,_),D.return=v,D):(D=ko(_.type,_.key,_.props,null,v.mode,D),D.ref=Ni(v,x,_),D.return=v,D)}function u(v,x,_,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=nd(_,v.mode,D),x.return=v,x):(x=i(x,_.children||[]),x.return=v,x)}function h(v,x,_,D,L){return x===null||x.tag!==7?(x=Mn(_,v.mode,D,L),x.return=v,x):(x=i(x,_),x.return=v,x)}function f(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=sd(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ja:return _=ko(x.type,x.key,x.props,null,v.mode,_),_.ref=Ni(v,null,x),_.return=v,_;case or:return x=nd(x,v.mode,_),x.return=v,x;case Vs:var D=x._init;return f(v,D(x._payload),_)}if(Si(x)||xi(x))return x=Mn(x,v.mode,_,null),x.return=v,x;lo(v,x)}return null}function g(v,x,_,D){var L=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:c(v,x,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ja:return _.key===L?d(v,x,_,D):null;case or:return _.key===L?u(v,x,_,D):null;case Vs:return L=_._init,g(v,x,L(_._payload),D)}if(Si(_)||xi(_))return L!==null?null:h(v,x,_,D,null);lo(v,_)}return null}function w(v,x,_,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(_)||null,c(x,v,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ja:return v=v.get(D.key===null?_:D.key)||null,d(x,v,D,L);case or:return v=v.get(D.key===null?_:D.key)||null,u(x,v,D,L);case Vs:var z=D._init;return w(v,x,_,z(D._payload),L)}if(Si(D)||xi(D))return v=v.get(_)||null,h(x,v,D,L,null);lo(x,D)}return null}function A(v,x,_,D){for(var L=null,z=null,j=x,b=x=0,E=null;j!==null&&b<_.length;b++){j.index>b?(E=j,j=null):E=j.sibling;var T=g(v,j,_[b],D);if(T===null){j===null&&(j=E);break}t&&j&&T.alternate===null&&e(v,j),x=a(T,x,b),z===null?L=T:z.sibling=T,z=T,j=E}if(b===_.length)return s(v,j),be&&Sn(v,b),L;if(j===null){for(;b<_.length;b++)j=f(v,_[b],D),j!==null&&(x=a(j,x,b),z===null?L=j:z.sibling=j,z=j);return be&&Sn(v,b),L}for(j=n(v,j);b<_.length;b++)E=w(j,v,b,_[b],D),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?b:E.key),x=a(E,x,b),z===null?L=E:z.sibling=E,z=E);return t&&j.forEach(function(k){return e(v,k)}),be&&Sn(v,b),L}function S(v,x,_,D){var L=xi(_);if(typeof L!="function")throw Error(U(150));if(_=L.call(_),_==null)throw Error(U(151));for(var z=L=null,j=x,b=x=0,E=null,T=_.next();j!==null&&!T.done;b++,T=_.next()){j.index>b?(E=j,j=null):E=j.sibling;var k=g(v,j,T.value,D);if(k===null){j===null&&(j=E);break}t&&j&&k.alternate===null&&e(v,j),x=a(k,x,b),z===null?L=k:z.sibling=k,z=k,j=E}if(T.done)return s(v,j),be&&Sn(v,b),L;if(j===null){for(;!T.done;b++,T=_.next())T=f(v,T.value,D),T!==null&&(x=a(T,x,b),z===null?L=T:z.sibling=T,z=T);return be&&Sn(v,b),L}for(j=n(v,j);!T.done;b++,T=_.next())T=w(j,v,b,T.value,D),T!==null&&(t&&T.alternate!==null&&j.delete(T.key===null?b:T.key),x=a(T,x,b),z===null?L=T:z.sibling=T,z=T);return t&&j.forEach(function(P){return e(v,P)}),be&&Sn(v,b),L}function N(v,x,_,D){if(typeof _=="object"&&_!==null&&_.type===lr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ja:e:{for(var L=_.key,z=x;z!==null;){if(z.key===L){if(L=_.type,L===lr){if(z.tag===7){s(v,z.sibling),x=i(z,_.props.children),x.return=v,v=x;break e}}else if(z.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Vs&&dp(L)===z.type){s(v,z.sibling),x=i(z,_.props),x.ref=Ni(v,z,_),x.return=v,v=x;break e}s(v,z);break}else e(v,z);z=z.sibling}_.type===lr?(x=Mn(_.props.children,v.mode,D,_.key),x.return=v,v=x):(D=ko(_.type,_.key,_.props,null,v.mode,D),D.ref=Ni(v,x,_),D.return=v,v=D)}return o(v);case or:e:{for(z=_.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){s(v,x.sibling),x=i(x,_.children||[]),x.return=v,v=x;break e}else{s(v,x);break}else e(v,x);x=x.sibling}x=nd(_,v.mode,D),x.return=v,v=x}return o(v);case Vs:return z=_._init,N(v,x,z(_._payload),D)}if(Si(_))return A(v,x,_,D);if(xi(_))return S(v,x,_,D);lo(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(s(v,x.sibling),x=i(x,_),x.return=v,v=x):(s(v,x),x=sd(_,v.mode,D),x.return=v,v=x),o(v)):s(v,x)}return N}var Ir=N0(!0),j0=N0(!1),Jo=fn(null),Xo=null,gr=null,lh=null;function ch(){lh=gr=Xo=null}function dh(t){var e=Jo.current;ye(Jo),t._currentValue=e}function Hd(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function _r(t,e){Xo=t,lh=gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Vt(t){var e=t._currentValue;if(lh!==t)if(t={context:t,memoizedValue:e,next:null},gr===null){if(Xo===null)throw Error(U(308));gr=t,Xo.dependencies={lanes:0,firstContext:t}}else gr=gr.next=t;return e}var kn=null;function uh(t){kn===null?kn=[t]:kn.push(t)}function _0(t,e,s,n){var i=e.interleaved;return i===null?(s.next=s,uh(e)):(s.next=i.next,i.next=s),e.interleaved=s,Ns(t,n)}function Ns(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ls=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ns(t,s)}return i=n.interleaved,i===null?(e.next=e,uh(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ns(t,s)}function _o(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Ju(t,s)}}function up(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Zo(t,e,s,n){var i=t.updateQueue;Ls=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,u=d.next;d.next=null,o===null?a=u:o.next=u,o=d;var h=t.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==o&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=d))}if(a!==null){var f=i.baseState;o=0,h=u=d=null,c=a;do{var g=c.lane,w=c.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var A=t,S=c;switch(g=e,w=s,S.tag){case 1:if(A=S.payload,typeof A=="function"){f=A.call(w,f,g);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=S.payload,g=typeof A=="function"?A.call(w,f,g):A,g==null)break e;f=je({},f,g);break e;case 2:Ls=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[c]:g.push(c))}else w={eventTime:w,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=w,d=f):h=h.next=w,o|=g;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(d=f),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Un|=o,t.lanes=o,t.memoizedState=f}}function hp(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(U(191,i));i.call(n)}}}var ka={},ns=fn(ka),aa=fn(ka),oa=fn(ka);function In(t){if(t===ka)throw Error(U(174));return t}function mh(t,e){switch(pe(oa,e),pe(aa,t),pe(ns,ka),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ed(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ed(e,t)}ye(ns),pe(ns,e)}function Pr(){ye(ns),ye(aa),ye(oa)}function S0(t){In(oa.current);var e=In(ns.current),s=Ed(e,t.type);e!==s&&(pe(aa,t),pe(ns,s))}function fh(t){aa.current===t&&(ye(ns),ye(aa))}var we=fn(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yc=[];function ph(){for(var t=0;t<Yc.length;t++)Yc[t]._workInProgressVersionPrimary=null;Yc.length=0}var Eo=Cs.ReactCurrentDispatcher,Jc=Cs.ReactCurrentBatchConfig,zn=0,Ne=null,Oe=null,qe=null,tl=!1,zi=!1,la=0,m2=0;function et(){throw Error(U(321))}function gh(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Gt(t[s],e[s]))return!1;return!0}function xh(t,e,s,n,i,a){if(zn=a,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eo.current=t===null||t.memoizedState===null?x2:y2,t=s(n,i),zi){a=0;do{if(zi=!1,la=0,25<=a)throw Error(U(301));a+=1,qe=Oe=null,e.updateQueue=null,Eo.current=v2,t=s(n,i)}while(zi)}if(Eo.current=sl,e=Oe!==null&&Oe.next!==null,zn=0,qe=Oe=Ne=null,tl=!1,e)throw Error(U(300));return t}function yh(){var t=la!==0;return la=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ne.memoizedState=qe=t:qe=qe.next=t,qe}function Lt(){if(Oe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=qe===null?Ne.memoizedState:qe.next;if(e!==null)qe=e,Oe=t;else{if(t===null)throw Error(U(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},qe===null?Ne.memoizedState=qe=t:qe=qe.next=t}return qe}function ca(t,e){return typeof e=="function"?e(t):e}function Xc(t){var e=Lt(),s=e.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=t;var n=Oe,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var c=o=null,d=null,u=a;do{var h=u.lane;if((zn&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(c=d=f,o=n):d=d.next=f,Ne.lanes|=h,Un|=h}u=u.next}while(u!==null&&u!==a);d===null?o=n:d.next=c,Gt(n,e.memoizedState)||(xt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=d,s.lastRenderedState=n}if(t=s.interleaved,t!==null){i=t;do a=i.lane,Ne.lanes|=a,Un|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Zc(t){var e=Lt(),s=e.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Gt(a,e.memoizedState)||(xt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function C0(){}function T0(t,e){var s=Ne,n=Lt(),i=e(),a=!Gt(n.memoizedState,i);if(a&&(n.memoizedState=i,xt=!0),n=n.queue,vh(I0.bind(null,s,n,t),[t]),n.getSnapshot!==e||a||qe!==null&&qe.memoizedState.tag&1){if(s.flags|=2048,da(9,k0.bind(null,s,n,i,e),void 0,null),$e===null)throw Error(U(349));zn&30||A0(s,e,i)}return i}function A0(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function k0(t,e,s,n){e.value=s,e.getSnapshot=n,P0(e)&&R0(t)}function I0(t,e,s){return s(function(){P0(e)&&R0(t)})}function P0(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Gt(t,s)}catch{return!0}}function R0(t){var e=Ns(t,1);e!==null&&Wt(e,t,1,-1)}function mp(t){var e=Zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},e.queue=t,t=t.dispatch=g2.bind(null,Ne,t),[e.memoizedState,t]}function da(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function D0(){return Lt().memoizedState}function So(t,e,s,n){var i=Zt();Ne.flags|=t,i.memoizedState=da(1|e,s,void 0,n===void 0?null:n)}function Ml(t,e,s,n){var i=Lt();n=n===void 0?null:n;var a=void 0;if(Oe!==null){var o=Oe.memoizedState;if(a=o.destroy,n!==null&&gh(n,o.deps)){i.memoizedState=da(e,s,a,n);return}}Ne.flags|=t,i.memoizedState=da(1|e,s,a,n)}function fp(t,e){return So(8390656,8,t,e)}function vh(t,e){return Ml(2048,8,t,e)}function M0(t,e){return Ml(4,2,t,e)}function V0(t,e){return Ml(4,4,t,e)}function L0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O0(t,e,s){return s=s!=null?s.concat([t]):null,Ml(4,4,L0.bind(null,e,t),s)}function bh(){}function F0(t,e){var s=Lt();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&gh(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function z0(t,e){var s=Lt();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&gh(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function U0(t,e,s){return zn&21?(Gt(s,e)||(s=Qx(),Ne.lanes|=s,Un|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=s)}function f2(t,e){var s=ue;ue=s!==0&&4>s?s:4,t(!0);var n=Jc.transition;Jc.transition={};try{t(!1),e()}finally{ue=s,Jc.transition=n}}function B0(){return Lt().memoizedState}function p2(t,e,s){var n=Ys(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},q0(t))$0(e,s);else if(s=_0(t,e,s,n),s!==null){var i=dt();Wt(s,t,n,i),H0(s,e,n)}}function g2(t,e,s){var n=Ys(t),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(q0(t))$0(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,s);if(i.hasEagerState=!0,i.eagerState=c,Gt(c,o)){var d=e.interleaved;d===null?(i.next=i,uh(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}s=_0(t,e,i,n),s!==null&&(i=dt(),Wt(s,t,n,i),H0(s,e,n))}}function q0(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function $0(t,e){zi=tl=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function H0(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Ju(t,s)}}var sl={readContext:Vt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},x2={readContext:Vt,useCallback:function(t,e){return Zt().memoizedState=[t,e===void 0?null:e],t},useContext:Vt,useEffect:fp,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,So(4194308,4,L0.bind(null,e,t),s)},useLayoutEffect:function(t,e){return So(4194308,4,t,e)},useInsertionEffect:function(t,e){return So(4,2,t,e)},useMemo:function(t,e){var s=Zt();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=Zt();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=p2.bind(null,Ne,t),[n.memoizedState,t]},useRef:function(t){var e=Zt();return t={current:t},e.memoizedState=t},useState:mp,useDebugValue:bh,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=mp(!1),e=t[0];return t=f2.bind(null,t[1]),Zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=Ne,i=Zt();if(be){if(s===void 0)throw Error(U(407));s=s()}else{if(s=e(),$e===null)throw Error(U(349));zn&30||A0(n,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,fp(I0.bind(null,n,a,t),[t]),n.flags|=2048,da(9,k0.bind(null,n,a,s,e),void 0,null),s},useId:function(){var t=Zt(),e=$e.identifierPrefix;if(be){var s=xs,n=gs;s=(n&~(1<<32-Qt(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=la++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=m2++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y2={readContext:Vt,useCallback:F0,useContext:Vt,useEffect:vh,useImperativeHandle:O0,useInsertionEffect:M0,useLayoutEffect:V0,useMemo:z0,useReducer:Xc,useRef:D0,useState:function(){return Xc(ca)},useDebugValue:bh,useDeferredValue:function(t){var e=Lt();return U0(e,Oe.memoizedState,t)},useTransition:function(){var t=Xc(ca)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:T0,useId:B0,unstable_isNewReconciler:!1},v2={readContext:Vt,useCallback:F0,useContext:Vt,useEffect:vh,useImperativeHandle:O0,useInsertionEffect:M0,useLayoutEffect:V0,useMemo:z0,useReducer:Zc,useRef:D0,useState:function(){return Zc(ca)},useDebugValue:bh,useDeferredValue:function(t){var e=Lt();return Oe===null?e.memoizedState=t:U0(e,Oe.memoizedState,t)},useTransition:function(){var t=Zc(ca)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:T0,useId:B0,unstable_isNewReconciler:!1};function qt(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function Qd(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:je({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Vl={isMounted:function(t){return(t=t._reactInternals)?Qn(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=dt(),i=Ys(t),a=ys(n,i);a.payload=e,s!=null&&(a.callback=s),e=Gs(t,a,i),e!==null&&(Wt(e,t,i,n),_o(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=dt(),i=Ys(t),a=ys(n,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Gs(t,a,i),e!==null&&(Wt(e,t,i,n),_o(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=dt(),n=Ys(t),i=ys(s,n);i.tag=2,e!=null&&(i.callback=e),e=Gs(t,i,n),e!==null&&(Wt(e,t,n,s),_o(e,t,n))}};function pp(t,e,s,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!sa(s,n)||!sa(i,a):!0}function Q0(t,e,s){var n=!1,i=an,a=e.contextType;return typeof a=="object"&&a!==null?a=Vt(a):(i=vt(e)?On:at.current,n=e.contextTypes,a=(n=n!=null)?Ar(t,i):an),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function gp(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Vl.enqueueReplaceState(e,e.state,null)}function Wd(t,e,s,n){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},hh(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Vt(a):(a=vt(e)?On:at.current,i.context=Ar(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Qd(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vl.enqueueReplaceState(i,i.state,null),Zo(t,s,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rr(t,e){try{var s="",n=e;do s+=Ww(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ed(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Gd(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function W0(t,e,s){s=ys(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){rl||(rl=!0,ru=n),Gd(t,e)},s}function G0(t,e,s){s=ys(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;s.payload=function(){return n(i)},s.callback=function(){Gd(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Gd(t,e),typeof n!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function xp(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new b2;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(s)||(i.add(s),t=D2.bind(null,t,e,s),e.then(t,t))}function yp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vp(t,e,s,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ys(-1,1),e.tag=2,Gs(s,e,1))),s.lanes|=1),t)}var w2=Cs.ReactCurrentOwner,xt=!1;function ct(t,e,s,n){e.child=t===null?j0(e,null,s,n):Ir(e,t.child,s,n)}function bp(t,e,s,n,i){s=s.render;var a=e.ref;return _r(e,i),n=xh(t,e,s,n,a,i),s=yh(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(be&&s&&ih(e),e.flags|=1,ct(t,e,n,i),e.child)}function wp(t,e,s,n,i){if(t===null){var a=s.type;return typeof a=="function"&&!Th(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,K0(t,e,a,n,i)):(t=ko(s.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:sa,s(o,n)&&t.ref===e.ref)return js(t,e,i)}return e.flags|=1,t=Js(a,n),t.ref=e.ref,t.return=e,e.child=t}function K0(t,e,s,n,i){if(t!==null){var a=t.memoizedProps;if(sa(a,n)&&t.ref===e.ref)if(xt=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,js(t,e,i)}return Kd(t,e,s,n,i)}function Y0(t,e,s){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(yr,Nt),Nt|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(yr,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,pe(yr,Nt),Nt|=n}else a!==null?(n=a.baseLanes|s,e.memoizedState=null):n=s,pe(yr,Nt),Nt|=n;return ct(t,e,i,s),e.child}function J0(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Kd(t,e,s,n,i){var a=vt(s)?On:at.current;return a=Ar(e,a),_r(e,i),s=xh(t,e,s,n,a,i),n=yh(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,js(t,e,i)):(be&&n&&ih(e),e.flags|=1,ct(t,e,s,i),e.child)}function Np(t,e,s,n,i){if(vt(s)){var a=!0;Go(e)}else a=!1;if(_r(e,i),e.stateNode===null)Co(t,e),Q0(e,s,n),Wd(e,s,n,i),n=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var d=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=vt(s)?On:at.current,u=Ar(e,u));var h=s.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||d!==u)&&gp(e,o,n,u),Ls=!1;var g=e.memoizedState;o.state=g,Zo(e,n,o,i),d=e.memoizedState,c!==n||g!==d||yt.current||Ls?(typeof h=="function"&&(Qd(e,s,h,n),d=e.memoizedState),(c=Ls||pp(e,s,c,n,g,d,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,E0(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:qt(e.type,c),o.props=u,f=e.pendingProps,g=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=Vt(d):(d=vt(s)?On:at.current,d=Ar(e,d));var w=s.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||g!==d)&&gp(e,o,n,d),Ls=!1,g=e.memoizedState,o.state=g,Zo(e,n,o,i);var A=e.memoizedState;c!==f||g!==A||yt.current||Ls?(typeof w=="function"&&(Qd(e,s,w,n),A=e.memoizedState),(u=Ls||pp(e,s,u,n,g,A,d)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,A,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,A,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=A),o.props=n,o.state=A,o.context=d,n=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Yd(t,e,s,n,a,i)}function Yd(t,e,s,n,i,a){J0(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&op(e,s,!1),js(t,e,a);n=e.stateNode,w2.current=e;var c=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ir(e,t.child,null,a),e.child=Ir(e,null,c,a)):ct(t,e,c,a),e.memoizedState=n.state,i&&op(e,s,!0),e.child}function X0(t){var e=t.stateNode;e.pendingContext?ap(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ap(t,e.context,!1),mh(t,e.containerInfo)}function jp(t,e,s,n,i){return kr(),oh(i),e.flags|=256,ct(t,e,s,n),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Xd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z0(t,e,s){var n=e.pendingProps,i=we.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(we,i&1),t===null)return $d(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Fl(o,n,0,null),t=Mn(t,n,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Xd(s),e.memoizedState=Jd,t):wh(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return N2(t,e,o,n,c,i,s);if(a){a=n.fallback,o=e.mode,i=t.child,c=i.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=d,e.deletions=null):(n=Js(i,d),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Js(c,a):(a=Mn(a,o,s,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Xd(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=Jd,n}return a=t.child,t=a.sibling,n=Js(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function wh(t,e){return e=Fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function co(t,e,s,n){return n!==null&&oh(n),Ir(e,t.child,null,s),t=wh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N2(t,e,s,n,i,a,o){if(s)return e.flags&256?(e.flags&=-257,n=ed(Error(U(422))),co(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Fl({mode:"visible",children:n.children},i,0,null),a=Mn(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Ir(e,t.child,null,o),e.child.memoizedState=Xd(o),e.memoizedState=Jd,a);if(!(e.mode&1))return co(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(U(419)),n=ed(a,n,void 0),co(t,e,o,n)}if(c=(o&t.childLanes)!==0,xt||c){if(n=$e,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ns(t,i),Wt(n,t,i,-1))}return Ch(),n=ed(Error(U(421))),co(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=M2.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,jt=Ws(i.nextSibling),Et=e,be=!0,Ht=null,t!==null&&(It[Pt++]=gs,It[Pt++]=xs,It[Pt++]=Fn,gs=t.id,xs=t.overflow,Fn=e),e=wh(e,n.children),e.flags|=4096,e)}function _p(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hd(t.return,e,s)}function td(t,e,s,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function ey(t,e,s){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ct(t,e,n.children,s),n=we.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_p(t,s,e);else if(t.tag===19)_p(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pe(we,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&el(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),td(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&el(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}td(e,!0,s,null,a);break;case"together":td(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Co(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Un|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,s=Js(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Js(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function j2(t,e,s){switch(e.tag){case 3:X0(e),kr();break;case 5:S0(e);break;case 1:vt(e.type)&&Go(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;pe(Jo,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pe(we,we.current&1),e.flags|=128,null):s&e.child.childLanes?Z0(t,e,s):(pe(we,we.current&1),t=js(t,e,s),t!==null?t.sibling:null);pe(we,we.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return ey(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(we,we.current),n)break;return null;case 22:case 23:return e.lanes=0,Y0(t,e,s)}return js(t,e,s)}var ty,Zd,sy,ny;ty=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Zd=function(){};sy=function(t,e,s,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,In(ns.current);var a=null;switch(s){case"input":i=wd(t,i),n=wd(t,n),a=[];break;case"select":i=je({},i,{value:void 0}),n=je({},n,{value:void 0}),a=[];break;case"textarea":i=_d(t,i),n=_d(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qo)}Sd(s,n);var o;s=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ki.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var d=n[u];if(c=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&d!==c&&(d!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(a||(a=[]),a.push(u,s)),s=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ki.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&xe("scroll",t),a||c===d||(a=[])):(a=a||[]).push(u,d))}s&&(a=a||[]).push("style",s);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};ny=function(t,e,s,n){s!==n&&(e.flags|=4)};function ji(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function _2(t,e,s){var n=e.pendingProps;switch(ah(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return vt(e.type)&&Wo(),tt(e),null;case 3:return n=e.stateNode,Pr(),ye(yt),ye(at),ph(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(oo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(ou(Ht),Ht=null))),Zd(t,e),tt(e),null;case 5:fh(e);var i=In(oa.current);if(s=e.type,t!==null&&e.stateNode!=null)sy(t,e,s,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(U(166));return tt(e),null}if(t=In(ns.current),oo(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[ts]=e,n[ia]=a,t=(e.mode&1)!==0,s){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(i=0;i<Ti.length;i++)xe(Ti[i],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Rf(n,a),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},xe("invalid",n);break;case"textarea":Mf(n,a),xe("invalid",n)}Sd(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&ao(n.textContent,c,t),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&ao(n.textContent,c,t),i=["children",""+c]):Ki.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&xe("scroll",n)}switch(s){case"input":Xa(n),Df(n,a,!0);break;case"textarea":Xa(n),Vf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Qo)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ix(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[ts]=e,t[ia]=n,ty(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cd(s,n),s){case"dialog":xe("cancel",t),xe("close",t),i=n;break;case"iframe":case"object":case"embed":xe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ti.length;i++)xe(Ti[i],t);i=n;break;case"source":xe("error",t),i=n;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=n;break;case"details":xe("toggle",t),i=n;break;case"input":Rf(t,n),i=wd(t,n),xe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=je({},n,{value:void 0}),xe("invalid",t);break;case"textarea":Mf(t,n),i=_d(t,n),xe("invalid",t);break;default:i=n}Sd(s,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?Dx(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Px(t,d)):a==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Yi(t,d):typeof d=="number"&&Yi(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ki.hasOwnProperty(a)?d!=null&&a==="onScroll"&&xe("scroll",t):d!=null&&Hu(t,a,d,o))}switch(s){case"input":Xa(t),Df(t,n,!1);break;case"textarea":Xa(t),Vf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+rn(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?br(t,!!n.multiple,a,!1):n.defaultValue!=null&&br(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qo)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)ny(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(U(166));if(s=In(oa.current),In(ns.current),oo(e)){if(n=e.stateNode,s=e.memoizedProps,n[ts]=e,(a=n.nodeValue!==s)&&(t=Et,t!==null))switch(t.tag){case 3:ao(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(n.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[ts]=e,e.stateNode=n}return tt(e),null;case 13:if(ye(we),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&jt!==null&&e.mode&1&&!(e.flags&128))w0(),kr(),e.flags|=98560,a=!1;else if(a=oo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(U(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[ts]=e}else kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),a=!1}else Ht!==null&&(ou(Ht),Ht=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Fe===0&&(Fe=3):Ch())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Pr(),Zd(t,e),t===null&&na(e.stateNode.containerInfo),tt(e),null;case 10:return dh(e.type._context),tt(e),null;case 17:return vt(e.type)&&Wo(),tt(e),null;case 19:if(ye(we),a=e.memoizedState,a===null)return tt(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ji(a,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=el(t),o!==null){for(e.flags|=128,ji(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)a=s,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return pe(we,we.current&1|2),e.child}t=t.sibling}a.tail!==null&&ke()>Dr&&(e.flags|=128,n=!0,ji(a,!1),e.lanes=4194304)}else{if(!n)if(t=el(o),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),ji(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!be)return tt(e),null}else 2*ke()-a.renderingStartTime>Dr&&s!==1073741824&&(e.flags|=128,n=!0,ji(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ke(),e.sibling=null,s=we.current,pe(we,n?s&1|2:s&1),e):(tt(e),null);case 22:case 23:return Sh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Nt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function E2(t,e){switch(ah(e),e.tag){case 1:return vt(e.type)&&Wo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pr(),ye(yt),ye(at),ph(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fh(e),null;case 13:if(ye(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(we),null;case 4:return Pr(),null;case 10:return dh(e.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var uo=!1,rt=!1,S2=typeof WeakSet=="function"?WeakSet:Set,W=null;function xr(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Se(t,e,n)}else s.current=null}function eu(t,e,s){try{s()}catch(n){Se(t,e,n)}}var Ep=!1;function C2(t,e){if(Ld=qo,t=l0(),rh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,c=-1,d=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var w;f!==s||i!==0&&f.nodeType!==3||(c=o+i),f!==a||n!==0&&f.nodeType!==3||(d=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)g=f,f=w;for(;;){if(f===t)break t;if(g===s&&++u===i&&(c=o),g===a&&++h===n&&(d=o),(w=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=w}s=c===-1||d===-1?null:{start:c,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(Od={focusedElem:t,selectionRange:s},qo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var S=A.memoizedProps,N=A.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:qt(e.type,S),N);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(D){Se(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return A=Ep,Ep=!1,A}function Ui(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&eu(e,s,a)}i=i.next}while(i!==n)}}function Ll(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function tu(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function ry(t){var e=t.alternate;e!==null&&(t.alternate=null,ry(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ts],delete e[ia],delete e[Ud],delete e[c2],delete e[d2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iy(t){return t.tag===5||t.tag===3||t.tag===4}function Sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function su(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Qo));else if(n!==4&&(t=t.child,t!==null))for(su(t,e,s),t=t.sibling;t!==null;)su(t,e,s),t=t.sibling}function nu(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nu(t,e,s),t=t.sibling;t!==null;)nu(t,e,s),t=t.sibling}var Qe=null,$t=!1;function Ms(t,e,s){for(s=s.child;s!==null;)ay(t,e,s),s=s.sibling}function ay(t,e,s){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Al,s)}catch{}switch(s.tag){case 5:rt||xr(s,e);case 6:var n=Qe,i=$t;Qe=null,Ms(t,e,s),Qe=n,$t=i,Qe!==null&&($t?(t=Qe,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Qe.removeChild(s.stateNode));break;case 18:Qe!==null&&($t?(t=Qe,s=s.stateNode,t.nodeType===8?Gc(t.parentNode,s):t.nodeType===1&&Gc(t,s),ea(t)):Gc(Qe,s.stateNode));break;case 4:n=Qe,i=$t,Qe=s.stateNode.containerInfo,$t=!0,Ms(t,e,s),Qe=n,$t=i;break;case 0:case 11:case 14:case 15:if(!rt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&eu(s,e,o),i=i.next}while(i!==n)}Ms(t,e,s);break;case 1:if(!rt&&(xr(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(c){Se(s,e,c)}Ms(t,e,s);break;case 21:Ms(t,e,s);break;case 22:s.mode&1?(rt=(n=rt)||s.memoizedState!==null,Ms(t,e,s),rt=n):Ms(t,e,s);break;default:Ms(t,e,s)}}function Cp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new S2),e.forEach(function(n){var i=V2.bind(null,t,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Bt(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:Qe=c.stateNode,$t=!1;break e;case 3:Qe=c.stateNode.containerInfo,$t=!0;break e;case 4:Qe=c.stateNode.containerInfo,$t=!0;break e}c=c.return}if(Qe===null)throw Error(U(160));ay(a,o,i),Qe=null,$t=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(u){Se(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oy(e,t),e=e.sibling}function oy(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bt(e,t),Xt(t),n&4){try{Ui(3,t,t.return),Ll(3,t)}catch(S){Se(t,t.return,S)}try{Ui(5,t,t.return)}catch(S){Se(t,t.return,S)}}break;case 1:Bt(e,t),Xt(t),n&512&&s!==null&&xr(s,s.return);break;case 5:if(Bt(e,t),Xt(t),n&512&&s!==null&&xr(s,s.return),t.flags&32){var i=t.stateNode;try{Yi(i,"")}catch(S){Se(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Ax(i,a),Cd(c,o);var u=Cd(c,a);for(o=0;o<d.length;o+=2){var h=d[o],f=d[o+1];h==="style"?Dx(i,f):h==="dangerouslySetInnerHTML"?Px(i,f):h==="children"?Yi(i,f):Hu(i,h,f,u)}switch(c){case"input":Nd(i,a);break;case"textarea":kx(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?br(i,!!a.multiple,w,!1):g!==!!a.multiple&&(a.defaultValue!=null?br(i,!!a.multiple,a.defaultValue,!0):br(i,!!a.multiple,a.multiple?[]:"",!1))}i[ia]=a}catch(S){Se(t,t.return,S)}}break;case 6:if(Bt(e,t),Xt(t),n&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(S){Se(t,t.return,S)}}break;case 3:if(Bt(e,t),Xt(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ea(e.containerInfo)}catch(S){Se(t,t.return,S)}break;case 4:Bt(e,t),Xt(t);break;case 13:Bt(e,t),Xt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_h=ke())),n&4&&Cp(t);break;case 22:if(h=s!==null&&s.memoizedState!==null,t.mode&1?(rt=(u=rt)||h,Bt(e,t),rt=u):Bt(e,t),Xt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(g=W,w=g.child,g.tag){case 0:case 11:case 14:case 15:Ui(4,g,g.return);break;case 1:xr(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){n=g,s=g.return;try{e=n,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(S){Se(n,s,S)}}break;case 5:xr(g,g.return);break;case 22:if(g.memoizedState!==null){Ap(f);continue}}w!==null?(w.return=g,W=w):Ap(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=f.stateNode,d=f.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Rx("display",o))}catch(S){Se(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){Se(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(e,t),Xt(t),n&4&&Cp(t);break;case 21:break;default:Bt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(iy(s)){var n=s;break e}s=s.return}throw Error(U(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Yi(i,""),n.flags&=-33);var a=Sp(t);nu(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Sp(t);su(t,c,o);break;default:throw Error(U(161))}}catch(d){Se(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T2(t,e,s){W=t,ly(t)}function ly(t,e,s){for(var n=(t.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||uo;if(!o){var c=i.alternate,d=c!==null&&c.memoizedState!==null||rt;c=uo;var u=rt;if(uo=o,(rt=d)&&!u)for(W=i;W!==null;)o=W,d=o.child,o.tag===22&&o.memoizedState!==null?kp(i):d!==null?(d.return=o,W=d):kp(i);for(;a!==null;)W=a,ly(a),a=a.sibling;W=i,uo=c,rt=u}Tp(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):Tp(t)}}function Tp(t){for(;W!==null;){var e=W;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||Ll(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!rt)if(s===null)n.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:qt(e.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&hp(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}hp(e,o,s)}break;case 5:var c=e.stateNode;if(s===null&&e.flags&4){s=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ea(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}rt||e.flags&512&&tu(e)}catch(g){Se(e,e.return,g)}}if(e===t){W=null;break}if(s=e.sibling,s!==null){s.return=e.return,W=s;break}W=e.return}}function Ap(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var s=e.sibling;if(s!==null){s.return=e.return,W=s;break}W=e.return}}function kp(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Ll(4,e)}catch(d){Se(e,s,d)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(d){Se(e,i,d)}}var a=e.return;try{tu(e)}catch(d){Se(e,a,d)}break;case 5:var o=e.return;try{tu(e)}catch(d){Se(e,o,d)}}}catch(d){Se(e,e.return,d)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var A2=Math.ceil,nl=Cs.ReactCurrentDispatcher,Nh=Cs.ReactCurrentOwner,Mt=Cs.ReactCurrentBatchConfig,ce=0,$e=null,Re=null,Ye=0,Nt=0,yr=fn(0),Fe=0,ua=null,Un=0,Ol=0,jh=0,Bi=null,pt=null,_h=0,Dr=1/0,fs=null,rl=!1,ru=null,Ks=null,ho=!1,Us=null,il=0,qi=0,iu=null,To=-1,Ao=0;function dt(){return ce&6?ke():To!==-1?To:To=ke()}function Ys(t){return t.mode&1?ce&2&&Ye!==0?Ye&-Ye:h2.transition!==null?(Ao===0&&(Ao=Qx()),Ao):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Zx(t.type)),t):1}function Wt(t,e,s,n){if(50<qi)throw qi=0,iu=null,Error(U(185));Ca(t,s,n),(!(ce&2)||t!==$e)&&(t===$e&&(!(ce&2)&&(Ol|=s),Fe===4&&Fs(t,Ye)),bt(t,n),s===1&&ce===0&&!(e.mode&1)&&(Dr=ke()+500,Dl&&pn()))}function bt(t,e){var s=t.callbackNode;h1(t,e);var n=Bo(t,t===$e?Ye:0);if(n===0)s!==null&&Ff(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&Ff(s),e===1)t.tag===0?u2(Ip.bind(null,t)):y0(Ip.bind(null,t)),o2(function(){!(ce&6)&&pn()}),s=null;else{switch(Wx(n)){case 1:s=Yu;break;case 4:s=$x;break;case 16:s=Uo;break;case 536870912:s=Hx;break;default:s=Uo}s=gy(s,cy.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function cy(t,e){if(To=-1,Ao=0,ce&6)throw Error(U(327));var s=t.callbackNode;if(Er()&&t.callbackNode!==s)return null;var n=Bo(t,t===$e?Ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=al(t,n);else{e=n;var i=ce;ce|=2;var a=uy();($e!==t||Ye!==e)&&(fs=null,Dr=ke()+500,Dn(t,e));do try{P2();break}catch(c){dy(t,c)}while(!0);ch(),nl.current=a,ce=i,Re!==null?e=0:($e=null,Ye=0,e=Fe)}if(e!==0){if(e===2&&(i=Pd(t),i!==0&&(n=i,e=au(t,i))),e===1)throw s=ua,Dn(t,0),Fs(t,n),bt(t,ke()),s;if(e===6)Fs(t,n);else{if(i=t.current.alternate,!(n&30)&&!k2(i)&&(e=al(t,n),e===2&&(a=Pd(t),a!==0&&(n=a,e=au(t,a))),e===1))throw s=ua,Dn(t,0),Fs(t,n),bt(t,ke()),s;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(U(345));case 2:Cn(t,pt,fs);break;case 3:if(Fs(t,n),(n&130023424)===n&&(e=_h+500-ke(),10<e)){if(Bo(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zd(Cn.bind(null,t,pt,fs),e);break}Cn(t,pt,fs);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Qt(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*A2(n/1960))-n,10<n){t.timeoutHandle=zd(Cn.bind(null,t,pt,fs),n);break}Cn(t,pt,fs);break;case 5:Cn(t,pt,fs);break;default:throw Error(U(329))}}}return bt(t,ke()),t.callbackNode===s?cy.bind(null,t):null}function au(t,e){var s=Bi;return t.current.memoizedState.isDehydrated&&(Dn(t,e).flags|=256),t=al(t,e),t!==2&&(e=pt,pt=s,e!==null&&ou(e)),t}function ou(t){pt===null?pt=t:pt.push.apply(pt,t)}function k2(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~jh,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Qt(e),n=1<<s;t[s]=-1,e&=~n}}function Ip(t){if(ce&6)throw Error(U(327));Er();var e=Bo(t,0);if(!(e&1))return bt(t,ke()),null;var s=al(t,e);if(t.tag!==0&&s===2){var n=Pd(t);n!==0&&(e=n,s=au(t,n))}if(s===1)throw s=ua,Dn(t,0),Fs(t,e),bt(t,ke()),s;if(s===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cn(t,pt,fs),bt(t,ke()),null}function Eh(t,e){var s=ce;ce|=1;try{return t(e)}finally{ce=s,ce===0&&(Dr=ke()+500,Dl&&pn())}}function Bn(t){Us!==null&&Us.tag===0&&!(ce&6)&&Er();var e=ce;ce|=1;var s=Mt.transition,n=ue;try{if(Mt.transition=null,ue=1,t)return t()}finally{ue=n,Mt.transition=s,ce=e,!(ce&6)&&pn()}}function Sh(){Nt=yr.current,ye(yr)}function Dn(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,a2(s)),Re!==null)for(s=Re.return;s!==null;){var n=s;switch(ah(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wo();break;case 3:Pr(),ye(yt),ye(at),ph();break;case 5:fh(n);break;case 4:Pr();break;case 13:ye(we);break;case 19:ye(we);break;case 10:dh(n.type._context);break;case 22:case 23:Sh()}s=s.return}if($e=t,Re=t=Js(t.current,null),Ye=Nt=e,Fe=0,ua=null,jh=Ol=Un=0,pt=Bi=null,kn!==null){for(e=0;e<kn.length;e++)if(s=kn[e],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}kn=null}return t}function dy(t,e){do{var s=Re;try{if(ch(),Eo.current=sl,tl){for(var n=Ne.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}tl=!1}if(zn=0,qe=Oe=Ne=null,zi=!1,la=0,Nh.current=null,s===null||s.return===null){Fe=1,ua=e,Re=null;break}e:{var a=t,o=s.return,c=s,d=e;if(e=Ye,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=c,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=yp(o);if(w!==null){w.flags&=-257,vp(w,o,c,a,e),w.mode&1&&xp(a,u,e),e=w,d=u;var A=e.updateQueue;if(A===null){var S=new Set;S.add(d),e.updateQueue=S}else A.add(d);break e}else{if(!(e&1)){xp(a,u,e),Ch();break e}d=Error(U(426))}}else if(be&&c.mode&1){var N=yp(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),vp(N,o,c,a,e),oh(Rr(d,c));break e}}a=d=Rr(d,c),Fe!==4&&(Fe=2),Bi===null?Bi=[a]:Bi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=W0(a,d,e);up(a,v);break e;case 1:c=d;var x=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ks===null||!Ks.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var D=G0(a,c,e);up(a,D);break e}}a=a.return}while(a!==null)}my(s)}catch(L){e=L,Re===s&&s!==null&&(Re=s=s.return);continue}break}while(!0)}function uy(){var t=nl.current;return nl.current=sl,t===null?sl:t}function Ch(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),$e===null||!(Un&268435455)&&!(Ol&268435455)||Fs($e,Ye)}function al(t,e){var s=ce;ce|=2;var n=uy();($e!==t||Ye!==e)&&(fs=null,Dn(t,e));do try{I2();break}catch(i){dy(t,i)}while(!0);if(ch(),ce=s,nl.current=n,Re!==null)throw Error(U(261));return $e=null,Ye=0,Fe}function I2(){for(;Re!==null;)hy(Re)}function P2(){for(;Re!==null&&!n1();)hy(Re)}function hy(t){var e=py(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?my(t):Re=e,Nh.current=null}function my(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=E2(s,e),s!==null){s.flags&=32767,Re=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Re=null;return}}else if(s=_2(s,e,Nt),s!==null){Re=s;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Fe===0&&(Fe=5)}function Cn(t,e,s){var n=ue,i=Mt.transition;try{Mt.transition=null,ue=1,R2(t,e,s,n)}finally{Mt.transition=i,ue=n}return null}function R2(t,e,s,n){do Er();while(Us!==null);if(ce&6)throw Error(U(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(m1(t,a),t===$e&&(Re=$e=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ho||(ho=!0,gy(Uo,function(){return Er(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Mt.transition,Mt.transition=null;var o=ue;ue=1;var c=ce;ce|=4,Nh.current=null,C2(t,s),oy(s,t),Z1(Od),qo=!!Ld,Od=Ld=null,t.current=s,T2(s),r1(),ce=c,ue=o,Mt.transition=a}else t.current=s;if(ho&&(ho=!1,Us=t,il=i),a=t.pendingLanes,a===0&&(Ks=null),o1(s.stateNode),bt(t,ke()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(rl)throw rl=!1,t=ru,ru=null,t;return il&1&&t.tag!==0&&Er(),a=t.pendingLanes,a&1?t===iu?qi++:(qi=0,iu=t):qi=0,pn(),null}function Er(){if(Us!==null){var t=Wx(il),e=Mt.transition,s=ue;try{if(Mt.transition=null,ue=16>t?16:t,Us===null)var n=!1;else{if(t=Us,Us=null,il=0,ce&6)throw Error(U(331));var i=ce;for(ce|=4,W=t.current;W!==null;){var a=W,o=a.child;if(W.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var u=c[d];for(W=u;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Ui(8,h,a)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var g=h.sibling,w=h.return;if(ry(h),h===u){W=null;break}if(g!==null){g.return=w,W=g;break}W=w}}}var A=a.alternate;if(A!==null){var S=A.child;if(S!==null){A.child=null;do{var N=S.sibling;S.sibling=null,S=N}while(S!==null)}}W=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,W=o;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ui(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,W=v;break e}W=a.return}}var x=t.current;for(W=x;W!==null;){o=W;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,W=_;else e:for(o=x;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ll(9,c)}}catch(L){Se(c,c.return,L)}if(c===o){W=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,W=D;break e}W=c.return}}if(ce=i,pn(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Al,t)}catch{}n=!0}return n}finally{ue=s,Mt.transition=e}}return!1}function Pp(t,e,s){e=Rr(s,e),e=W0(t,e,1),t=Gs(t,e,1),e=dt(),t!==null&&(Ca(t,1,e),bt(t,e))}function Se(t,e,s){if(t.tag===3)Pp(t,t,s);else for(;e!==null;){if(e.tag===3){Pp(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ks===null||!Ks.has(n))){t=Rr(s,t),t=G0(e,t,1),e=Gs(e,t,1),t=dt(),e!==null&&(Ca(e,1,t),bt(e,t));break}}e=e.return}}function D2(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&s,$e===t&&(Ye&s)===s&&(Fe===4||Fe===3&&(Ye&130023424)===Ye&&500>ke()-_h?Dn(t,0):jh|=s),bt(t,e)}function fy(t,e){e===0&&(t.mode&1?(e=to,to<<=1,!(to&130023424)&&(to=4194304)):e=1);var s=dt();t=Ns(t,e),t!==null&&(Ca(t,e,s),bt(t,s))}function M2(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),fy(t,s)}function V2(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(e),fy(t,s)}var py;py=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)xt=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return xt=!1,j2(t,e,s);xt=!!(t.flags&131072)}else xt=!1,be&&e.flags&1048576&&v0(e,Yo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Co(t,e),t=e.pendingProps;var i=Ar(e,at.current);_r(e,s),i=xh(null,e,n,t,i,s);var a=yh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(n)?(a=!0,Go(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hh(e),i.updater=Vl,e.stateNode=i,i._reactInternals=e,Wd(e,n,t,s),e=Yd(null,e,n,!0,a,s)):(e.tag=0,be&&a&&ih(e),ct(null,e,i,s),e=e.child),e;case 16:n=e.elementType;e:{switch(Co(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=O2(n),t=qt(n,t),i){case 0:e=Kd(null,e,n,t,s);break e;case 1:e=Np(null,e,n,t,s);break e;case 11:e=bp(null,e,n,t,s);break e;case 14:e=wp(null,e,n,qt(n.type,t),s);break e}throw Error(U(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),Kd(t,e,n,i,s);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),Np(t,e,n,i,s);case 3:e:{if(X0(e),t===null)throw Error(U(387));n=e.pendingProps,a=e.memoizedState,i=a.element,E0(t,e),Zo(e,n,null,s);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Rr(Error(U(423)),e),e=jp(t,e,n,s,i);break e}else if(n!==i){i=Rr(Error(U(424)),e),e=jp(t,e,n,s,i);break e}else for(jt=Ws(e.stateNode.containerInfo.firstChild),Et=e,be=!0,Ht=null,s=j0(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(kr(),n===i){e=js(t,e,s);break e}ct(t,e,n,s)}e=e.child}return e;case 5:return S0(e),t===null&&$d(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Fd(n,i)?o=null:a!==null&&Fd(n,a)&&(e.flags|=32),J0(t,e),ct(t,e,o,s),e.child;case 6:return t===null&&$d(e),null;case 13:return Z0(t,e,s);case 4:return mh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ir(e,null,n,s):ct(t,e,n,s),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),bp(t,e,n,i,s);case 7:return ct(t,e,e.pendingProps,s),e.child;case 8:return ct(t,e,e.pendingProps.children,s),e.child;case 12:return ct(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,pe(Jo,n._currentValue),n._currentValue=o,a!==null)if(Gt(a.value,o)){if(a.children===i.children&&!yt.current){e=js(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=ys(-1,s&-s),d.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}a.lanes|=s,d=a.alternate,d!==null&&(d.lanes|=s),Hd(a.return,s,e),c.lanes|=s;break}d=d.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(U(341));o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Hd(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ct(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,_r(e,s),i=Vt(i),n=n(i),e.flags|=1,ct(t,e,n,s),e.child;case 14:return n=e.type,i=qt(n,e.pendingProps),i=qt(n.type,i),wp(t,e,n,i,s);case 15:return K0(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qt(n,i),Co(t,e),e.tag=1,vt(n)?(t=!0,Go(e)):t=!1,_r(e,s),Q0(e,n,i),Wd(e,n,i,s),Yd(null,e,n,!0,t,s);case 19:return ey(t,e,s);case 22:return Y0(t,e,s)}throw Error(U(156,e.tag))};function gy(t,e){return qx(t,e)}function L2(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,s,n){return new L2(t,e,s,n)}function Th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O2(t){if(typeof t=="function")return Th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wu)return 11;if(t===Gu)return 14}return 2}function Js(t,e){var s=t.alternate;return s===null?(s=Dt(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function ko(t,e,s,n,i,a){var o=2;if(n=t,typeof t=="function")Th(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lr:return Mn(s.children,i,a,e);case Qu:o=8,i|=8;break;case xd:return t=Dt(12,s,e,i|2),t.elementType=xd,t.lanes=a,t;case yd:return t=Dt(13,s,e,i),t.elementType=yd,t.lanes=a,t;case vd:return t=Dt(19,s,e,i),t.elementType=vd,t.lanes=a,t;case Sx:return Fl(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _x:o=10;break e;case Ex:o=9;break e;case Wu:o=11;break e;case Gu:o=14;break e;case Vs:o=16,n=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Dt(o,s,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Mn(t,e,s,n){return t=Dt(7,t,n,e),t.lanes=s,t}function Fl(t,e,s,n){return t=Dt(22,t,n,e),t.elementType=Sx,t.lanes=s,t.stateNode={isHidden:!1},t}function sd(t,e,s){return t=Dt(6,t,null,e),t.lanes=s,t}function nd(t,e,s){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F2(t,e,s,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ah(t,e,s,n,i,a,o,c,d){return t=new F2(t,e,s,c,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Dt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(a),t}function z2(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function xy(t){if(!t)return an;t=t._reactInternals;e:{if(Qn(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var s=t.type;if(vt(s))return x0(t,s,e)}return e}function yy(t,e,s,n,i,a,o,c,d){return t=Ah(s,n,!0,t,i,a,o,c,d),t.context=xy(null),s=t.current,n=dt(),i=Ys(s),a=ys(n,i),a.callback=e??null,Gs(s,a,i),t.current.lanes=i,Ca(t,i,n),bt(t,n),t}function zl(t,e,s,n){var i=e.current,a=dt(),o=Ys(i);return s=xy(s),e.context===null?e.context=s:e.pendingContext=s,e=ys(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gs(i,e,o),t!==null&&(Wt(t,i,o,a),_o(t,i,o)),o}function ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function kh(t,e){Rp(t,e),(t=t.alternate)&&Rp(t,e)}function U2(){return null}var vy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ih(t){this._internalRoot=t}Ul.prototype.render=Ih.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));zl(t,e,null,null)};Ul.prototype.unmount=Ih.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bn(function(){zl(null,t,null,null)}),e[ws]=null}};function Ul(t){this._internalRoot=t}Ul.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yx();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Os.length&&e!==0&&e<Os[s].priority;s++);Os.splice(s,0,t),s===0&&Xx(t)}};function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function B2(t,e,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=ol(o);a.call(u)}}var o=yy(e,n,t,0,null,!1,!1,"",Dp);return t._reactRootContainer=o,t[ws]=o.current,na(t.nodeType===8?t.parentNode:t),Bn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var u=ol(d);c.call(u)}}var d=Ah(t,0,!1,null,null,!1,!1,"",Dp);return t._reactRootContainer=d,t[ws]=d.current,na(t.nodeType===8?t.parentNode:t),Bn(function(){zl(e,d,s,n)}),d}function ql(t,e,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var d=ol(o);c.call(d)}}zl(e,o,t,i)}else o=B2(s,e,t,i,n);return ol(o)}Gx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Ci(e.pendingLanes);s!==0&&(Ju(e,s|1),bt(e,ke()),!(ce&6)&&(Dr=ke()+500,pn()))}break;case 13:Bn(function(){var n=Ns(t,1);if(n!==null){var i=dt();Wt(n,t,1,i)}}),kh(t,1)}};Xu=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var s=dt();Wt(e,t,134217728,s)}kh(t,134217728)}};Kx=function(t){if(t.tag===13){var e=Ys(t),s=Ns(t,e);if(s!==null){var n=dt();Wt(s,t,e,n)}kh(t,e)}};Yx=function(){return ue};Jx=function(t,e){var s=ue;try{return ue=t,e()}finally{ue=s}};Ad=function(t,e,s){switch(e){case"input":if(Nd(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var i=Rl(n);if(!i)throw Error(U(90));Tx(n),Nd(n,i)}}}break;case"textarea":kx(t,s);break;case"select":e=s.value,e!=null&&br(t,!!s.multiple,e,!1)}};Lx=Eh;Ox=Bn;var q2={usingClientEntryPoint:!1,Events:[Aa,hr,Rl,Mx,Vx,Eh]},_i={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ux(t),t===null?null:t.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||U2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{Al=mo.inject($2),ss=mo}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2;Tt.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(e))throw Error(U(200));return z2(t,e,null,s)};Tt.createRoot=function(t,e){if(!Ph(t))throw Error(U(299));var s=!1,n="",i=vy;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ah(t,1,!1,null,null,s,!1,n,i),t[ws]=e.current,na(t.nodeType===8?t.parentNode:t),new Ih(e)};Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Ux(e),t=t===null?null:t.stateNode,t};Tt.flushSync=function(t){return Bn(t)};Tt.hydrate=function(t,e,s){if(!Bl(e))throw Error(U(200));return ql(null,t,e,!0,s)};Tt.hydrateRoot=function(t,e,s){if(!Ph(t))throw Error(U(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=vy;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=yy(e,null,t,1,s??null,i,!1,a,o),t[ws]=e.current,na(t),n)for(t=0;t<n.length;t++)s=n[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new Ul(e)};Tt.render=function(t,e,s){if(!Bl(e))throw Error(U(200));return ql(null,t,e,!1,s)};Tt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(U(40));return t._reactRootContainer?(Bn(function(){ql(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};Tt.unstable_batchedUpdates=Eh;Tt.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!Bl(s))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return ql(t,e,s,!1,n)};Tt.version="18.3.1-next-f1338f8080-20240426";function by(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(by)}catch(t){console.error(t)}}by(),bx.exports=Tt;var H2=bx.exports,Mp=H2;pd.createRoot=Mp.createRoot,pd.hydrateRoot=Mp.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ha.apply(this,arguments)}var Bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bs||(Bs={}));const Vp="popstate";function Q2(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:c}=n.location;return lu("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:ll(i)}return G2(e,s,null,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W2(){return Math.random().toString(36).substr(2,8)}function Lp(t,e){return{usr:t.state,key:t.key,idx:e}}function lu(t,e,s,n){return s===void 0&&(s=null),ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qr(e):e,{state:s,key:e&&e.key||n||W2()})}function ll(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qr(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function G2(t,e,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,c=Bs.Pop,d=null,u=h();u==null&&(u=0,o.replaceState(ha({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){c=Bs.Pop;let N=h(),v=N==null?null:N-u;u=N,d&&d({action:c,location:S.location,delta:v})}function g(N,v){c=Bs.Push;let x=lu(S.location,N,v);u=h()+1;let _=Lp(x,u),D=S.createHref(x);try{o.pushState(_,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}a&&d&&d({action:c,location:S.location,delta:1})}function w(N,v){c=Bs.Replace;let x=lu(S.location,N,v);u=h();let _=Lp(x,u),D=S.createHref(x);o.replaceState(_,"",D),a&&d&&d({action:c,location:S.location,delta:0})}function A(N){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof N=="string"?N:ll(N);return x=x.replace(/ $/,"%20"),Ie(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let S={get action(){return c},get location(){return t(i,o)},listen(N){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Vp,f),d=N,()=>{i.removeEventListener(Vp,f),d=null}},createHref(N){return e(i,N)},createURL:A,encodeLocation(N){let v=A(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:w,go(N){return o.go(N)}};return S}var Op;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Op||(Op={}));function K2(t,e,s){return s===void 0&&(s="/"),Y2(t,e,s)}function Y2(t,e,s,n){let i=typeof e=="string"?Qr(e):e,a=Dh(i.pathname||"/",s);if(a==null)return null;let o=wy(t);J2(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=cN(a);c=aN(o[d],u)}return c}function wy(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Ie(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let u=Xs([n,d.relativePath]),h=s.concat(d);a.children&&a.children.length>0&&(Ie(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wy(a.children,e,h,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:rN(u,a.index),routesMeta:h})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of Ny(a.path))i(a,o,d)}),e}function Ny(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Ny(n.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function J2(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:iN(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const X2=/^:[\w-]+$/,Z2=3,eN=2,tN=1,sN=10,nN=-2,Fp=t=>t==="*";function rN(t,e){let s=t.split("/"),n=s.length;return s.some(Fp)&&(n+=nN),e&&(n+=eN),s.filter(i=>!Fp(i)).reduce((i,a)=>i+(X2.test(a)?Z2:a===""?tN:sN),n)}function iN(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function aN(t,e,s){let{routesMeta:n}=t,i={},a="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],u=c===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=oN({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Xs([a,f.pathname]),pathnameBase:fN(Xs([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=Xs([a,f.pathnameBase]))}return o}function oN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=lN(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((u,h,f)=>{let{paramName:g,isOptional:w}=h;if(g==="*"){let S=c[f]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const A=c[f];return w&&!A?u[g]=void 0:u[g]=(A||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function lN(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Rh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function cN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}const dN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uN=t=>dN.test(t);function hN(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:i=""}=typeof t=="string"?Qr(t):t,a;if(s)if(uN(s))a=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),Rh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?a=zp(s.substring(1),"/"):a=zp(s,e)}else a=e;return{pathname:a,search:pN(n),hash:gN(i)}}function zp(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function rd(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mN(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Mh(t,e){let s=mN(t);return e?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Vh(t,e,s,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Qr(t):(i=ha({},t),Ie(!i.pathname||!i.pathname.includes("?"),rd("?","pathname","search",i)),Ie(!i.pathname||!i.pathname.includes("#"),rd("#","pathname","hash",i)),Ie(!i.search||!i.search.includes("#"),rd("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=s;else{let f=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=hN(i,c),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),fN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jy=["post","put","patch","delete"];new Set(jy);const yN=["get",...jy];new Set(yN);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ma.apply(this,arguments)}const Lh=I.createContext(null),vN=I.createContext(null),gn=I.createContext(null),$l=I.createContext(null),hs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),_y=I.createContext(null);function bN(t,e){let{relative:s}=e===void 0?{}:e;Wr()||Ie(!1);let{basename:n,navigator:i}=I.useContext(gn),{hash:a,pathname:o,search:c}=Sy(t,{relative:s}),d=o;return n!=="/"&&(d=o==="/"?n:Xs([n,o])),i.createHref({pathname:d,search:c,hash:a})}function Wr(){return I.useContext($l)!=null}function Wn(){return Wr()||Ie(!1),I.useContext($l).location}function Ey(t){I.useContext(gn).static||I.useLayoutEffect(t)}function Ce(){let{isDataRoute:t}=I.useContext(hs);return t?MN():wN()}function wN(){Wr()||Ie(!1);let t=I.useContext(Lh),{basename:e,future:s,navigator:n}=I.useContext(gn),{matches:i}=I.useContext(hs),{pathname:a}=Wn(),o=JSON.stringify(Mh(i,s.v7_relativeSplatPath)),c=I.useRef(!1);return Ey(()=>{c.current=!0}),I.useCallback(function(u,h){if(h===void 0&&(h={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let f=Vh(u,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xs([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,a,t])}const NN=I.createContext(null);function jN(t){let e=I.useContext(hs).outlet;return e&&I.createElement(NN.Provider,{value:t},e)}function Ft(){let{matches:t}=I.useContext(hs),e=t[t.length-1];return e?e.params:{}}function Sy(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=I.useContext(gn),{matches:i}=I.useContext(hs),{pathname:a}=Wn(),o=JSON.stringify(Mh(i,n.v7_relativeSplatPath));return I.useMemo(()=>Vh(t,JSON.parse(o),a,s==="path"),[t,o,a,s])}function _N(t,e){return EN(t,e)}function EN(t,e,s,n){Wr()||Ie(!1);let{navigator:i}=I.useContext(gn),{matches:a}=I.useContext(hs),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=Wn(),h;if(e){var f;let N=typeof e=="string"?Qr(e):e;d==="/"||(f=N.pathname)!=null&&f.startsWith(d)||Ie(!1),h=N}else h=u;let g=h.pathname||"/",w=g;if(d!=="/"){let N=d.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=K2(t,{pathname:w}),S=kN(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Xs([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Xs([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,s,n);return e&&S?I.createElement($l.Provider,{value:{location:ma({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Bs.Pop}},S):S}function SN(){let t=DN(),e=xN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),s?I.createElement("pre",{style:i},s):null,null)}const CN=I.createElement(SN,null);class TN extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?I.createElement(hs.Provider,{value:this.props.routeContext},I.createElement(_y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AN(t){let{routeContext:e,match:s,children:n}=t,i=I.useContext(Lh);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),I.createElement(hs.Provider,{value:e},n)}function kN(t,e,s,n){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var a;if(!s)return null;if(s.errors)t=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,c=(i=s)==null?void 0:i.errors;if(c!=null){let h=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);h>=0||Ie(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:w}=s,A=f.route.loader&&g[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||A){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let w,A=!1,S=null,N=null;s&&(w=c&&f.route.id?c[f.route.id]:void 0,S=f.route.errorElement||CN,d&&(u<0&&g===0?(VN("route-fallback"),A=!0,N=null):u===g&&(A=!0,N=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,g+1)),x=()=>{let _;return w?_=S:A?_=N:f.route.Component?_=I.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,I.createElement(AN,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:s!=null},children:_})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?I.createElement(TN,{location:s.location,revalidation:s.revalidation,component:S,error:w,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var Cy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cy||{}),Ty=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ty||{});function IN(t){let e=I.useContext(Lh);return e||Ie(!1),e}function PN(t){let e=I.useContext(vN);return e||Ie(!1),e}function RN(t){let e=I.useContext(hs);return e||Ie(!1),e}function Ay(t){let e=RN(),s=e.matches[e.matches.length-1];return s.route.id||Ie(!1),s.route.id}function DN(){var t;let e=I.useContext(_y),s=PN(),n=Ay();return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function MN(){let{router:t}=IN(Cy.UseNavigateStable),e=Ay(Ty.UseNavigateStable),s=I.useRef(!1);return Ey(()=>{s.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ma({fromRouteId:e},a)))},[t,e])}const Up={};function VN(t,e,s){Up[t]||(Up[t]=!0)}function LN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ON(t){let{to:e,replace:s,state:n,relative:i}=t;Wr()||Ie(!1);let{future:a,static:o}=I.useContext(gn),{matches:c}=I.useContext(hs),{pathname:d}=Wn(),u=Ce(),h=Vh(e,Mh(c,a.v7_relativeSplatPath),d,i==="path"),f=JSON.stringify(h);return I.useEffect(()=>u(JSON.parse(f),{replace:s,state:n,relative:i}),[u,f,i,s,n]),null}function FN(t){return jN(t.context)}function K(t){Ie(!1)}function zN(t){let{basename:e="/",children:s=null,location:n,navigationType:i=Bs.Pop,navigator:a,static:o=!1,future:c}=t;Wr()&&Ie(!1);let d=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:d,navigator:a,static:o,future:ma({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof n=="string"&&(n=Qr(n));let{pathname:h="/",search:f="",hash:g="",state:w=null,key:A="default"}=n,S=I.useMemo(()=>{let N=Dh(h,d);return N==null?null:{location:{pathname:N,search:f,hash:g,state:w,key:A},navigationType:i}},[d,h,f,g,w,A,i]);return S==null?null:I.createElement(gn.Provider,{value:u},I.createElement($l.Provider,{children:s,value:S}))}function UN(t){let{children:e,location:s}=t;return _N(cu(e),s)}new Promise(()=>{});function cu(t,e){e===void 0&&(e=[]);let s=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let a=[...e,i];if(n.type===I.Fragment){s.push.apply(s,cu(n.props.children,a));return}n.type!==K&&Ie(!1),!n.props.index||!n.props.children||Ie(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=cu(n.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},du.apply(this,arguments)}function BN(t,e){if(t==null)return{};var s={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}function qN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $N(t,e){return t.button===0&&(!e||e==="_self")&&!qN(t)}const HN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QN="6";try{window.__reactRouterVersion=QN}catch{}const WN="startTransition",Bp=Dw[WN];function GN(t){let{basename:e,children:s,future:n,window:i}=t,a=I.useRef();a.current==null&&(a.current=Q2({window:i,v5Compat:!0}));let o=a.current,[c,d]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=I.useCallback(f=>{u&&Bp?Bp(()=>d(f)):d(f)},[d,u]);return I.useLayoutEffect(()=>o.listen(h),[o,h]),I.useEffect(()=>LN(n),[n]),I.createElement(zN,{basename:e,children:s,location:c.location,navigationType:c.action,navigator:o,future:n})}const KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=I.forwardRef(function(e,s){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:c,target:d,to:u,preventScrollReset:h,viewTransition:f}=e,g=BN(e,HN),{basename:w}=I.useContext(gn),A,S=!1;if(typeof u=="string"&&YN.test(u)&&(A=u,KN))try{let _=new URL(window.location.href),D=u.startsWith("//")?new URL(_.protocol+u):new URL(u),L=Dh(D.pathname,w);D.origin===_.origin&&L!=null?u=L+D.search+D.hash:S=!0}catch{}let N=bN(u,{relative:i}),v=JN(u,{replace:o,state:c,target:d,preventScrollReset:h,relative:i,viewTransition:f});function x(_){n&&n(_),_.defaultPrevented||v(_)}return I.createElement("a",du({},g,{href:A||N,onClick:S||a?n:x,ref:s,target:d}))});var qp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qp||(qp={}));var $p;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($p||($p={}));function JN(t,e){let{target:s,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:c}=e===void 0?{}:e,d=Ce(),u=Wn(),h=Sy(t,{relative:o});return I.useCallback(f=>{if($N(f,s)){f.preventDefault();let g=n!==void 0?n:ll(u)===ll(h);d(t,{replace:g,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[u,d,h,n,i,s,t,a,o,c])}const ky=I.createContext({theme:"light",toggleTheme:()=>{}}),XN=({children:t})=>{const[e,s]=I.useState("light");I.useEffect(()=>{const i=localStorage.getItem("theme");i&&["light","dark","colorful"].includes(i)?(s(i),document.documentElement.setAttribute("data-theme",i)):document.documentElement.setAttribute("data-theme","light")},[]),I.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},[e]);const n=i=>{s(i||(e==="light"?"dark":e==="dark"?"colorful":"light"))};return r.jsx(ky.Provider,{value:{theme:e,toggleTheme:n},children:t})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const s=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:d,...u},h)=>I.createElement("svg",{ref:h,...ZN,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${ej(t)}`,c].join(" "),...u},[...e.map(([f,g])=>I.createElement(f,g)),...Array.isArray(d)?d:[d]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=G("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=G("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=G("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=G("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=G("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=G("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=G("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=G("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=G("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=G("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=G("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=G("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=G("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=G("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=G("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=G("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=G("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=G("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=G("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=G("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=G("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=G("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=G("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=G("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=G("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=G("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=G("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=G("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),wj=()=>{const t=Ce(),[e,s]=I.useState(""),[n,i]=I.useState(""),a=o=>{o.preventDefault();let c="Student";const d=e.toLowerCase();d.includes("admin")?c="Admin":d.includes("principal")?c="Principal":(d.includes("teacher")||d==="hari@achariya.org"||d==="meena@achariya.org"||d==="kumar@achariya.org"||d==="lakshmi@achariya.org")&&(c="Teacher"),localStorage.setItem("user",JSON.stringify({email:e,name:e.split("@")[0],selectedRole:c})),t({Student:"/student/dashboard",Teacher:"/teacher/dashboard",Principal:"/principal/dashboard",Admin:"/admin/dashboard"}[c])};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex flex-col items-center justify-center p-4",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsx("div",{className:"w-40 h-40 mx-auto mb-4 flex items-center justify-center",children:r.jsx("img",{src:"/achariya-logo.jpg",alt:"Achariya Logo",className:"w-full h-full object-contain"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Achariya Learning Portal"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Unified Learning Management System"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Sign In"}),r.jsxs("form",{onSubmit:a,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"email",value:e,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@achariya.org",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(My,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"password",value:n,onChange:o=>i(o.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg",children:"Sign In"})]}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-blue-800 mb-2",children:r.jsx("strong",{children:"Demo Mode - Any email/password works!"})}),r.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[r.jsx("li",{children:" Try: student@achariya.org"}),r.jsx("li",{children:" Try: teacher@achariya.org"}),r.jsx("li",{children:" Try: principal@achariya.org"}),r.jsx("li",{children:" Try: admin@achariya.org"})]})]})]}),r.jsx("div",{className:"mt-8 text-center text-gray-500 text-sm",children:r.jsx("p",{children:" 2025 Achariya Group of Institutions"})})]})},Nj=()=>{const t=Ce(),e=n=>{const i=JSON.parse(localStorage.getItem("user")||"{}");i.selectedRole=n,localStorage.setItem("user",JSON.stringify(i)),t({Student:"/student/dashboard",Teacher:"/teacher/dashboard",Principal:"/principal/dashboard",Admin:"/admin/dashboard"}[n])},s=[{name:"Student",icon:Ry,description:"Access your courses, quizzes, and wallet",color:"bg-blue-600 hover:bg-blue-700"},{name:"Teacher",icon:pa,description:"Manage classes, track student progress",color:"bg-green-600 hover:bg-green-700"},{name:"Principal",icon:Ot,description:"View school-wide analytics and reports",color:"bg-purple-600 hover:bg-purple-700"},{name:"Admin",icon:zh,description:"Manage courses, users, and system config",color:"bg-gray-700 hover:bg-gray-800"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex flex-col items-center justify-center p-4",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Select Your Role"}),r.jsx("p",{className:"text-gray-600",children:"Choose how you want to access the portal"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl w-full",children:s.map(n=>r.jsxs("button",{onClick:()=>e(n.name),className:`${n.color} text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all transform hover:scale-105`,children:[r.jsx(n.icon,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.name}),r.jsx("p",{className:"text-sm opacity-90",children:n.description})]},n.name))}),r.jsx("button",{onClick:()=>t("/"),className:"mt-8 text-gray-600 hover:text-gray-800 text-sm",children:" Back to Login"})]})},jj=()=>{};var Kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},_j=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const i=t[s++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[s++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[s++],o=t[s++],c=t[s++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[s++],o=t[s++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,u=d?t[i+2]:0,h=a>>2,f=(a&3)<<4|c>>4;let g=(c&15)<<2|u>>6,w=u&63;d||(w=64,o||(g=64)),n.push(s[h],s[f],s[g],s[w])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($y(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_j(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=s[t.charAt(i++)],c=i<t.length?s[t.charAt(i)]:0;++i;const u=i<t.length?s[t.charAt(i)]:64;++i;const f=i<t.length?s[t.charAt(i)]:64;if(++i,a==null||c==null||u==null||f==null)throw new Ej;const g=a<<2|c>>4;if(n.push(g),u!==64){const w=c<<4&240|u>>2;if(n.push(w),f!==64){const A=u<<6&192|f;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ej extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sj=function(t){const e=$y(t);return Hy.encodeByteArray(e,!0)},ml=function(t){return Sj(t).replace(/\./g,"")},Cj=function(t){try{return Hy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=()=>Tj().__FIREBASE_DEFAULTS__,kj=()=>{if(typeof process>"u"||typeof Kp>"u")return;const t=Kp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ij=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cj(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return jj()||Aj()||kj()||Ij()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pj=t=>{var e,s;return(s=(e=Bh())==null?void 0:e.emulatorHosts)==null?void 0:s[t]},Rj=t=>{const e=Pj(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),n]:[e.substring(0,s),n]},Qy=()=>{var t;return(t=Bh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ml(JSON.stringify(s)),ml(JSON.stringify(o)),""].join(".")}const $i={};function Lj(){const t={prod:[],emulator:[]};for(const e of Object.keys($i))$i[e]?t.emulator.push(e):t.prod.push(e);return t}function Oj(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let Yp=!1;function Fj(t,e){if(typeof window>"u"||typeof document>"u"||!qh(window.location.host)||$i[t]===e||$i[t]||Yp)return;$i[t]=e;function s(g){return`__firebase__banner__${g}`}const n="__firebase__banner",a=Lj().prod.length>0;function o(){const g=document.getElementById(n);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function d(g,w){g.setAttribute("width","24"),g.setAttribute("id",w),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Yp=!0,o()},g}function h(g,w){g.setAttribute("id",w),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Oj(n),w=s("text"),A=document.getElementById(w)||document.createElement("span"),S=s("learnmore"),N=document.getElementById(S)||document.createElement("a"),v=s("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const _=g.element;c(_),h(N,S);const D=u();d(x,v),_.append(x,A,N,D),document.body.appendChild(_)}a?(A.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uj(){var e;const t=(e=Bh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bj(){return!Uj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qj(){try{return typeof indexedDB=="object"}catch{return!1}}function $j(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="FirebaseError";class Gr extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=Hj,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wy.prototype.create)}}class Wy{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Qj(a,n):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,c,n)}}function Qj(t,e){return t.replace(Wj,(s,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Wj=/\{\$([^}]+)}/g;function fl(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const i of s){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(Jp(a)&&Jp(o)){if(!fl(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!s.includes(i))return!1;return!0}function Jp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new Dj;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yj(e))try{this.getOrInitializeService({instanceIdentifier:Tn})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Tn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tn){return this.instances.has(e)}getOptions(e=Tn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&o.resolve(i)}return i}onInit(e,s){const n=this.normalizeInstanceIdentifier(s),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const i of n)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Kj(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Tn){return this.component?this.component.multipleInstances?e:Tn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kj(t){return t===Tn?void 0:t}function Yj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Gj(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const Xj={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},Zj=le.INFO,e_={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},t_=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=e_[e];if(i)console[i](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gy{constructor(e){this.name=e,this._logLevel=Zj,this._logHandler=t_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const s_=(t,e)=>e.some(s=>t instanceof s);let Xp,Zp;function n_(){return Xp||(Xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r_(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ky=new WeakMap,fu=new WeakMap,Yy=new WeakMap,id=new WeakMap,$h=new WeakMap;function i_(t){const e=new Promise((s,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{s(Zs(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(s=>{s instanceof IDBCursor&&Ky.set(s,t)}).catch(()=>{}),$h.set(e,t),e}function a_(t){if(fu.has(t))return;const e=new Promise((s,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{s(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});fu.set(t,e)}let pu={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return fu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yy.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Zs(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o_(t){pu=t(pu)}function l_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(ad(this),e,...s);return Yy.set(n,e.sort?e.sort():[e]),Zs(n)}:r_().includes(t)?function(...e){return t.apply(ad(this),e),Zs(Ky.get(this))}:function(...e){return Zs(t.apply(ad(this),e))}}function c_(t){return typeof t=="function"?l_(t):(t instanceof IDBTransaction&&a_(t),s_(t,n_())?new Proxy(t,pu):t)}function Zs(t){if(t instanceof IDBRequest)return i_(t);if(id.has(t))return id.get(t);const e=c_(t);return e!==t&&(id.set(t,e),$h.set(e,t)),e}const ad=t=>$h.get(t);function d_(t,e,{blocked:s,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=Zs(o);return n&&o.addEventListener("upgradeneeded",d=>{n(Zs(o.result),d.oldVersion,d.newVersion,Zs(o.transaction),d)}),s&&o.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const u_=["get","getKey","getAll","getAllKeys","count"],h_=["put","add","delete","clear"],od=new Map;function eg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(od.get(e))return od.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,i=h_.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(i||u_.includes(s)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let u=d.store;return n&&(u=u.index(c.shift())),(await Promise.all([u[s](...c),i&&d.done]))[0]};return od.set(e,a),a}o_(t=>({...t,get:(e,s,n)=>eg(e,s)||t.get(e,s,n),has:(e,s)=>!!eg(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(f_(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function f_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gu="@firebase/app",tg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Gy("@firebase/app"),p_="@firebase/app-compat",g_="@firebase/analytics-compat",x_="@firebase/analytics",y_="@firebase/app-check-compat",v_="@firebase/app-check",b_="@firebase/auth",w_="@firebase/auth-compat",N_="@firebase/database",j_="@firebase/data-connect",__="@firebase/database-compat",E_="@firebase/functions",S_="@firebase/functions-compat",C_="@firebase/installations",T_="@firebase/installations-compat",A_="@firebase/messaging",k_="@firebase/messaging-compat",I_="@firebase/performance",P_="@firebase/performance-compat",R_="@firebase/remote-config",D_="@firebase/remote-config-compat",M_="@firebase/storage",V_="@firebase/storage-compat",L_="@firebase/firestore",O_="@firebase/ai",F_="@firebase/firestore-compat",z_="firebase",U_="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]",B_={[gu]:"fire-core",[p_]:"fire-core-compat",[x_]:"fire-analytics",[g_]:"fire-analytics-compat",[v_]:"fire-app-check",[y_]:"fire-app-check-compat",[b_]:"fire-auth",[w_]:"fire-auth-compat",[N_]:"fire-rtdb",[j_]:"fire-data-connect",[__]:"fire-rtdb-compat",[E_]:"fire-fn",[S_]:"fire-fn-compat",[C_]:"fire-iid",[T_]:"fire-iid-compat",[A_]:"fire-fcm",[k_]:"fire-fcm-compat",[I_]:"fire-perf",[P_]:"fire-perf-compat",[R_]:"fire-rc",[D_]:"fire-rc-compat",[M_]:"fire-gcs",[V_]:"fire-gcs-compat",[L_]:"fire-fst",[F_]:"fire-fst-compat",[O_]:"fire-vertex","fire-js":"fire-js",[z_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,q_=new Map,yu=new Map;function sg(t,e){try{t.container.addComponent(e)}catch(s){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function gl(t){const e=t.name;if(yu.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;yu.set(e,t);for(const s of pl.values())sg(s,t);for(const s of q_.values())sg(s,t);return!0}function $_(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function H_(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},en=new Wy("app","Firebase",Q_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,s,n){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=U_;function Jy(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n={name:xu,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw en.create("bad-app-name",{appName:String(i)});if(s||(s=Qy()),!s)throw en.create("no-options");const a=pl.get(i);if(a){if(fl(s,a.options)&&fl(n,a.config))return a;throw en.create("duplicate-app",{appName:i})}const o=new Jj(i);for(const d of yu.values())o.addComponent(d);const c=new W_(s,n,o);return pl.set(i,c),c}function K_(t=xu){const e=pl.get(t);if(!e&&t===xu&&Qy())return Jy();if(!e)throw en.create("no-app",{appName:t});return e}function Sr(t,e,s){let n=B_[t]??t;s&&(n+=`-${s}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(o.join(" "));return}gl(new xa(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="firebase-heartbeat-database",J_=1,ya="firebase-heartbeat-store";let ld=null;function Xy(){return ld||(ld=d_(Y_,J_,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(s){console.warn(s)}}}}).catch(t=>{throw en.create("idb-open",{originalErrorMessage:t.message})})),ld}async function X_(t){try{const s=(await Xy()).transaction(ya),n=await s.objectStore(ya).get(Zy(t));return await s.done,n}catch(e){if(e instanceof Gr)_s.warn(e.message);else{const s=en.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(s.message)}}}async function ng(t,e){try{const n=(await Xy()).transaction(ya,"readwrite");await n.objectStore(ya).put(e,Zy(t)),await n.done}catch(s){if(s instanceof Gr)_s.warn(s.message);else{const n=en.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});_s.warn(n.message)}}}function Zy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=1024,eE=30;class tE{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new nE(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>eE){const o=rE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){_s.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=rg(),{heartbeatsToSend:n,unsentEntries:i}=sE(this._heartbeatsCache.heartbeats),a=ml(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return _s.warn(s),""}}}function rg(){return new Date().toISOString().substring(0,10)}function sE(t,e=Z_){const s=[];let n=t.slice();for(const i of t){const a=s.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),ig(s)>e){a.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),ig(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class nE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qj()?$j().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await X_(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ig(t){return ml(JSON.stringify({version:2,heartbeats:t})).length}function rE(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let n=1;n<t.length;n++)t[n].date<s&&(s=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){gl(new xa("platform-logger",e=>new m_(e),"PRIVATE")),gl(new xa("heartbeat",e=>new tE(e),"PRIVATE")),Sr(gu,tg,t),Sr(gu,tg,"esm2020"),Sr("fire-js","")}iE("");var ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tn,ev;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,b){function E(){}E.prototype=b.prototype,j.F=b.prototype,j.prototype=new E,j.prototype.constructor=j,j.D=function(T,k,P){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return b.prototype[k].apply(T,C)}}function s(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,s),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,b,E){E||(E=0);const T=Array(16);if(typeof b=="string")for(var k=0;k<16;++k)T[k]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(k=0;k<16;++k)T[k]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=j.g[0],E=j.g[1],k=j.g[2];let P=j.g[3],C;C=b+(P^E&(k^P))+T[0]+3614090360&4294967295,b=E+(C<<7&4294967295|C>>>25),C=P+(k^b&(E^k))+T[1]+3905402710&4294967295,P=b+(C<<12&4294967295|C>>>20),C=k+(E^P&(b^E))+T[2]+606105819&4294967295,k=P+(C<<17&4294967295|C>>>15),C=E+(b^k&(P^b))+T[3]+3250441966&4294967295,E=k+(C<<22&4294967295|C>>>10),C=b+(P^E&(k^P))+T[4]+4118548399&4294967295,b=E+(C<<7&4294967295|C>>>25),C=P+(k^b&(E^k))+T[5]+1200080426&4294967295,P=b+(C<<12&4294967295|C>>>20),C=k+(E^P&(b^E))+T[6]+2821735955&4294967295,k=P+(C<<17&4294967295|C>>>15),C=E+(b^k&(P^b))+T[7]+4249261313&4294967295,E=k+(C<<22&4294967295|C>>>10),C=b+(P^E&(k^P))+T[8]+1770035416&4294967295,b=E+(C<<7&4294967295|C>>>25),C=P+(k^b&(E^k))+T[9]+2336552879&4294967295,P=b+(C<<12&4294967295|C>>>20),C=k+(E^P&(b^E))+T[10]+4294925233&4294967295,k=P+(C<<17&4294967295|C>>>15),C=E+(b^k&(P^b))+T[11]+2304563134&4294967295,E=k+(C<<22&4294967295|C>>>10),C=b+(P^E&(k^P))+T[12]+1804603682&4294967295,b=E+(C<<7&4294967295|C>>>25),C=P+(k^b&(E^k))+T[13]+4254626195&4294967295,P=b+(C<<12&4294967295|C>>>20),C=k+(E^P&(b^E))+T[14]+2792965006&4294967295,k=P+(C<<17&4294967295|C>>>15),C=E+(b^k&(P^b))+T[15]+1236535329&4294967295,E=k+(C<<22&4294967295|C>>>10),C=b+(k^P&(E^k))+T[1]+4129170786&4294967295,b=E+(C<<5&4294967295|C>>>27),C=P+(E^k&(b^E))+T[6]+3225465664&4294967295,P=b+(C<<9&4294967295|C>>>23),C=k+(b^E&(P^b))+T[11]+643717713&4294967295,k=P+(C<<14&4294967295|C>>>18),C=E+(P^b&(k^P))+T[0]+3921069994&4294967295,E=k+(C<<20&4294967295|C>>>12),C=b+(k^P&(E^k))+T[5]+3593408605&4294967295,b=E+(C<<5&4294967295|C>>>27),C=P+(E^k&(b^E))+T[10]+38016083&4294967295,P=b+(C<<9&4294967295|C>>>23),C=k+(b^E&(P^b))+T[15]+3634488961&4294967295,k=P+(C<<14&4294967295|C>>>18),C=E+(P^b&(k^P))+T[4]+3889429448&4294967295,E=k+(C<<20&4294967295|C>>>12),C=b+(k^P&(E^k))+T[9]+568446438&4294967295,b=E+(C<<5&4294967295|C>>>27),C=P+(E^k&(b^E))+T[14]+3275163606&4294967295,P=b+(C<<9&4294967295|C>>>23),C=k+(b^E&(P^b))+T[3]+4107603335&4294967295,k=P+(C<<14&4294967295|C>>>18),C=E+(P^b&(k^P))+T[8]+1163531501&4294967295,E=k+(C<<20&4294967295|C>>>12),C=b+(k^P&(E^k))+T[13]+2850285829&4294967295,b=E+(C<<5&4294967295|C>>>27),C=P+(E^k&(b^E))+T[2]+4243563512&4294967295,P=b+(C<<9&4294967295|C>>>23),C=k+(b^E&(P^b))+T[7]+1735328473&4294967295,k=P+(C<<14&4294967295|C>>>18),C=E+(P^b&(k^P))+T[12]+2368359562&4294967295,E=k+(C<<20&4294967295|C>>>12),C=b+(E^k^P)+T[5]+4294588738&4294967295,b=E+(C<<4&4294967295|C>>>28),C=P+(b^E^k)+T[8]+2272392833&4294967295,P=b+(C<<11&4294967295|C>>>21),C=k+(P^b^E)+T[11]+1839030562&4294967295,k=P+(C<<16&4294967295|C>>>16),C=E+(k^P^b)+T[14]+4259657740&4294967295,E=k+(C<<23&4294967295|C>>>9),C=b+(E^k^P)+T[1]+2763975236&4294967295,b=E+(C<<4&4294967295|C>>>28),C=P+(b^E^k)+T[4]+1272893353&4294967295,P=b+(C<<11&4294967295|C>>>21),C=k+(P^b^E)+T[7]+4139469664&4294967295,k=P+(C<<16&4294967295|C>>>16),C=E+(k^P^b)+T[10]+3200236656&4294967295,E=k+(C<<23&4294967295|C>>>9),C=b+(E^k^P)+T[13]+681279174&4294967295,b=E+(C<<4&4294967295|C>>>28),C=P+(b^E^k)+T[0]+3936430074&4294967295,P=b+(C<<11&4294967295|C>>>21),C=k+(P^b^E)+T[3]+3572445317&4294967295,k=P+(C<<16&4294967295|C>>>16),C=E+(k^P^b)+T[6]+76029189&4294967295,E=k+(C<<23&4294967295|C>>>9),C=b+(E^k^P)+T[9]+3654602809&4294967295,b=E+(C<<4&4294967295|C>>>28),C=P+(b^E^k)+T[12]+3873151461&4294967295,P=b+(C<<11&4294967295|C>>>21),C=k+(P^b^E)+T[15]+530742520&4294967295,k=P+(C<<16&4294967295|C>>>16),C=E+(k^P^b)+T[2]+3299628645&4294967295,E=k+(C<<23&4294967295|C>>>9),C=b+(k^(E|~P))+T[0]+4096336452&4294967295,b=E+(C<<6&4294967295|C>>>26),C=P+(E^(b|~k))+T[7]+1126891415&4294967295,P=b+(C<<10&4294967295|C>>>22),C=k+(b^(P|~E))+T[14]+2878612391&4294967295,k=P+(C<<15&4294967295|C>>>17),C=E+(P^(k|~b))+T[5]+4237533241&4294967295,E=k+(C<<21&4294967295|C>>>11),C=b+(k^(E|~P))+T[12]+1700485571&4294967295,b=E+(C<<6&4294967295|C>>>26),C=P+(E^(b|~k))+T[3]+2399980690&4294967295,P=b+(C<<10&4294967295|C>>>22),C=k+(b^(P|~E))+T[10]+4293915773&4294967295,k=P+(C<<15&4294967295|C>>>17),C=E+(P^(k|~b))+T[1]+2240044497&4294967295,E=k+(C<<21&4294967295|C>>>11),C=b+(k^(E|~P))+T[8]+1873313359&4294967295,b=E+(C<<6&4294967295|C>>>26),C=P+(E^(b|~k))+T[15]+4264355552&4294967295,P=b+(C<<10&4294967295|C>>>22),C=k+(b^(P|~E))+T[6]+2734768916&4294967295,k=P+(C<<15&4294967295|C>>>17),C=E+(P^(k|~b))+T[13]+1309151649&4294967295,E=k+(C<<21&4294967295|C>>>11),C=b+(k^(E|~P))+T[4]+4149444226&4294967295,b=E+(C<<6&4294967295|C>>>26),C=P+(E^(b|~k))+T[11]+3174756917&4294967295,P=b+(C<<10&4294967295|C>>>22),C=k+(b^(P|~E))+T[2]+718787259&4294967295,k=P+(C<<15&4294967295|C>>>17),C=E+(P^(k|~b))+T[9]+3951481745&4294967295,j.g[0]=j.g[0]+b&4294967295,j.g[1]=j.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+P&4294967295}n.prototype.v=function(j,b){b===void 0&&(b=j.length);const E=b-this.blockSize,T=this.C;let k=this.h,P=0;for(;P<b;){if(k==0)for(;P<=E;)i(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<b;)if(T[k++]=j.charCodeAt(P++),k==this.blockSize){i(this,T),k=0;break}}else for(;P<b;)if(T[k++]=j[P++],k==this.blockSize){i(this,T),k=0;break}}this.h=k,this.o+=b},n.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var b=1;b<j.length-8;++b)j[b]=0;b=this.o*8;for(var E=j.length-8;E<j.length;++E)j[E]=b&255,b/=256;for(this.v(j),j=Array(16),b=0,E=0;E<4;++E)for(let T=0;T<32;T+=8)j[b++]=this.g[E]>>>T&255;return j};function a(j,b){var E=c;return Object.prototype.hasOwnProperty.call(E,j)?E[j]:E[j]=b(j)}function o(j,b){this.h=b;const E=[];let T=!0;for(let k=j.length-1;k>=0;k--){const P=j[k]|0;T&&P==b||(E[k]=P,T=!1)}this.g=E}var c={};function d(j){return-128<=j&&j<128?a(j,function(b){return new o([b|0],b<0?-1:0)}):new o([j|0],j<0?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return f;if(j<0)return N(u(-j));const b=[];let E=1;for(let T=0;j>=E;T++)b[T]=j/E|0,E*=4294967296;return new o(b,0)}function h(j,b){if(j.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(j.charAt(0)=="-")return N(h(j.substring(1),b));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(b,8));let T=f;for(let P=0;P<j.length;P+=8){var k=Math.min(8,j.length-P);const C=parseInt(j.substring(P,P+k),b);k<8?(k=u(Math.pow(b,k)),T=T.j(k).add(u(C))):(T=T.j(E),T=T.add(u(C)))}return T}var f=d(0),g=d(1),w=d(16777216);t=o.prototype,t.m=function(){if(S(this))return-N(this).m();let j=0,b=1;for(let E=0;E<this.g.length;E++){const T=this.i(E);j+=(T>=0?T:4294967296+T)*b,b*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(A(this))return"0";if(S(this))return"-"+N(this).toString(j);const b=u(Math.pow(j,6));var E=this;let T="";for(;;){const k=D(E,b).g;E=v(E,k.j(b));let P=((E.g.length>0?E.g[0]:E.h)>>>0).toString(j);if(E=k,A(E))return P+T;for(;P.length<6;)P="0"+P;T=P+T}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function A(j){if(j.h!=0)return!1;for(let b=0;b<j.g.length;b++)if(j.g[b]!=0)return!1;return!0}function S(j){return j.h==-1}t.l=function(j){return j=v(this,j),S(j)?-1:A(j)?0:1};function N(j){const b=j.g.length,E=[];for(let T=0;T<b;T++)E[T]=~j.g[T];return new o(E,~j.h).add(g)}t.abs=function(){return S(this)?N(this):this},t.add=function(j){const b=Math.max(this.g.length,j.g.length),E=[];let T=0;for(let k=0;k<=b;k++){let P=T+(this.i(k)&65535)+(j.i(k)&65535),C=(P>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);T=C>>>16,P&=65535,C&=65535,E[k]=C<<16|P}return new o(E,E[E.length-1]&-2147483648?-1:0)};function v(j,b){return j.add(N(b))}t.j=function(j){if(A(this)||A(j))return f;if(S(this))return S(j)?N(this).j(N(j)):N(N(this).j(j));if(S(j))return N(this.j(N(j)));if(this.l(w)<0&&j.l(w)<0)return u(this.m()*j.m());const b=this.g.length+j.g.length,E=[];for(var T=0;T<2*b;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(let k=0;k<j.g.length;k++){const P=this.i(T)>>>16,C=this.i(T)&65535,He=j.i(k)>>>16,ms=j.i(k)&65535;E[2*T+2*k]+=C*ms,x(E,2*T+2*k),E[2*T+2*k+1]+=P*ms,x(E,2*T+2*k+1),E[2*T+2*k+1]+=C*He,x(E,2*T+2*k+1),E[2*T+2*k+2]+=P*He,x(E,2*T+2*k+2)}for(j=0;j<b;j++)E[j]=E[2*j+1]<<16|E[2*j];for(j=b;j<2*b;j++)E[j]=0;return new o(E,0)};function x(j,b){for(;(j[b]&65535)!=j[b];)j[b+1]+=j[b]>>>16,j[b]&=65535,b++}function _(j,b){this.g=j,this.h=b}function D(j,b){if(A(b))throw Error("division by zero");if(A(j))return new _(f,f);if(S(j))return b=D(N(j),b),new _(N(b.g),N(b.h));if(S(b))return b=D(j,N(b)),new _(N(b.g),b.h);if(j.g.length>30){if(S(j)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=b;T.l(j)<=0;)E=L(E),T=L(T);var k=z(E,1),P=z(T,1);for(T=z(T,2),E=z(E,2);!A(T);){var C=P.add(T);C.l(j)<=0&&(k=k.add(E),P=C),T=z(T,1),E=z(E,1)}return b=v(j,k.j(b)),new _(k,b)}for(k=f;j.l(b)>=0;){for(E=Math.max(1,Math.floor(j.m()/b.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),P=u(E),C=P.j(b);S(C)||C.l(j)>0;)E-=T,P=u(E),C=P.j(b);A(P)&&(P=g),k=k.add(P),j=v(j,C)}return new _(k,j)}t.B=function(j){return D(this,j).h},t.and=function(j){const b=Math.max(this.g.length,j.g.length),E=[];for(let T=0;T<b;T++)E[T]=this.i(T)&j.i(T);return new o(E,this.h&j.h)},t.or=function(j){const b=Math.max(this.g.length,j.g.length),E=[];for(let T=0;T<b;T++)E[T]=this.i(T)|j.i(T);return new o(E,this.h|j.h)},t.xor=function(j){const b=Math.max(this.g.length,j.g.length),E=[];for(let T=0;T<b;T++)E[T]=this.i(T)^j.i(T);return new o(E,this.h^j.h)};function L(j){const b=j.g.length+1,E=[];for(let T=0;T<b;T++)E[T]=j.i(T)<<1|j.i(T-1)>>>31;return new o(E,j.h)}function z(j,b){const E=b>>5;b%=32;const T=j.g.length-E,k=[];for(let P=0;P<T;P++)k[P]=b>0?j.i(P+E)>>>b|j.i(P+E+1)<<32-b:j.i(P+E);return new o(k,j.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,ev=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,tn=o}).apply(typeof ag<"u"?ag:typeof self<"u"?self:typeof window<"u"?window:{});var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,Ii,sv,Io,vu,nv,rv,iv;(function(){var t,e=Object.defineProperty;function s(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fo=="object"&&fo];for(var m=0;m<l.length;++m){var p=l[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=s(this);function i(l,m){if(m)e:{var p=n;l=l.split(".");for(var y=0;y<l.length-1;y++){var R=l[y];if(!(R in p))break e;p=p[R]}l=l[l.length-1],y=p[l],m=m(y),m!=y&&m!=null&&e(p,l,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(m){var p=[],y;for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&p.push([y,m[y]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function d(l,m,p){return l.call.apply(l.bind,arguments)}function u(l,m,p){return u=d,u.apply(null,arguments)}function h(l,m){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function f(l,m){function p(){}p.prototype=m.prototype,l.Z=m.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(y,R,M){for(var B=Array(arguments.length-2),se=2;se<arguments.length;se++)B[se-2]=arguments[se];return m.prototype[R].apply(y,B)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function w(l){const m=l.length;if(m>0){const p=Array(m);for(let y=0;y<m;y++)p[y]=l[y];return p}return[]}function A(l,m){for(let y=1;y<arguments.length;y++){const R=arguments[y];var p=typeof R;if(p=p!="object"?p:R?Array.isArray(R)?"array":p:"null",p=="array"||p=="object"&&typeof R.length=="number"){p=l.length||0;const M=R.length||0;l.length=p+M;for(let B=0;B<M;B++)l[p+B]=R[B]}else l.push(R)}}class S{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function N(l){o.setTimeout(()=>{throw l},0)}function v(){var l=j;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class x{constructor(){this.h=this.g=null}add(m,p){const y=_.get();y.set(m,p),this.h?this.h.next=y:this.g=y,this.h=y}}var _=new S(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,j=new x,b=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(E)}};function E(){for(var l;l=v();){try{l.h.call(l.g)}catch(p){N(p)}var m=_;m.j(l),m.h<100&&(m.h++,l.next=m.g,m.g=l)}z=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};o.addEventListener("test",p,m),o.removeEventListener("test",p,m)}catch{}return l}();function C(l){return/^[\s\xa0]*$/.test(l)}function He(l,m){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,m)}f(He,k),He.prototype.init=function(l,m){const p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget,m||(p=="mouseover"?m=l.fromElement:p=="mouseout"&&(m=l.toElement)),this.relatedTarget=m,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ms="closure_listenable_"+(Math.random()*1e6|0),Zr=0;function ei(l,m,p,y,R){this.listener=l,this.proxy=null,this.src=m,this.type=p,this.capture=!!y,this.ha=R,this.key=++Zr,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function X(l,m,p){for(const y in l)m.call(p,l[y],y,l)}function te(l,m){for(const p in l)m.call(void 0,l[p],p,l)}function ve(l){const m={};for(const p in l)m[p]=l[p];return m}const Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vn(l,m){let p,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(p in y)l[p]=y[p];for(let M=0;M<Te.length;M++)p=Te[M],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function kt(l){this.src=l,this.g={},this.h=0}kt.prototype.add=function(l,m,p,y,R){const M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);const B=Ut(l,m,y,R);return B>-1?(m=l[B],p||(m.fa=!1)):(m=new ei(m,this.src,M,!!y,R),m.fa=p,l.push(m)),m};function bn(l,m){const p=m.type;if(p in l.g){var y=l.g[p],R=Array.prototype.indexOf.call(y,m,void 0),M;(M=R>=0)&&Array.prototype.splice.call(y,R,1),M&&(q(m),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ut(l,m,p,y){for(let R=0;R<l.length;++R){const M=l[R];if(!M.da&&M.listener==m&&M.capture==!!p&&M.ha==y)return R}return-1}var Ts="closure_lm_"+(Math.random()*1e6|0),uc={};function Cm(l,m,p,y,R){if(Array.isArray(m)){for(let M=0;M<m.length;M++)Cm(l,m[M],p,y,R);return null}return p=km(p),l&&l[ms]?l.J(m,p,c(y)?!!y.capture:!1,R):zb(l,m,p,!1,y,R)}function zb(l,m,p,y,R,M){if(!m)throw Error("Invalid event type");const B=c(R)?!!R.capture:!!R;let se=mc(l);if(se||(l[Ts]=se=new kt(l)),p=se.add(m,p,y,B,M),p.proxy)return p;if(y=Ub(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)P||(R=B),R===void 0&&(R=!1),l.addEventListener(m.toString(),y,R);else if(l.attachEvent)l.attachEvent(Am(m.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ub(){function l(p){return m.call(l.src,l.listener,p)}const m=Bb;return l}function Tm(l,m,p,y,R){if(Array.isArray(m))for(var M=0;M<m.length;M++)Tm(l,m[M],p,y,R);else y=c(y)?!!y.capture:!!y,p=km(p),l&&l[ms]?(l=l.i,M=String(m).toString(),M in l.g&&(m=l.g[M],p=Ut(m,p,y,R),p>-1&&(q(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete l.g[M],l.h--)))):l&&(l=mc(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Ut(m,p,y,R)),(p=l>-1?m[l]:null)&&hc(p))}function hc(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[ms])bn(m.i,l);else{var p=l.type,y=l.proxy;m.removeEventListener?m.removeEventListener(p,y,l.capture):m.detachEvent?m.detachEvent(Am(p),y):m.addListener&&m.removeListener&&m.removeListener(y),(p=mc(m))?(bn(p,l),p.h==0&&(p.src=null,m[Ts]=null)):q(l)}}}function Am(l){return l in uc?uc[l]:uc[l]="on"+l}function Bb(l,m){if(l.da)l=!0;else{m=new He(m,this);const p=l.listener,y=l.ha||l.src;l.fa&&hc(l),l=p.call(y,m)}return l}function mc(l){return l=l[Ts],l instanceof kt?l:null}var fc="__closure_events_fn_"+(Math.random()*1e9>>>0);function km(l){return typeof l=="function"?l:(l[fc]||(l[fc]=function(m){return l.handleEvent(m)}),l[fc])}function Ze(){T.call(this),this.i=new kt(this),this.M=this,this.G=null}f(Ze,T),Ze.prototype[ms]=!0,Ze.prototype.removeEventListener=function(l,m,p,y){Tm(this,l,m,p,y)};function ot(l,m){var p,y=l.G;if(y)for(p=[];y;y=y.G)p.push(y);if(l=l.M,y=m.type||m,typeof m=="string")m=new k(m,l);else if(m instanceof k)m.target=m.target||l;else{var R=m;m=new k(y,l),vn(m,R)}R=!0;let M,B;if(p)for(B=p.length-1;B>=0;B--)M=m.g=p[B],R=Oa(M,y,!0,m)&&R;if(M=m.g=l,R=Oa(M,y,!0,m)&&R,R=Oa(M,y,!1,m)&&R,p)for(B=0;B<p.length;B++)M=m.g=p[B],R=Oa(M,y,!1,m)&&R}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var l=this.i;for(const m in l.g){const p=l.g[m];for(let y=0;y<p.length;y++)q(p[y]);delete l.g[m],l.h--}}this.G=null},Ze.prototype.J=function(l,m,p,y){return this.i.add(String(l),m,!1,p,y)},Ze.prototype.K=function(l,m,p,y){return this.i.add(String(l),m,!0,p,y)};function Oa(l,m,p,y){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();let R=!0;for(let M=0;M<m.length;++M){const B=m[M];if(B&&!B.da&&B.capture==p){const se=B.listener,Le=B.ha||B.src;B.fa&&bn(l.i,B),R=se.call(Le,y)!==!1&&R}}return R&&!y.defaultPrevented}function qb(l,m){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(l,m||0)}function Im(l){l.g=qb(()=>{l.g=null,l.i&&(l.i=!1,Im(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class $b extends T{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Im(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(l){T.call(this),this.h=l,this.g={}}f(ti,T);var Pm=[];function Rm(l){X(l.g,function(m,p){this.g.hasOwnProperty(p)&&hc(m)},l),l.g={}}ti.prototype.N=function(){ti.Z.N.call(this),Rm(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pc=o.JSON.stringify,Hb=o.JSON.parse,Qb=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Dm(){}function Mm(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gc(){k.call(this,"d")}f(gc,k);function xc(){k.call(this,"c")}f(xc,k);var wn={},Vm=null;function Fa(){return Vm=Vm||new Ze}wn.Ia="serverreachability";function Lm(l){k.call(this,wn.Ia,l)}f(Lm,k);function ni(l){const m=Fa();ot(m,new Lm(m))}wn.STAT_EVENT="statevent";function Om(l,m){k.call(this,wn.STAT_EVENT,l),this.stat=m}f(Om,k);function lt(l){const m=Fa();ot(m,new Om(m,l))}wn.Ja="timingevent";function Fm(l,m){k.call(this,wn.Ja,l),this.size=m}f(Fm,k);function ri(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},m)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function Wb(l,m,p,y,R,M){l.info(function(){if(l.g)if(M){var B="",se=M.split("&");for(let he=0;he<se.length;he++){var Le=se[he].split("=");if(Le.length>1){const Ue=Le[0];Le=Le[1];const Jt=Ue.split("_");B=Jt.length>=2&&Jt[1]=="type"?B+(Ue+"="+Le+"&"):B+(Ue+"=redacted&")}}}else B=null;else B=M;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+m+`
`+p+`
`+B})}function Gb(l,m,p,y,R,M,B){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+m+`
`+p+`
`+M+" "+B})}function Zn(l,m,p,y){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yb(l,p)+(y?" "+y:"")})}function Kb(l,m){l.info(function(){return"TIMEOUT: "+m})}ii.prototype.info=function(){};function Yb(l,m){if(!l.g)return m;if(!m)return null;try{const M=JSON.parse(m);if(M){for(l=0;l<M.length;l++)if(Array.isArray(M[l])){var p=M[l];if(!(p.length<2)){var y=p[1];if(Array.isArray(y)&&!(y.length<1)){var R=y[0];if(R!="noop"&&R!="stop"&&R!="close")for(let B=1;B<y.length;B++)y[B]=""}}}}return pc(M)}catch{return m}}var za={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zm={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Um;function yc(){}f(yc,Dm),yc.prototype.g=function(){return new XMLHttpRequest},Um=new yc;function ai(l){return encodeURIComponent(String(l))}function Jb(l){var m=1;l=l.split(":");const p=[];for(;m>0&&l.length;)p.push(l.shift()),m--;return l.length&&p.push(l.join(":")),p}function As(l,m,p,y){this.j=l,this.i=m,this.l=p,this.S=y||1,this.V=new ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bm}function Bm(){this.i=null,this.g="",this.h=!1}var qm={},vc={};function bc(l,m,p){l.M=1,l.A=Ba(Yt(m)),l.u=p,l.R=!0,$m(l,null)}function $m(l,m){l.F=Date.now(),Ua(l),l.B=Yt(l.A);var p=l.B,y=l.S;Array.isArray(y)||(y=[String(y)]),nf(p.i,"t",y),l.C=0,p=l.j.L,l.h=new Bm,l.g=Nf(l.j,p?m:null,!l.u),l.P>0&&(l.O=new $b(u(l.Y,l,l.g),l.P)),m=l.V,p=l.g,y=l.ba;var R="readystatechange";Array.isArray(R)||(R&&(Pm[0]=R.toString()),R=Pm);for(let M=0;M<R.length;M++){const B=Cm(p,R[M],y||m.handleEvent,!1,m.h||m);if(!B)break;m.g[B.key]=B}m=l.J?ve(l.J):{},l.u?(l.v||(l.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,m)):(l.v="GET",l.g.ea(l.B,l.v,null,m)),ni(),Wb(l.i,l.v,l.B,l.l,l.S,l.u)}As.prototype.ba=function(l){l=l.target;const m=this.O;m&&Ps(l)==3?m.j():this.Y(l)},As.prototype.Y=function(l){try{if(l==this.g)e:{const se=Ps(this.g),Le=this.g.ya(),he=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||uf(this.g)))){this.K||se!=4||Le==7||(Le==8||he<=0?ni(3):ni(2)),wc(this);var m=this.g.ca();this.X=m;var p=Xb(this);if(this.o=m==200,Gb(this.i,this.v,this.B,this.l,this.S,se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var y,R=this.g;if((y=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(y)){var M=y;break t}}M=null}if(l=M)Zn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nc(this,l);else{this.o=!1,this.m=3,lt(12),Nn(this),oi(this);break e}}if(this.R){l=!0;let Ue;for(;!this.K&&this.C<p.length;)if(Ue=Zb(this,p),Ue==vc){se==4&&(this.m=4,lt(14),l=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==qm){this.m=4,lt(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else Zn(this.i,this.l,Ue,null),Nc(this,Ue);if(Hm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||p.length!=0||this.h.h||(this.m=1,lt(16),l=!1),this.o=this.o&&l,!l)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),Nn(this),oi(this);else if(p.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),kc(B),B.P=!0,lt(11))}}else Zn(this.i,this.l,p,null),Nc(this,p);se==4&&Nn(this),this.o&&!this.K&&(se==4?yf(this.j,this):(this.o=!1,Ua(this)))}else mw(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Nn(this),oi(this)}}}catch{}finally{}};function Xb(l){if(!Hm(l))return l.g.la();const m=uf(l.g);if(m==="")return"";let p="";const y=m.length,R=Ps(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Nn(l),oi(l),"";l.h.i=new o.TextDecoder}for(let M=0;M<y;M++)l.h.h=!0,p+=l.h.i.decode(m[M],{stream:!(R&&M==y-1)});return m.length=0,l.h.g+=p,l.C=0,l.h.g}function Hm(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Zb(l,m){var p=l.C,y=m.indexOf(`
`,p);return y==-1?vc:(p=Number(m.substring(p,y)),isNaN(p)?qm:(y+=1,y+p>m.length?vc:(m=m.slice(y,y+p),l.C=y+p,m)))}As.prototype.cancel=function(){this.K=!0,Nn(this)};function Ua(l){l.T=Date.now()+l.H,Qm(l,l.H)}function Qm(l,m){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ri(u(l.aa,l),m)}function wc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}As.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Kb(this.i,this.B),this.M!=2&&(ni(),lt(17)),Nn(this),this.m=2,oi(this)):Qm(this,this.T-l)};function oi(l){l.j.I==0||l.K||yf(l.j,l)}function Nn(l){wc(l);var m=l.O;m&&typeof m.dispose=="function"&&m.dispose(),l.O=null,Rm(l.V),l.g&&(m=l.g,l.g=null,m.abort(),m.dispose())}function Nc(l,m){try{var p=l.j;if(p.I!=0&&(p.g==l||jc(p.h,l))){if(!l.L&&jc(p.h,l)&&p.I==3){try{var y=p.Ba.g.parse(m)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Wa(p),Ha(p);else break e;Ac(p),lt(18)}}else p.xa=R[1],0<p.xa-p.K&&R[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ri(u(p.Va,p),6e3));Km(p.h)<=1&&p.ta&&(p.ta=void 0)}else _n(p,11)}else if((l.L||p.g==l)&&Wa(p),!C(m))for(R=p.Ba.g.parse(m),m=0;m<R.length;m++){let he=R[m];const Ue=he[0];if(!(Ue<=p.K))if(p.K=Ue,he=he[1],p.I==2)if(he[0]=="c"){p.M=he[1],p.ba=he[2];const Jt=he[3];Jt!=null&&(p.ka=Jt,p.j.info("VER="+p.ka));const En=he[4];En!=null&&(p.za=En,p.j.info("SVER="+p.za));const Rs=he[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(y=1.5*Rs,p.O=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const Ds=l.g;if(Ds){const Ka=Ds.g?Ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var M=y.h;M.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(_c(M,M.h),M.h=null))}if(y.G){const Ic=Ds.g?Ds.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(y.wa=Ic,ge(y.J,y.G,Ic))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),y=p;var B=l;if(y.na=wf(y,y.L?y.ba:null,y.W),B.L){Ym(y.h,B);var se=B,Le=y.O;Le&&(se.H=Le),se.D&&(wc(se),Ua(se)),y.g=B}else gf(y);p.i.length>0&&Qa(p)}else he[0]!="stop"&&he[0]!="close"||_n(p,7);else p.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?_n(p,7):Tc(p):he[0]!="noop"&&p.l&&p.l.qa(he),p.A=0)}}ni(4)}catch{}}var ew=class{constructor(l,m){this.g=l,this.map=m}};function Wm(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Km(l){return l.h?1:l.g?l.g.size:0}function jc(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function _c(l,m){l.g?l.g.add(m):l.h=m}function Ym(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Wm.prototype.cancel=function(){if(this.i=Jm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jm(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const p of l.g.values())m=m.concat(p.G);return m}return w(l.i)}var Xm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tw(l,m){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const y=l[p].indexOf("=");let R,M=null;y>=0?(R=l[p].substring(0,y),M=l[p].substring(y+1)):R=l[p],m(R,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ks(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;l instanceof ks?(this.l=l.l,li(this,l.j),this.o=l.o,this.g=l.g,ci(this,l.u),this.h=l.h,Ec(this,rf(l.i)),this.m=l.m):l&&(m=String(l).match(Xm))?(this.l=!1,li(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),ci(this,m[4]),this.h=di(m[5]||"",!0),Ec(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hi(null,this.l))}ks.prototype.toString=function(){const l=[];var m=this.j;m&&l.push(ui(m,Zm,!0),":");var p=this.g;return(p||m=="file")&&(l.push("//"),(m=this.o)&&l.push(ui(m,Zm,!0),"@"),l.push(ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(ui(p,p.charAt(0)=="/"?rw:nw,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",ui(p,aw)),l.join("")},ks.prototype.resolve=function(l){const m=Yt(this);let p=!!l.j;p?li(m,l.j):p=!!l.o,p?m.o=l.o:p=!!l.g,p?m.g=l.g:p=l.u!=null;var y=l.h;if(p)ci(m,l.u);else if(p=!!l.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var R=m.h.lastIndexOf("/");R!=-1&&(y=m.h.slice(0,R+1)+y)}if(R=y,R==".."||R==".")y="";else if(R.indexOf("./")!=-1||R.indexOf("/.")!=-1){y=R.lastIndexOf("/",0)==0,R=R.split("/");const M=[];for(let B=0;B<R.length;){const se=R[B++];se=="."?y&&B==R.length&&M.push(""):se==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),y&&B==R.length&&M.push("")):(M.push(se),y=!0)}y=M.join("/")}else y=R}return p?m.h=y:p=l.i.toString()!=="",p?Ec(m,rf(l.i)):p=!!l.m,p&&(m.m=l.m),m};function Yt(l){return new ks(l)}function li(l,m,p){l.j=p?di(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ci(l,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);l.u=m}else l.u=null}function Ec(l,m,p){m instanceof hi?(l.i=m,ow(l.i,l.l)):(p||(m=ui(m,iw)),l.i=new hi(m,l.l))}function ge(l,m,p){l.i.set(m,p)}function Ba(l){return ge(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function di(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ui(l,m,p){return typeof l=="string"?(l=encodeURI(l).replace(m,sw),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sw(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Zm=/[#\/\?@]/g,nw=/[#\?:]/g,rw=/[#\?]/g,iw=/[#\?@]/g,aw=/#/g;function hi(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function jn(l){l.g||(l.g=new Map,l.h=0,l.i&&tw(l.i,function(m,p){l.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}t=hi.prototype,t.add=function(l,m){jn(this),this.i=null,l=er(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(m),this.h+=1,this};function ef(l,m){jn(l),m=er(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function tf(l,m){return jn(l),m=er(l,m),l.g.has(m)}t.forEach=function(l,m){jn(this),this.g.forEach(function(p,y){p.forEach(function(R){l.call(m,R,y,this)},this)},this)};function sf(l,m){jn(l);let p=[];if(typeof m=="string")tf(l,m)&&(p=p.concat(l.g.get(er(l,m))));else for(l=Array.from(l.g.values()),m=0;m<l.length;m++)p=p.concat(l[m]);return p}t.set=function(l,m){return jn(this),this.i=null,l=er(this,l),tf(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=sf(this,l),l.length>0?String(l[0]):m):m};function nf(l,m,p){ef(l,m),p.length>0&&(l.i=null,l.g.set(er(l,m),w(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(let y=0;y<m.length;y++){var p=m[y];const R=ai(p);p=sf(this,p);for(let M=0;M<p.length;M++){let B=R;p[M]!==""&&(B+="="+ai(p[M])),l.push(B)}}return this.i=l.join("&")};function rf(l){const m=new hi;return m.i=l.i,l.g&&(m.g=new Map(l.g),m.h=l.h),m}function er(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function ow(l,m){m&&!l.j&&(jn(l),l.i=null,l.g.forEach(function(p,y){const R=y.toLowerCase();y!=R&&(ef(this,y),nf(this,R,p))},l)),l.j=m}function lw(l,m){const p=new ii;if(o.Image){const y=new Image;y.onload=h(Is,p,"TestLoadImage: loaded",!0,m,y),y.onerror=h(Is,p,"TestLoadImage: error",!1,m,y),y.onabort=h(Is,p,"TestLoadImage: abort",!1,m,y),y.ontimeout=h(Is,p,"TestLoadImage: timeout",!1,m,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else m(!1)}function cw(l,m){const p=new ii,y=new AbortController,R=setTimeout(()=>{y.abort(),Is(p,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:y.signal}).then(M=>{clearTimeout(R),M.ok?Is(p,"TestPingServer: ok",!0,m):Is(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(R),Is(p,"TestPingServer: error",!1,m)})}function Is(l,m,p,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(p)}catch{}}function dw(){this.g=new Qb}function Sc(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Sc,Dm),Sc.prototype.g=function(){return new qa(this.i,this.h)};function qa(l,m){Ze.call(this),this.H=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(qa,Ze),t=qa.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=m,this.readyState=1,fi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(m.body=l),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;af(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function af(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?mi(this):fi(this),this.readyState==3&&af(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,mi(this))},t.Na=function(l){this.g&&(this.response=l,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(l){l.readyState=4,l.l=null,l.j=null,l.B=null,fi(l)}t.setRequestHeader=function(l,m){this.A.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=m.next();return l.join(`\r
`)};function fi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function of(l){let m="";return X(l,function(p,y){m+=y,m+=":",m+=p,m+=`\r
`}),m}function Cc(l,m,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=of(p),typeof l=="string"?p!=null&&ai(p):ge(l,m,p))}function Ee(l){Ze.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ee,Ze);var uw=/^https?$/i,hw=["POST","PUT"];t=Ee.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,m,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Um.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(M){lf(this,M);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)p.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())p.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),R=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(hw,m,void 0)>=0)||y||R||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of p)this.g.setRequestHeader(M,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(M){lf(this,M)}};function lf(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.o=5,cf(l),$a(l)}function cf(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ot(this,"complete"),ot(this,"abort"),$a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$a(this,!0)),Ee.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?df(this):this.Xa())},t.Xa=function(){df(this)};function df(l){if(l.h&&typeof a<"u"){if(l.v&&Ps(l)==4)setTimeout(l.Ca.bind(l),0);else if(ot(l,"readystatechange"),Ps(l)==4){l.h=!1;try{const M=l.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var y;if(y=M===0){let B=String(l.D).match(Xm)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),y=!uw.test(B?B.toLowerCase():"")}p=y}if(p)ot(l,"complete"),ot(l,"success");else{l.o=6;try{var R=Ps(l)>2?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.ca()+"]",cf(l)}}finally{$a(l)}}}}function $a(l,m){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,m||ot(l,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ps(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),Hb(m)}};function uf(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function mw(l){const m={};l=(l.g&&Ps(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(C(l[y]))continue;var p=Jb(l[y]);const R=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=m[R]||[];m[R]=M,M.push(p)}te(m,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(l,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||m}function hf(l){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,l),this.Za=pi("retryDelaySeedMs",1e4,l),this.Ta=pi("forwardChannelMaxRetries",2,l),this.va=pi("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Wm(l&&l.concurrentRequestLimit),this.Ba=new dw,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hf.prototype,t.ka=8,t.I=1,t.connect=function(l,m,p,y){lt(0),this.W=l,this.H=m||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.J=wf(this,null,this.W),Qa(this)};function Tc(l){if(mf(l),l.I==3){var m=l.V++,p=Yt(l.J);if(ge(p,"SID",l.M),ge(p,"RID",m),ge(p,"TYPE","terminate"),gi(l,p),m=new As(l,l.j,m),m.M=2,m.A=Ba(Yt(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=m.A,p=!0),p||(m.g=Nf(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ua(m)}bf(l)}function Ha(l){l.g&&(kc(l),l.g.cancel(),l.g=null)}function mf(l){Ha(l),l.v&&(o.clearTimeout(l.v),l.v=null),Wa(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Qa(l){if(!Gm(l.h)&&!l.m){l.m=!0;var m=l.Ea;L||b(),z||(L(),z=!0),j.add(m,l),l.D=0}}function fw(l,m){return Km(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=m.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ri(u(l.Ea,l,m),vf(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const R=new As(this,this.j,l);let M=this.o;if(this.U&&(M?(M=ve(M),vn(M,this.U)):M=this.U),this.u!==null||this.R||(R.J=M,M=null),this.S)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(m+=y,m>4096){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=pf(this,R,m),p=Yt(this.J),ge(p,"RID",l),ge(p,"CVER",22),this.G&&ge(p,"X-HTTP-Session-Id",this.G),gi(this,p),M&&(this.R?m="headers="+ai(of(M))+"&"+m:this.u&&Cc(p,this.u,M)),_c(this.h,R),this.Ra&&ge(p,"TYPE","init"),this.S?(ge(p,"$req",m),ge(p,"SID","null"),R.U=!0,bc(R,p,null)):bc(R,p,m),this.I=2}}else this.I==3&&(l?ff(this,l):this.i.length==0||Gm(this.h)||ff(this))};function ff(l,m){var p;m?p=m.l:p=l.V++;const y=Yt(l.J);ge(y,"SID",l.M),ge(y,"RID",p),ge(y,"AID",l.K),gi(l,y),l.u&&l.o&&Cc(y,l.u,l.o),p=new As(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),m&&(l.i=m.G.concat(l.i)),m=pf(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),_c(l.h,p),bc(p,y,m)}function gi(l,m){l.H&&X(l.H,function(p,y){ge(m,y,p)}),l.l&&X({},function(p,y){ge(m,y,p)})}function pf(l,m,p){p=Math.min(l.i.length,p);const y=l.l?u(l.l.Ka,l.l,l):null;e:{var R=l.i;let se=-1;for(;;){const Le=["count="+p];se==-1?p>0?(se=R[0].g,Le.push("ofs="+se)):se=0:Le.push("ofs="+se);let he=!0;for(let Ue=0;Ue<p;Ue++){var M=R[Ue].g;const Jt=R[Ue].map;if(M-=se,M<0)se=Math.max(0,R[Ue].g-100),he=!1;else try{M="req"+M+"_"||"";try{var B=Jt instanceof Map?Jt:Object.entries(Jt);for(const[En,Rs]of B){let Ds=Rs;c(Rs)&&(Ds=pc(Rs)),Le.push(M+En+"="+encodeURIComponent(Ds))}}catch(En){throw Le.push(M+"type="+encodeURIComponent("_badmap")),En}}catch{y&&y(Jt)}}if(he){B=Le.join("&");break e}}B=void 0}return l=l.i.splice(0,p),m.G=l,B}function gf(l){if(!l.g&&!l.v){l.Y=1;var m=l.Da;L||b(),z||(L(),z=!0),j.add(m,l),l.A=0}}function Ac(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ri(u(l.Da,l),vf(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,xf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ri(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),Ha(this),xf(this))};function kc(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function xf(l){l.g=new As(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var m=Yt(l.na);ge(m,"RID","rpc"),ge(m,"SID",l.M),ge(m,"AID",l.K),ge(m,"CI",l.F?"0":"1"),!l.F&&l.ia&&ge(m,"TO",l.ia),ge(m,"TYPE","xmlhttp"),gi(l,m),l.u&&l.o&&Cc(m,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=Ba(Yt(m)),p.u=null,p.R=!0,$m(p,l)}t.Va=function(){this.C!=null&&(this.C=null,Ha(this),Ac(this),lt(19))};function Wa(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function yf(l,m){var p=null;if(l.g==m){Wa(l),kc(l),l.g=null;var y=2}else if(jc(l.h,m))p=m.G,Ym(l.h,m),y=1;else return;if(l.I!=0){if(m.o)if(y==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var R=l.D;y=Fa(),ot(y,new Fm(y,p)),Qa(l)}else gf(l);else if(R=m.m,R==3||R==0&&m.X>0||!(y==1&&fw(l,m)||y==2&&Ac(l)))switch(p&&p.length>0&&(m=l.h,m.i=m.i.concat(p)),R){case 1:_n(l,5);break;case 4:_n(l,10);break;case 3:_n(l,6);break;default:_n(l,2)}}}function vf(l,m){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*m}function _n(l,m){if(l.j.info("Error code "+m),m==2){var p=u(l.bb,l),y=l.Ua;const R=!y;y=new ks(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||li(y,"https"),Ba(y),R?lw(y.toString(),p):cw(y.toString(),p)}else lt(2);l.I=0,l.l&&l.l.pa(m),bf(l),mf(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function bf(l){if(l.I=0,l.ja=[],l.l){const m=Jm(l.h);(m.length!=0||l.i.length!=0)&&(A(l.ja,m),A(l.ja,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.oa()}}function wf(l,m,p){var y=p instanceof ks?Yt(p):new ks(p);if(y.g!="")m&&(y.g=m+"."+y.g),ci(y,y.u);else{var R=o.location;y=R.protocol,m=m?m+"."+R.hostname:R.hostname,R=+R.port;const M=new ks(null);y&&li(M,y),m&&(M.g=m),R&&ci(M,R),p&&(M.h=p),y=M}return p=l.G,m=l.wa,p&&m&&ge(y,p,m),ge(y,"VER",l.ka),gi(l,y),y}function Nf(l,m,p){if(m&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Aa&&!l.ma?new Ee(new Sc({ab:p})):new Ee(l.ma),m.Fa(l.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jf(){}t=jf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ga(){}Ga.prototype.g=function(l,m){return new wt(l,m)};function wt(l,m){Ze.call(this),this.g=new hf(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(l?l["X-WebChannel-Client-Profile"]=m.sa:l={"X-WebChannel-Client-Profile":m.sa}),this.g.U=l,(l=m&&m.Qb)&&!C(l)&&(this.g.u=l),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new tr(this)}f(wt,Ze),wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Tc(this.g)},wt.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=pc(l),l=p);m.i.push(new ew(m.Ya++,l)),m.I==3&&Qa(m)},wt.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,wt.Z.N.call(this)};function _f(l){gc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const p in m){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}f(_f,gc);function Ef(){xc.call(this),this.status=1}f(Ef,xc);function tr(l){this.g=l}f(tr,jf),tr.prototype.ra=function(){ot(this.g,"a")},tr.prototype.qa=function(l){ot(this.g,new _f(l))},tr.prototype.pa=function(l){ot(this.g,new Ef)},tr.prototype.oa=function(){ot(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,iv=function(){return new Ga},rv=function(){return Fa()},nv=wn,vu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Io=za,zm.COMPLETE="complete",sv=zm,Mm.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Ii=Mm,Ee.prototype.listenOnce=Ee.prototype.K,Ee.prototype.getLastError=Ee.prototype.Ha,Ee.prototype.getLastErrorCode=Ee.prototype.ya,Ee.prototype.getStatus=Ee.prototype.ca,Ee.prototype.getResponseJson=Ee.prototype.La,Ee.prototype.getResponseText=Ee.prototype.la,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Fa,tv=Ee}).apply(typeof fo<"u"?fo:typeof self<"u"?self:typeof window<"u"?window:{});const og="@firebase/firestore",lg="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new Gy("@firebase/firestore");function nr(){return qn.logLevel}function Q(t,...e){if(qn.logLevel<=le.DEBUG){const s=e.map(Hh);qn.debug(`Firestore (${Kr}): ${t}`,...s)}}function Es(t,...e){if(qn.logLevel<=le.ERROR){const s=e.map(Hh);qn.error(`Firestore (${Kr}): ${t}`,...s)}}function Mr(t,...e){if(qn.logLevel<=le.WARN){const s=e.map(Hh);qn.warn(`Firestore (${Kr}): ${t}`,...s)}}function Hh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,s){let n="Unexpected state";typeof e=="string"?n=e:s=e,av(t,n,s)}function av(t,e,s){let n=`FIRESTORE (${Kr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(s!==void 0)try{n+=" CONTEXT: "+JSON.stringify(s)}catch{n+=" CONTEXT: "+s}throw Es(n),new Error(n)}function de(t,e,s,n){let i="Unexpected state";typeof s=="string"?i=s:n=s,t||av(e,i,n)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Gr{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(nt.UNAUTHENTICATED))}shutdown(){}}class oE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class lE{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){de(this.o===void 0,42304);let n=this.i;const i=d=>this.i!==n?(n=this.i,s(d)):Promise.resolve();let a=new sn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new sn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sn)}},0),o()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(n=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(de(typeof n.accessToken=="string",31837,{l:n}),new ov(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new nt(e)}}class cE{constructor(e,s,n){this.P=e,this.T=s,this.I=n,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dE{constructor(e,s,n){this.P=e,this.T=s,this.I=n}getToken(){return Promise.resolve(new cE(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable(()=>s(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uE{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,H_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){de(this.o===void 0,3512);const n=a=>{a.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?s(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(de(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new cg(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let n=0;n<t;n++)s[n]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=hE(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<s&&(n+=e.charAt(i[a]%62))}return n}}function ie(t,e){return t<e?-1:t>e?1:0}function bu(t,e){const s=Math.min(t.length,e.length);for(let n=0;n<s;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return cd(i)===cd(a)?ie(i,a):cd(i)?1:-1}return ie(t.length,e.length)}const mE=55296,fE=57343;function cd(t){const e=t.charCodeAt(0);return e>=mE&&e<=fE}function Vr(t,e,s){return t.length===e.length&&t.every((n,i)=>s(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="__name__";class es{constructor(e,s,n){s===void 0?s=0:s>e.length&&J(637,{offset:s,range:e.length}),n===void 0?n=e.length-s:n>e.length-s&&J(1746,{length:n,range:e.length-s}),this.segments=e,this.offset=s,this.len=n}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach(n=>{s.push(n)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,n=this.limit();s<n;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const n=Math.min(e.length,s.length);for(let i=0;i<n;i++){const a=es.compareSegments(e.get(i),s.get(i));if(a!==0)return a}return ie(e.length,s.length)}static compareSegments(e,s){const n=es.isNumericId(e),i=es.isNumericId(s);return n&&!i?-1:!n&&i?1:n&&i?es.extractNumericId(e).compare(es.extractNumericId(s)):bu(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tn.fromString(e.substring(4,e.length-2))}}class fe extends es{construct(e,s,n){return new fe(e,s,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const n of e){if(n.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);s.push(...n.split("/").filter(i=>i.length>0))}return new fe(s)}static emptyPath(){return new fe([])}}const pE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends es{construct(e,s,n){return new Ge(e,s,n)}static isValidIdentifier(e){return pE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dg}static keyField(){return new Ge([dg])}static fromServerFormat(e){const s=[];let n="",i=0;const a=()=>{if(n.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(n),n=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(n+=c,i++):(a(),i++)}if(a(),o)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(s)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(fe.fromString(e))}static fromName(e){return new Y(fe.fromString(e).popFirst(5))}static empty(){return new Y(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return fe.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,s){if(!s)throw new H(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gE(t,e,s,n){if(e===!0&&n===!0)throw new H(O.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function ug(t){if(!Y.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hg(t){if(Y.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Hl(t);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e){const s={typeString:t};return e&&(s.value=e),s}function Ia(t,e){if(!cv(t))throw new H(O.INVALID_ARGUMENT,"JSON must be an object");let s;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){s=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){s=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){s=`Expected '${n}' field to equal '${a.value}'`;break}}if(s)throw new H(O.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-62135596800,fg=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),n=Math.floor((e-1e3*s)*fg);return new me(s,n)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<mg)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fg}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ia(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Me("string",me._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new me(0,0))}static max(){return new Z(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=-1;function xE(t,e){const s=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(n===1e9?new me(s+1,0):new me(s,n));return new on(i,Y.empty(),e)}function yE(t){return new on(t.readTime,t.key,va)}class on{constructor(e,s,n){this.readTime=e,this.documentKey=s,this.largestBatchId=n}static min(){return new on(Z.min(),Y.empty(),va)}static max(){return new on(Z.max(),Y.empty(),va)}}function vE(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=Y.comparator(t.documentKey,e.documentKey),s!==0?s:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==bE)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new F((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(s,a).next(n,i)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof F?s:F.resolve(s)}catch(s){return F.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):F.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):F.reject(s)}static resolve(e){return new F((s,n)=>{s(e)})}static reject(e){return new F((s,n)=>{n(e)})}static waitFor(e){return new F((s,n)=>{let i=0,a=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++a,o&&a===i&&s()},d=>n(d))}),o=!0,a===i&&s()})}static or(e){let s=F.resolve(!1);for(const n of e)s=s.next(i=>i?F.resolve(i):n());return s}static forEach(e,s){const n=[];return e.forEach((i,a)=>{n.push(s.call(this,i,a))}),this.waitFor(n)}static mapArray(e,s){return new F((n,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const u=d;s(e[u]).next(h=>{o[u]=h,++c,c===a&&n(o)},h=>i(h))}})}static doWhile(e,s){return new F((n,i)=>{const a=()=>{e()===!0?s().next(()=>{a()},i):n()};a()})}}function NE(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Jr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>s.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ql.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=-1;function Wl(t){return t==null}function xl(t){return t===0&&1/t==-1/0}function jE(t){return typeof t=="number"&&Number.isInteger(t)&&!xl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="";function _E(t){let e="";for(let s=0;s<t.length;s++)e.length>0&&(e=pg(e)),e=EE(t.get(s),e);return pg(e)}function EE(t,e){let s=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":s+="";break;case dv:s+="";break;default:s+=a}}return s}function pg(t){return t+dv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function xn(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function uv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,s){this.comparator=e,this.root=s||We.EMPTY}insert(e,s){return new _e(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const n=this.comparator(e,s.key);if(n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}indexOf(e){let s=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return s+n.left.size;i<0?n=n.left:(s+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,n)=>(e(s,n),!1))}toString(){const e=[];return this.inorderTraversal((s,n)=>(e.push(`${s}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new po(this.root,e,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new po(this.root,e,this.comparator,!0)}}class po{constructor(e,s,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=s?n(e.key,s):1,s&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,s,n,i,a){this.key=e,this.value=s,this.color=n??We.RED,this.left=i??We.EMPTY,this.right=a??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,n,i,a){return new We(e??this.key,s??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,s,n),null):a===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let n,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,s,n,i,a){return this}insert(e,s,n){return new We(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,n)=>(e(s),!1))}forEachInRange(e,s){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let n;for(n=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new xg(this.data.getIterator())}getIteratorFrom(e){return new xg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(n=>{s=s.add(n)}),s}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const s=this.data.getIterator(),n=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new ze(this.comparator);return s.data=e,s}}class xg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _t([])}unionWith(e){let s=new ze(Ge.comparator);for(const n of this.fields)s=s.add(n);for(const n of e)s=s.add(n);return new _t(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Vr(this.fields,e.fields,(s,n)=>s.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hv("Invalid base64 string: "+a):a}}(e);return new Xe(s)}static fromUint8Array(e){const s=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Xe(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const n=new Uint8Array(s.length);for(let i=0;i<s.length;i++)n[i]=s.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const SE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ln(t){if(de(!!t,39018),typeof t=="string"){let e=0;const s=SE.exec(t);if(de(!!s,46558,{timestamp:t}),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cn(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="server_timestamp",fv="__type__",pv="__previous_value__",gv="__local_write_time__";function Gh(t){var s,n;return((n=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[fv])==null?void 0:n.stringValue)===mv}function Gl(t){const e=t.mapValue.fields[pv];return Gh(e)?Gl(e):e}function ba(t){const e=ln(t.mapValue.fields[gv].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,s,n,i,a,o,c,d,u,h){this.databaseId=e,this.appId=s,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=u,this.isUsingEmulator=h}}const yl="(default)";class wa{constructor(e,s){this.projectId=e,this.database=s||yl}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===yl}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__type__",TE="__max__",go={mapValue:{}},yv="__vector__",vl="value";function dn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gh(t)?4:kE(t)?9007199254740991:AE(t)?10:11:J(28295,{value:t})}function us(t,e){if(t===e)return!0;const s=dn(t);if(s!==dn(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ba(t).isEqual(ba(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ln(i.timestampValue),c=ln(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return cn(i.bytesValue).isEqual(cn(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ae(i.geoPointValue.latitude)===Ae(a.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ae(i.integerValue)===Ae(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ae(i.doubleValue),c=Ae(a.doubleValue);return o===c?xl(o)===xl(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Vr(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(gg(o)!==gg(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!us(o[d],c[d])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Na(t,e){return(t.values||[]).find(s=>us(s,e))!==void 0}function Lr(t,e){if(t===e)return 0;const s=dn(t),n=dn(e);if(s!==n)return ie(s,n);switch(s){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(a,o){const c=Ae(a.integerValue||a.doubleValue),d=Ae(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return yg(t.timestampValue,e.timestampValue);case 4:return yg(ba(t),ba(e));case 5:return bu(t.stringValue,e.stringValue);case 6:return function(a,o){const c=cn(a),d=cn(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const c=a.split("/"),d=o.split("/");for(let u=0;u<c.length&&u<d.length;u++){const h=ie(c[u],d[u]);if(h!==0)return h}return ie(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const c=ie(Ae(a.latitude),Ae(o.latitude));return c!==0?c:ie(Ae(a.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vg(t.arrayValue,e.arrayValue);case 10:return function(a,o){var g,w,A,S;const c=a.fields||{},d=o.fields||{},u=(g=c[vl])==null?void 0:g.arrayValue,h=(w=d[vl])==null?void 0:w.arrayValue,f=ie(((A=u==null?void 0:u.values)==null?void 0:A.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return f!==0?f:vg(u,h)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===go.mapValue&&o===go.mapValue)return 0;if(a===go.mapValue)return 1;if(o===go.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),u=o.fields||{},h=Object.keys(u);d.sort(),h.sort();for(let f=0;f<d.length&&f<h.length;++f){const g=bu(d[f],h[f]);if(g!==0)return g;const w=Lr(c[d[f]],u[h[f]]);if(w!==0)return w}return ie(d.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:s})}}function yg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const s=ln(t),n=ln(e),i=ie(s.seconds,n.seconds);return i!==0?i:ie(s.nanos,n.nanos)}function vg(t,e){const s=t.values||[],n=e.values||[];for(let i=0;i<s.length&&i<n.length;++i){const a=Lr(s[i],n[i]);if(a)return a}return ie(s.length,n.length)}function Or(t){return wu(t)}function wu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const n=ln(s);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(s){return cn(s).toBase64()}(t.bytesValue):"referenceValue"in t?function(s){return Y.fromName(s).toString()}(t.referenceValue):"geoPointValue"in t?function(s){return`geo(${s.latitude},${s.longitude})`}(t.geoPointValue):"arrayValue"in t?function(s){let n="[",i=!0;for(const a of s.values||[])i?i=!1:n+=",",n+=wu(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(s){const n=Object.keys(s.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${wu(s.fields[o])}`;return i+"}"}(t.mapValue):J(61005,{value:t})}function Po(t){switch(dn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gl(t);return e?16+Po(e):16;case 5:return 2*t.stringValue.length;case 6:return cn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Po(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return xn(n.fields,(a,o)=>{i+=a.length+Po(o)}),i}(t.mapValue);default:throw J(13486,{value:t})}}function bg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nu(t){return!!t&&"integerValue"in t}function Kh(t){return!!t&&"arrayValue"in t}function wg(t){return!!t&&"nullValue"in t}function Ng(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ro(t){return!!t&&"mapValue"in t}function AE(t){var s,n;return((n=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[xv])==null?void 0:n.stringValue)===yv}function Hi(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xn(t.mapValue.fields,(s,n)=>e.mapValue.fields[s]=Hi(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Hi(t.arrayValue.values[s]);return e}return{...t}}function kE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.value=e}static empty(){return new gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let n=0;n<e.length-1;++n)if(s=(s.mapValue.fields||{})[e.get(n)],!Ro(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hi(s)}setAll(e){let s=Ge.emptyPath(),n={},i=[];e.forEach((o,c)=>{if(!s.isImmediateParentOf(c)){const d=this.getFieldsMap(s);this.applyChanges(d,n,i),n={},i=[],s=c.popLast()}o?n[c.lastSegment()]=Hi(o):i.push(c.lastSegment())});const a=this.getFieldsMap(s);this.applyChanges(a,n,i)}delete(e){const s=this.field(e.popLast());Ro(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=s.mapValue.fields[e.get(n)];Ro(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(n)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,n){xn(s,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new gt(Hi(this.value))}}function vv(t){const e=[];return xn(t.fields,(s,n)=>{const i=new Ge([s]);if(Ro(n)){const a=vv(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new _t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,s,n,i,a,o,c){this.key=e,this.documentType=s,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new it(e,0,Z.min(),Z.min(),Z.min(),gt.empty(),0)}static newFoundDocument(e,s,n,i){return new it(e,1,s,Z.min(),n,i,0)}static newNoDocument(e,s){return new it(e,2,s,Z.min(),Z.min(),gt.empty(),0)}static newUnknownDocument(e,s){return new it(e,3,s,Z.min(),Z.min(),gt.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,s){this.position=e,this.inclusive=s}}function jg(t,e,s){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Y.comparator(Y.fromName(o.referenceValue),s.key):n=Lr(o,s.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function _g(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!us(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,s="asc"){this.field=e,this.dir=s}}function IE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{}class De extends bv{constructor(e,s,n){super(),this.field=e,this.op=s,this.value=n}static create(e,s,n){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,n):new RE(e,s,n):s==="array-contains"?new VE(e,n):s==="in"?new LE(e,n):s==="not-in"?new OE(e,n):s==="array-contains-any"?new FE(e,n):new De(e,s,n)}static createKeyFieldInFilter(e,s,n){return s==="in"?new DE(e,n):new ME(e,n)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Lr(s,this.value)):s!==null&&dn(this.value)===dn(s)&&this.matchesComparison(Lr(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kt extends bv{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new Kt(e,s)}matches(e){return wv(this)?this.filters.find(s=>!s.matches(e))===void 0:this.filters.find(s=>s.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wv(t){return t.op==="and"}function Nv(t){return PE(t)&&wv(t)}function PE(t){for(const e of t.filters)if(e instanceof Kt)return!1;return!0}function ju(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+Or(t.value);if(Nv(t))return t.filters.map(e=>ju(e)).join(",");{const e=t.filters.map(s=>ju(s)).join(",");return`${t.op}(${e})`}}function jv(t,e){return t instanceof De?function(n,i){return i instanceof De&&n.op===i.op&&n.field.isEqual(i.field)&&us(n.value,i.value)}(t,e):t instanceof Kt?function(n,i){return i instanceof Kt&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,c)=>a&&jv(o,i.filters[c]),!0):!1}(t,e):void J(19439)}function _v(t){return t instanceof De?function(s){return`${s.field.canonicalString()} ${s.op} ${Or(s.value)}`}(t):t instanceof Kt?function(s){return s.op.toString()+" {"+s.getFilters().map(_v).join(" ,")+"}"}(t):"Filter"}class RE extends De{constructor(e,s,n){super(e,s,n),this.key=Y.fromName(n.referenceValue)}matches(e){const s=Y.comparator(e.key,this.key);return this.matchesComparison(s)}}class DE extends De{constructor(e,s){super(e,"in",s),this.keys=Ev("in",s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class ME extends De{constructor(e,s){super(e,"not-in",s),this.keys=Ev("not-in",s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Ev(t,e){var s;return(((s=e.arrayValue)==null?void 0:s.values)||[]).map(n=>Y.fromName(n.referenceValue))}class VE extends De{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Kh(s)&&Na(s.arrayValue,this.value)}}class LE extends De{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Na(this.value.arrayValue,s)}}class OE extends De{constructor(e,s){super(e,"not-in",s)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Na(this.value.arrayValue,s)}}class FE extends De{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Kh(s)||!s.arrayValue.values)&&s.arrayValue.values.some(n=>Na(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,s=null,n=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=s,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function Eg(t,e=null,s=[],n=[],i=null,a=null,o=null){return new zE(t,e,s,n,i,a,o)}function Yh(t){const e=ee(t);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(n=>ju(n)).join(","),s+="|ob:",s+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Wl(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(n=>Or(n)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(n=>Or(n)).join(",")),e.Te=s}return e.Te}function Jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!IE(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!jv(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_g(t.startAt,e.startAt)&&_g(t.endAt,e.endAt)}function _u(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,s=null,n=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UE(t,e,s,n,i,a,o,c){return new Pa(t,e,s,n,i,a,o,c)}function Xh(t){return new Pa(t)}function Sg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sv(t){return t.collectionGroup!==null}function Qi(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const s=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),s.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ze(Ge.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(a=>{s.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new wl(a,n))}),s.has(Ge.keyField().canonicalString())||e.Ie.push(new wl(Ge.keyField(),n))}return e.Ie}function rs(t){const e=ee(t);return e.Ee||(e.Ee=BE(e,Qi(t))),e.Ee}function BE(t,e){if(t.limitType==="F")return Eg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new wl(i.field,a)});const s=t.endAt?new bl(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new bl(t.startAt.position,t.startAt.inclusive):null;return Eg(t.path,t.collectionGroup,e,t.filters,t.limit,s,n)}}function Eu(t,e){const s=t.filters.concat([e]);return new Pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),s,t.limit,t.limitType,t.startAt,t.endAt)}function Su(t,e,s){return new Pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function Kl(t,e){return Jh(rs(t),rs(e))&&t.limitType===e.limitType}function Cv(t){return`${Yh(rs(t))}|lt:${t.limitType}`}function rr(t){return`Query(target=${function(s){let n=s.path.canonicalString();return s.collectionGroup!==null&&(n+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(n+=`, filters: [${s.filters.map(i=>_v(i)).join(", ")}]`),Wl(s.limit)||(n+=", limit: "+s.limit),s.orderBy.length>0&&(n+=`, orderBy: [${s.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),s.startAt&&(n+=", startAt: ",n+=s.startAt.inclusive?"b:":"a:",n+=s.startAt.position.map(i=>Or(i)).join(",")),s.endAt&&(n+=", endAt: ",n+=s.endAt.inclusive?"a:":"b:",n+=s.endAt.position.map(i=>Or(i)).join(",")),`Target(${n})`}(rs(t))}; limitType=${t.limitType})`}function Yl(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Y.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Qi(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,c,d){const u=jg(o,c,d);return o.inclusive?u<=0:u<0}(n.startAt,Qi(n),i)||n.endAt&&!function(o,c,d){const u=jg(o,c,d);return o.inclusive?u>=0:u>0}(n.endAt,Qi(n),i))}(t,e)}function qE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Tv(t){return(e,s)=>{let n=!1;for(const i of Qi(t)){const a=$E(i,e,s);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function $E(t,e,s){const n=t.field.isKeyField()?Y.comparator(e.key,s.key):function(a,o,c){const d=o.data.field(a),u=c.data.field(a);return d!==null&&u!==null?Lr(d,u):J(42886)}(t.field,e,s);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),n=this.inner[s];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,s){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,s]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),n=this.inner[s];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[s]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xn(this.inner,(s,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return uv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new _e(Y.comparator);function Ss(){return HE}const Av=new _e(Y.comparator);function Pi(...t){let e=Av;for(const s of t)e=e.insert(s.key,s);return e}function kv(t){let e=Av;return t.forEach((s,n)=>e=e.insert(s,n.overlayedDocument)),e}function Rn(){return Wi()}function Iv(){return Wi()}function Wi(){return new Yn(t=>t.toString(),(t,e)=>t.isEqual(e))}const QE=new _e(Y.comparator),WE=new ze(Y.comparator);function ae(...t){let e=WE;for(const s of t)e=e.add(s);return e}const GE=new ze(ie);function KE(){return GE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}function Pv(t){return{integerValue:""+t}}function YE(t,e){return jE(e)?Pv(e):Zh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this._=void 0}}function JE(t,e,s){return t instanceof ja?function(i,a){const o={fields:{[fv]:{stringValue:mv},[gv]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Gh(a)&&(a=Gl(a)),a&&(o.fields[pv]=a),{mapValue:o}}(s,e):t instanceof _a?Dv(t,e):t instanceof Ea?Mv(t,e):function(i,a){const o=Rv(i,a),c=Cg(o)+Cg(i.Ae);return Nu(o)&&Nu(i.Ae)?Pv(c):Zh(i.serializer,c)}(t,e)}function XE(t,e,s){return t instanceof _a?Dv(t,e):t instanceof Ea?Mv(t,e):s}function Rv(t,e){return t instanceof Nl?function(n){return Nu(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class ja extends Jl{}class _a extends Jl{constructor(e){super(),this.elements=e}}function Dv(t,e){const s=Vv(e);for(const n of t.elements)s.some(i=>us(i,n))||s.push(n);return{arrayValue:{values:s}}}class Ea extends Jl{constructor(e){super(),this.elements=e}}function Mv(t,e){let s=Vv(e);for(const n of t.elements)s=s.filter(i=>!us(i,n));return{arrayValue:{values:s}}}class Nl extends Jl{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function Cg(t){return Ae(t.integerValue||t.doubleValue)}function Vv(t){return Kh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,s){this.field=e,this.transform=s}}function eS(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof _a&&i instanceof _a||n instanceof Ea&&i instanceof Ea?Vr(n.elements,i.elements,us):n instanceof Nl&&i instanceof Nl?us(n.Ae,i.Ae):n instanceof ja&&i instanceof ja}(t.transform,e.transform)}class tS{constructor(e,s){this.version=e,this.transformResults=s}}class is{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new is}static exists(e){return new is(void 0,e)}static updateTime(e){return new is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Do(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xl{}function Lv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fv(t.key,is.none()):new Ra(t.key,t.data,is.none());{const s=t.data,n=gt.empty();let i=new ze(Ge.comparator);for(let a of e.fields)if(!i.has(a)){let o=s.field(a);o===null&&a.length>1&&(a=a.popLast(),o=s.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new yn(t.key,n,new _t(i.toArray()),is.none())}}function sS(t,e,s){t instanceof Ra?function(i,a,o){const c=i.value.clone(),d=Ag(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,s):t instanceof yn?function(i,a,o){if(!Do(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=Ag(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(Ov(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,s):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,s)}function Gi(t,e,s,n){return t instanceof Ra?function(a,o,c,d){if(!Do(a.precondition,o))return c;const u=a.value.clone(),h=kg(a.fieldTransforms,d,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,s,n):t instanceof yn?function(a,o,c,d){if(!Do(a.precondition,o))return c;const u=kg(a.fieldTransforms,d,o),h=o.data;return h.setAll(Ov(a)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,s,n):function(a,o,c){return Do(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,s)}function nS(t,e){let s=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Rv(n.transform,i||null);a!=null&&(s===null&&(s=gt.empty()),s.set(n.field,a))}return s||null}function Tg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vr(n,i,(a,o)=>eS(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ra extends Xl{constructor(e,s,n,i=[]){super(),this.key=e,this.value=s,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yn extends Xl{constructor(e,s,n,i,a=[]){super(),this.key=e,this.data=s,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(t){const e=new Map;return t.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const n=t.data.field(s);e.set(s,n)}}),e}function Ag(t,e,s){const n=new Map;de(t.length===s.length,32656,{Re:s.length,Ve:t.length});for(let i=0;i<s.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);n.set(a.field,XE(o,c,s[i]))}return n}function kg(t,e,s){const n=new Map;for(const i of t){const a=i.transform,o=s.data.field(i.field);n.set(i.field,JE(a,o,e))}return n}class Fv extends Xl{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rS extends Xl{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,s,n,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,s){const n=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sS(a,e,n[i])}}applyToLocalView(e,s){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(s=Gi(n,e,s,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(s=Gi(n,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const n=Iv();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=s.has(i.key)?null:c;const d=Lv(o,c);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Z.min())}),n}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),ae())}isEqual(e){return this.batchId===e.batchId&&Vr(this.mutations,e.mutations,(s,n)=>Tg(s,n))&&Vr(this.baseMutations,e.baseMutations,(s,n)=>Tg(s,n))}}class em{constructor(e,s,n,i){this.batch=e,this.commitVersion=s,this.mutationResults=n,this.docVersions=i}static from(e,s,n){de(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return QE}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new em(e,s,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,oe;function lS(t){switch(t){case O.OK:return J(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function zv(t){if(t===void 0)return Es("GRPC error has no .code"),O.UNKNOWN;switch(t){case Pe.OK:return O.OK;case Pe.CANCELLED:return O.CANCELLED;case Pe.UNKNOWN:return O.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return O.INTERNAL;case Pe.UNAVAILABLE:return O.UNAVAILABLE;case Pe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Pe.NOT_FOUND:return O.NOT_FOUND;case Pe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Pe.ABORTED:return O.ABORTED;case Pe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Pe.DATA_LOSS:return O.DATA_LOSS;default:return J(39323,{code:t})}}(oe=Pe||(Pe={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new tn([4294967295,4294967295],0);function Ig(t){const e=cS().encode(t),s=new ev;return s.update(e),new Uint8Array(s.digest())}function Pg(t){const e=new DataView(t.buffer),s=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new tn([s,n],0),new tn([i,a],0)]}class tm{constructor(e,s,n){if(this.bitmap=e,this.padding=s,this.hashCount=n,s<0||s>=8)throw new Ri(`Invalid padding: ${s}`);if(n<0)throw new Ri(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ri(`Invalid hash count: ${n}`);if(e.length===0&&s!==0)throw new Ri(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=tn.fromNumber(this.ge)}ye(e,s,n){let i=e.add(s.multiply(tn.fromNumber(n)));return i.compare(dS)===1&&(i=new tn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=Ig(e),[n,i]=Pg(s);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,s,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new tm(a,i,s);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const s=Ig(e),[n,i]=Pg(s);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const s=Math.floor(e/8),n=e%8;this.bitmap[s]|=1<<n}}class Ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,s,n,i,a){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,s,n){const i=new Map;return i.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,s,n)),new Zl(Z.min(),i,new _e(ie),Ss(),ae())}}class Da{constructor(e,s,n,i,a){this.resumeToken=e,this.current=s,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,s,n){return new Da(n,s,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,s,n,i){this.be=e,this.removedTargetIds=s,this.key=n,this.De=i}}class Uv{constructor(e,s){this.targetId=e,this.Ce=s}}class Bv{constructor(e,s,n=Xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=n,this.cause=i}}class Rg{constructor(){this.ve=0,this.Fe=Dg(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),s=ae(),n=ae();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:n=n.add(i);break;default:J(38017,{changeType:a})}}),new Da(this.Me,this.xe,e,s,n)}qe(){this.Oe=!1,this.Fe=Dg()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=xo(),this.He=xo(),this.Ye=new _e(ie)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,s=>{const n=this.nt(s);switch(e.state){case 0:this.rt(s)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),n.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach((n,i)=>{this.rt(i)&&s(i)})}st(e){const s=e.targetId,n=e.Ce.count,i=this.ot(s);if(i){const a=i.target;if(_u(a))if(n===0){const o=new Y(a.path);this.et(s,o,it.newNoDocument(o,Z.min()))}else de(n===1,20013,{expectedCount:n});else{const o=this._t(s);if(o!==n){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(s);const u=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,u)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=s;let o,c;try{o=cn(n).toUint8Array()}catch(d){if(d instanceof hv)return Mr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new tm(o,i,a)}catch(d){return Mr(d instanceof Ri?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,s,n){return s.Ce.count===n-this.Pt(e,s.targetId)?0:2}Pt(e,s){const n=this.Ge.getRemoteKeysForTarget(s);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(s,a,null),i++)}),i}Tt(e){const s=new Map;this.ze.forEach((a,o)=>{const c=this.ot(o);if(c){if(a.current&&_u(c.target)){const d=new Y(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,it.newNoDocument(d,e))}a.Be&&(s.set(o,a.ke()),a.qe())}});let n=ae();this.He.forEach((a,o)=>{let c=!0;o.forEachWhile(d=>{const u=this.ot(d);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new Zl(e,s,this.Ye,this.je,n);return this.je=Ss(),this.Je=xo(),this.He=xo(),this.Ye=new _e(ie),i}Xe(e,s){if(!this.rt(e))return;const n=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,n),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,s)?i.Qe(s,1):i.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),n&&(this.je=this.je.insert(s,n))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new Rg,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new ze(ie),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new ze(ie),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||Q("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rg),this.Ge.getRemoteKeysForTarget(e).forEach(s=>{this.et(e,s,null)})}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function xo(){return new _e(Y.comparator)}function Dg(){return new _e(Y.comparator)}const hS={asc:"ASCENDING",desc:"DESCENDING"},mS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fS={and:"AND",or:"OR"};class pS{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Cu(t,e){return t.useProto3Json||Wl(e)?e:{value:e}}function jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gS(t,e){return jl(t,e.toTimestamp())}function as(t){return de(!!t,49232),Z.fromTimestamp(function(s){const n=ln(s);return new me(n.seconds,n.nanos)}(t))}function sm(t,e){return Tu(t,e).canonicalString()}function Tu(t,e){const s=function(i){return new fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?s:s.child(e)}function $v(t){const e=fe.fromString(t);return de(Kv(e),10190,{key:e.toString()}),e}function Au(t,e){return sm(t.databaseId,e.path)}function dd(t,e){const s=$v(e);if(s.get(1)!==t.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new Y(Qv(s))}function Hv(t,e){return sm(t.databaseId,e)}function xS(t){const e=$v(t);return e.length===4?fe.emptyPath():Qv(e)}function ku(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qv(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mg(t,e,s){return{name:Au(t,e),fields:s.value.mapValue.fields}}function yS(t,e){let s;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,h){return u.useProto3Json?(de(h===void 0||typeof h=="string",58123),Xe.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Xe.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){const h=u.code===void 0?O.UNKNOWN:zv(u.code);return new H(h,u.message||"")}(o);s=new Bv(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=dd(t,n.document.name),a=as(n.document.updateTime),o=n.document.createTime?as(n.document.createTime):Z.min(),c=new gt({mapValue:{fields:n.document.fields}}),d=it.newFoundDocument(i,a,o,c),u=n.targetIds||[],h=n.removedTargetIds||[];s=new Mo(u,h,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=dd(t,n.document),a=n.readTime?as(n.readTime):Z.min(),o=it.newNoDocument(i,a),c=n.removedTargetIds||[];s=new Mo([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=dd(t,n.document),a=n.removedTargetIds||[];s=new Mo([],a,i,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new oS(i,a),c=n.targetId;s=new Uv(c,o)}}return s}function vS(t,e){let s;if(e instanceof Ra)s={update:Mg(t,e.key,e.value)};else if(e instanceof Fv)s={delete:Au(t,e.key)};else if(e instanceof yn)s={update:Mg(t,e.key,e.data),updateMask:TS(e.fieldMask)};else{if(!(e instanceof rS))return J(16599,{Vt:e.type});s={verify:Au(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const c=o.transform;if(c instanceof ja)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nl)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw J(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(s.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:gS(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:J(27497)}(t,e.precondition)),s}function bS(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(s=>function(i,a){let o=i.updateTime?as(i.updateTime):as(a);return o.isEqual(Z.min())&&(o=as(a)),new tS(o,i.transformResults||[])}(s,e))):[]}function wS(t,e){return{documents:[Hv(t,e.path)]}}function NS(t,e){const s={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),s.structuredQuery.from=[{collectionId:n.lastSegment()}]),s.parent=Hv(t,i);const a=function(u){if(u.length!==0)return Gv(Kt.create(u,"and"))}(e.filters);a&&(s.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:ir(g.field),direction:ES(g.dir)}}(h))}(e.orderBy);o&&(s.structuredQuery.orderBy=o);const c=Cu(t,e.limit);return c!==null&&(s.structuredQuery.limit=c),e.startAt&&(s.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(s.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:s,parent:i}}function jS(t){let e=xS(t.parent);const s=t.structuredQuery,n=s.from?s.from.length:0;let i=null;if(n>0){de(n===1,65062);const h=s.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];s.where&&(a=function(f){const g=Wv(f);return g instanceof Kt&&Nv(g)?g.getFilters():[g]}(s.where));let o=[];s.orderBy&&(o=function(f){return f.map(g=>function(A){return new wl(ar(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(s.orderBy));let c=null;s.limit&&(c=function(f){let g;return g=typeof f=="object"?f.value:f,Wl(g)?null:g}(s.limit));let d=null;s.startAt&&(d=function(f){const g=!!f.before,w=f.values||[];return new bl(w,g)}(s.startAt));let u=null;return s.endAt&&(u=function(f){const g=!f.before,w=f.values||[];return new bl(w,g)}(s.endAt)),UE(e,i,o,a,c,"F",d,u)}function _S(t,e){const s=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return s==null?null:{"goog-listen-tags":s}}function Wv(t){return t.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const n=ar(s.unaryFilter.field);return De.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ar(s.unaryFilter.field);return De.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ar(s.unaryFilter.field);return De.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ar(s.unaryFilter.field);return De.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(s){return De.create(ar(s.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(s){return Kt.create(s.compositeFilter.filters.map(n=>Wv(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(s.compositeFilter.op))}(t):J(30097,{filter:t})}function ES(t){return hS[t]}function SS(t){return mS[t]}function CS(t){return fS[t]}function ir(t){return{fieldPath:t.canonicalString()}}function ar(t){return Ge.fromServerFormat(t.fieldPath)}function Gv(t){return t instanceof De?function(s){if(s.op==="=="){if(Ng(s.value))return{unaryFilter:{field:ir(s.field),op:"IS_NAN"}};if(wg(s.value))return{unaryFilter:{field:ir(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Ng(s.value))return{unaryFilter:{field:ir(s.field),op:"IS_NOT_NAN"}};if(wg(s.value))return{unaryFilter:{field:ir(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ir(s.field),op:SS(s.op),value:s.value}}}(t):t instanceof Kt?function(s){const n=s.getFilters().map(i=>Gv(i));return n.length===1?n[0]:{compositeFilter:{op:CS(s.op),filters:n}}}(t):J(54877,{filter:t})}function TS(t){const e=[];return t.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function Kv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,s,n,i,a=Z.min(),o=Z.min(),c=Xe.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=s,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.yt=e}}function kS(t){const e=jS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Su(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.Cn=new PS}addToCollectionParentIndex(e,s){return this.Cn.add(s),F.resolve()}getCollectionParents(e,s){return F.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return F.resolve()}deleteFieldIndex(e,s){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,s){return F.resolve()}getDocumentsMatchingTarget(e,s){return F.resolve(null)}getIndexType(e,s){return F.resolve(0)}getFieldIndexes(e,s){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,s){return F.resolve(on.min())}getMinOffsetFromCollectionGroup(e,s){return F.resolve(on.min())}updateCollectionGroup(e,s,n){return F.resolve()}updateIndexEntries(e,s){return F.resolve()}}class PS{constructor(){this.index={}}add(e){const s=e.lastSegment(),n=e.popLast(),i=this.index[s]||new ze(fe.comparator),a=!i.has(n);return this.index[s]=i.add(n),a}has(e){const s=e.lastSegment(),n=e.popLast(),i=this.index[s];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ze(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yv=41943040;class ft{static withCacheSize(e){return new ft(e,ft.DEFAULT_COLLECTION_PERCENTILE,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ft.DEFAULT_COLLECTION_PERCENTILE=10,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ft.DEFAULT=new ft(Yv,ft.DEFAULT_COLLECTION_PERCENTILE,ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ft.DISABLED=new ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fr(0)}static cr(){return new Fr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LruGarbageCollector",RS=1048576;function Og([t,e],[s,n]){const i=ie(t,s);return i===0?ie(e,n):i}class DS{constructor(e){this.Ir=e,this.buffer=new ze(Og),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const n=this.buffer.last();Og(s,n)<0&&(this.buffer=this.buffer.delete(n).add(s))}}get maxValue(){return this.buffer.last()[0]}}class MS{constructor(e,s,n){this.garbageCollector=e,this.asyncQueue=s,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(Lg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Jr(s)?Q(Lg,"Ignoring IndexedDB error during garbage collection: ",s):await Yr(s)}await this.Vr(3e5)})}}class VS{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next(n=>Math.floor(s/100*n))}nthSequenceNumber(e,s){if(s===0)return F.resolve(Ql.ce);const n=new DS(s);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,s,n){return this.mr.removeTargets(e,s,n)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Vg)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vg):this.yr(e,s))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let n,i,a,o,c,d,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,c=Date.now(),this.removeTargets(e,n,s))).next(f=>(a=f,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),nr()<=le.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${f} documents in `+(u-d)+`ms
Total Duration: ${u-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function LS(t,e){return new VS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.changes=new Yn(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const n=this.changes.get(s);return n!==void 0?F.resolve(n):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,s,n,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,s){let n=null;return this.documentOverlayCache.getOverlay(e,s).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,s))).next(i=>(n!==null&&Gi(n.mutation,i,_t.empty(),me.now()),i))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(n=>this.getLocalViewOfDocuments(e,n,ae()).next(()=>n))}getLocalViewOfDocuments(e,s,n=ae()){const i=Rn();return this.populateOverlays(e,i,s).next(()=>this.computeViews(e,s,i,n).next(a=>{let o=Pi();return a.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,s){const n=Rn();return this.populateOverlays(e,n,s).next(()=>this.computeViews(e,s,n,ae()))}populateOverlays(e,s,n){const i=[];return n.forEach(a=>{s.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,c)=>{s.set(o,c)})})}computeViews(e,s,n,i){let a=Ss();const o=Wi(),c=function(){return Wi()}();return s.forEach((d,u)=>{const h=n.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof yn)?a=a.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Gi(h.mutation,u,h.mutation.getFieldMask(),me.now())):o.set(u.key,_t.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((u,h)=>o.set(u,h)),s.forEach((u,h)=>c.set(u,new FS(h,o.get(u)??null))),c))}recalculateAndSaveOverlays(e,s){const n=Wi();let i=new _e((o,c)=>o-c),a=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(o=>{for(const c of o)c.keys().forEach(d=>{const u=s.get(d);if(u===null)return;let h=n.get(d)||_t.empty();h=c.applyToLocalView(u,h),n.set(d,h);const f=(i.get(c.batchId)||ae()).add(d);i=i.insert(c.batchId,f)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),u=d.key,h=d.value,f=Iv();h.forEach(g=>{if(!a.has(g)){const w=Lv(s.get(g),n.get(g));w!==null&&f.set(g,w),a=a.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,s,n,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):Sv(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,n,i):this.getDocumentsMatchingCollectionQuery(e,s,n,i)}getNextDocuments(e,s,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,n.largestBatchId,i-a.size):F.resolve(Rn());let c=va,d=a;return o.next(u=>F.forEach(u,(h,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{d=d.insert(h,g)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,d,u,ae())).next(h=>({batchId:c,changes:kv(h)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Y(s)).next(n=>{let i=Pi();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,s,n,i){const a=s.collectionGroup;let o=Pi();return this.indexManager.getCollectionParents(e,a).next(c=>F.forEach(c,d=>{const u=function(f,g){return new Pa(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(s,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,s,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,n,a,i))).next(o=>{a.forEach((d,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,it.newInvalidDocument(h)))});let c=Pi();return o.forEach((d,u)=>{const h=a.get(d);h!==void 0&&Gi(h.mutation,u,_t.empty(),me.now()),Yl(s,u)&&(c=c.insert(d,u))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return F.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,function(i){return{id:i.id,version:i.version,createTime:as(i.createTime)}}(s)),F.resolve()}getNamedQuery(e,s){return F.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,function(i){return{name:i.name,query:kS(i.bundledQuery),readTime:as(i.readTime)}}(s)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.overlays=new _e(Y.comparator),this.qr=new Map}getOverlay(e,s){return F.resolve(this.overlays.get(s))}getOverlays(e,s){const n=Rn();return F.forEach(s,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,s,n){return n.forEach((i,a)=>{this.St(e,s,a)}),F.resolve()}removeOverlaysForBatchId(e,s,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),F.resolve()}getOverlaysForCollection(e,s,n){const i=Rn(),a=s.length+1,o=new Y(s.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,u=d.getKey();if(!s.isPrefixOf(u.path))break;u.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return F.resolve(i)}getOverlaysForCollectionGroup(e,s,n,i){let a=new _e((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===s&&u.largestBatchId>n){let h=a.get(u.largestBatchId);h===null&&(h=Rn(),a=a.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const c=Rn(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((u,h)=>c.set(u,h)),!(c.size()>=i)););return F.resolve(c)}St(e,s,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new aS(s,n));let a=this.qr.get(s);a===void 0&&(a=ae(),this.qr.set(s,a)),this.qr.set(s,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.Qr=new ze(Be.$r),this.Ur=new ze(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const n=new Be(e,s);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,s){e.forEach(n=>this.addReference(n,s))}removeReference(e,s){this.Gr(new Be(e,s))}zr(e,s){e.forEach(n=>this.removeReference(n,s))}jr(e){const s=new Y(new fe([])),n=new Be(s,e),i=new Be(s,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new Y(new fe([])),n=new Be(s,e),i=new Be(s,e+1);let a=ae();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const s=new Be(e,0),n=this.Qr.firstAfterOrEqual(s);return n!==null&&e.isEqual(n.key)}}class Be{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return Y.comparator(e.key,s.key)||ie(e.Yr,s.Yr)}static Kr(e,s){return ie(e.Yr,s.Yr)||Y.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Be.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iS(a,s,n,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new Be(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,s){return F.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const n=s+1,i=this.ei(n),a=i<0?0:i;return F.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Wh:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const n=new Be(s,0),i=new Be(s,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const c=this.Xr(o.Yr);a.push(c)}),F.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,s){let n=new ze(ie);return s.forEach(i=>{const a=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],c=>{n=n.add(c.Yr)})}),F.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,s){const n=s.path,i=n.length+1;let a=n;Y.isDocumentKey(a)||(a=a.child(""));const o=new Be(new Y(a),0);let c=new ze(ie);return this.Zr.forEachWhile(d=>{const u=d.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(c=c.add(d.Yr)),!0)},o),F.resolve(this.ti(c))}ti(e){const s=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&s.push(i)}),s}removeMutationBatch(e,s){de(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return F.forEach(s.mutations,i=>{const a=new Be(i.key,s.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,s){const n=new Be(s,0),i=this.Zr.firstAfterOrEqual(n);return F.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.ri=e,this.docs=function(){return new _e(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const n=s.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(s);return this.docs=this.docs.insert(n,{document:s.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const n=this.docs.get(s);return F.resolve(n?n.document.mutableCopy():it.newInvalidDocument(s))}getEntries(e,s){let n=Ss();return s.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():it.newInvalidDocument(i))}),F.resolve(n)}getDocumentsMatchingQuery(e,s,n,i){let a=Ss();const o=s.path,c=new Y(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:u,value:{document:h}}=d.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vE(yE(h),n)<=0||(i.has(h.key)||Yl(s,h))&&(a=a.insert(h.key,h.mutableCopy()))}return F.resolve(a)}getAllFromCollectionGroup(e,s,n,i){J(9500)}ii(e,s){return F.forEach(this.docs,n=>s(n))}newChangeBuffer(e){return new QS(this)}getSize(e){return F.resolve(this.size)}}class QS extends OS{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?s.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),F.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.persistence=e,this.si=new Yn(s=>Yh(s),Jh),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.oi=0,this._i=new nm,this.targetCount=0,this.ai=Fr.ur()}forEachTarget(e,s){return this.si.forEach((n,i)=>s(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,s,n){return n&&(this.lastRemoteSnapshotVersion=n),s>this.oi&&(this.oi=s),F.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new Fr(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,F.resolve()}updateTargetData(e,s){return this.Pr(s),F.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,s,n){let i=0;const a=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=s&&n.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),F.waitFor(a).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,s){const n=this.si.get(s)||null;return F.resolve(n)}addMatchingKeys(e,s,n){return this._i.Wr(s,n),F.resolve()}removeMatchingKeys(e,s,n){this._i.zr(s,n);const i=this.persistence.referenceDelegate,a=[];return i&&s.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(a)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),F.resolve()}getMatchingKeysForTargetId(e,s){const n=this._i.Hr(s);return F.resolve(n)}containsKey(e,s){return F.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,s){this.ui={},this.overlays={},this.ci=new Ql(0),this.li=!1,this.li=!0,this.hi=new qS,this.referenceDelegate=e(this),this.Pi=new WS(this),this.indexManager=new IS,this.remoteDocumentCache=function(i){return new HS(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new AS(s),this.Ii=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new BS,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let n=this.ui[e.toKey()];return n||(n=new $S(s,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,n){Q("MemoryPersistence","Starting transaction:",e);const i=new GS(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,s){return F.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,s)))}}class GS extends wE{constructor(e){super(),this.currentSequenceNumber=e}}class rm{constructor(e){this.persistence=e,this.Ri=new nm,this.Vi=null}static mi(e){return new rm(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,s,n){return this.Ri.addReference(n,s),this.fi.delete(n.toString()),F.resolve()}removeReference(e,s,n){return this.Ri.removeReference(n,s),this.fi.add(n.toString()),F.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),F.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,s.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,s))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,n=>{const i=Y.fromPath(n);return this.gi(e,i).next(a=>{a||s.removeEntry(i,Z.min())})}).next(()=>(this.Vi=null,s.apply(e)))}updateLimboDocument(e,s){return this.gi(e,s).next(n=>{n?this.fi.delete(s.toString()):this.fi.add(s.toString())})}Ti(e){return 0}gi(e,s){return F.or([()=>F.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class _l{constructor(e,s){this.persistence=e,this.pi=new Yn(n=>_E(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=LS(this,s)}static mi(e,s){return new _l(e,s)}Ei(){}di(e){return F.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>s.next(i=>n+i))}wr(e){let s=0;return this.pr(e,n=>{s++}).next(()=>s)}pr(e,s){return F.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?F.resolve():s(i)))}removeTargets(e,s,n){return this.persistence.getTargetCache().removeTargets(e,s,n)}removeOrphanedDocuments(e,s){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,s).next(c=>{c||(n++,a.removeEntry(o,Z.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}removeTarget(e,s){const n=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,s,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeReference(e,s,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Po(e.data.value)),s}br(e,s,n){return F.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const i=this.pi.get(s);return F.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,s,n,i){this.targetId=e,this.fromCache=s,this.Es=n,this.ds=i}static As(e,s){let n=ae(),i=ae();for(const a of s.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new im(e,s.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Bj()?8:NE(zj())>0?6:4}()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,n,i){const a={result:null};return this.ys(e,s).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,s,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new KS;return this.Ss(e,s,o).next(c=>{if(a.result=c,this.Vs)return this.bs(e,s,o,c.size)})}).next(()=>a.result)}bs(e,s,n,i){return n.documentReadCount<this.fs?(nr()<=le.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",rr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(nr()<=le.DEBUG&&Q("QueryEngine","Query:",rr(s),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(nr()<=le.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",rr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(s))):F.resolve())}ys(e,s){if(Sg(s))return F.resolve(null);let n=rs(s);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(s.limit!==null&&i===1&&(s=Su(s,null,"F"),n=rs(s)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=ae(...a);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const u=this.Ds(s,c);return this.Cs(s,u,o,d.readTime)?this.ys(e,Su(s,null,"F")):this.vs(e,u,s,d)}))})))}ws(e,s,n,i){return Sg(s)||i.isEqual(Z.min())?F.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(s,a);return this.Cs(s,o,n,i)?F.resolve(null):(nr()<=le.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rr(s)),this.vs(e,o,s,xE(i,va)).next(c=>c))})}Ds(e,s){let n=new ze(Tv(e));return s.forEach((i,a)=>{Yl(e,a)&&(n=n.add(a))}),n}Cs(e,s,n,i){if(e.limit===null)return!1;if(n.size!==s.size)return!0;const a=e.limitType==="F"?s.last():s.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,s,n){return nr()<=le.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",rr(s)),this.ps.getDocumentsMatchingQuery(e,s,on.min(),n)}vs(e,s,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(s.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",JS=3e8;class XS{constructor(e,s,n,i){this.persistence=e,this.Fs=s,this.serializer=i,this.Ms=new _e(ie),this.xs=new Yn(a=>Yh(a),Jh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.Ms))}}function ZS(t,e,s,n){return new XS(t,e,s,n)}async function Xv(t,e){const s=ee(t);return await s.persistence.runTransaction("Handle user change","readonly",n=>{let i;return s.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,s.Bs(e),s.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],c=[];let d=ae();for(const u of i){o.push(u.batchId);for(const h of u.mutations)d=d.add(h.key)}for(const u of a){c.push(u.batchId);for(const h of u.mutations)d=d.add(h.key)}return s.localDocuments.getDocuments(n,d).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:c}))})})}function e6(t,e){const s=ee(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=s.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,u,h){const f=u.batch,g=f.keys();let w=F.resolve();return g.forEach(A=>{w=w.next(()=>h.getEntry(d,A)).next(S=>{const N=u.docVersions.get(A);de(N!==null,48541),S.version.compareTo(N)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(d,f))}(s,n,e,a).next(()=>a.apply(n)).next(()=>s.mutationQueue.performConsistencyCheck(n)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=ae();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(d=d.add(c.batch.mutations[u].key));return d}(e))).next(()=>s.localDocuments.getDocuments(n,i))})}function Zv(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Pi.getLastRemoteSnapshotVersion(s))}function t6(t,e){const s=ee(t),n=e.snapshotVersion;let i=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=s.Ns.newChangeBuffer({trackRemovals:!0});i=s.Ms;const c=[];e.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;c.push(s.Pi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>s.Pi.addMatchingKeys(a,h.addedDocuments,f)));let w=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(Xe.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,n)),i=i.insert(f,w),function(S,N,v){return S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=JS?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(g,w,h)&&c.push(s.Pi.updateTargetData(a,w))});let d=Ss(),u=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(s.persistence.referenceDelegate.updateLimboDocument(a,h))}),c.push(s6(a,o,e.documentUpdates).next(h=>{d=h.ks,u=h.qs})),!n.isEqual(Z.min())){const h=s.Pi.getLastRemoteSnapshotVersion(a).next(f=>s.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(h)}return F.waitFor(c).next(()=>o.apply(a)).next(()=>s.localDocuments.getLocalViewOfDocuments(a,d,u)).next(()=>d)}).then(a=>(s.Ms=i,a))}function s6(t,e,s){let n=ae(),i=ae();return s.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Ss();return s.forEach((c,d)=>{const u=a.get(c);d.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Z.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!u.isValidDocument()||d.version.compareTo(u.version)>0||d.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Q(am,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",d.version)}),{ks:o,qs:i}})}function n6(t,e){const s=ee(t);return s.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Wh),s.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function r6(t,e){const s=ee(t);return s.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return s.Pi.getTargetData(n,e).next(a=>a?(i=a,F.resolve(i)):s.Pi.allocateTargetId(n).next(o=>(i=new qs(e,o,"TargetPurposeListen",n.currentSequenceNumber),s.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=s.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(n.targetId,n),s.xs.set(e,n.targetId)),n})}async function Iu(t,e,s){const n=ee(t),i=n.Ms.get(e),a=s?"readwrite":"readwrite-primary";try{s||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jr(o))throw o;Q(am,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Fg(t,e,s){const n=ee(t);let i=Z.min(),a=ae();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,u,h){const f=ee(d),g=f.xs.get(h);return g!==void 0?F.resolve(f.Ms.get(g)):f.Pi.getTargetData(u,h)}(n,o,rs(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,c.targetId).next(d=>{a=d})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,s?i:Z.min(),s?a:ae())).next(c=>(i6(n,qE(e),c),{documents:c,Qs:a})))}function i6(t,e,s){let n=t.Os.get(e)||Z.min();s.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class zg{constructor(){this.activeTargetIds=KE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a6{constructor(){this.Mo=new zg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,n){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,n){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zg,Promise.resolve()}handleUserChange(e,s,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="ConnectivityMonitor";class Bg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(Ug,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(Ug,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo=null;function Pu(){return yo===null?yo=function(){return 268435456+Math.round(2147483648*Math.random())}():yo++,"0x"+yo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="RestConnection",l6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===yl?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,s,n,i,a){const o=Pu(),c=this.zo(e,s.toUriEncodedString());Q(ud,`Sending RPC '${e}' ${o}:`,c,n);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:u}=new URL(c),h=qh(u);return this.Jo(e,c,d,n,h).then(f=>(Q(ud,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Mr(ud,`RPC '${e}' ${o} failed with error: `,f,"url: ",c,"request:",n),f})}Ho(e,s,n,i,a,o){return this.Go(e,s,n,i,a)}jo(e,s,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,s){const n=l6[e];return`${this.Uo}/v1/${s}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class u6 extends c6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,n,i,a){const o=Pu();return new Promise((c,d)=>{const u=new tv;u.setWithCredentials(!0),u.listenOnce(sv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Io.NO_ERROR:const f=u.getResponseJson();Q(st,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),c(f);break;case Io.TIMEOUT:Q(st,`RPC '${e}' ${o} timed out`),d(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const g=u.getStatus();if(Q(st,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w==null?void 0:w.error;if(A&&A.status&&A.message){const S=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(x)>=0?x:O.UNKNOWN}(A.status);d(new H(S,A.message))}else d(new H(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new H(O.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(st,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Q(st,`RPC '${e}' ${o} sending request:`,i),u.send(s,"POST",h,n,15)})}T_(e,s,n){const i=Pu(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iv(),c=rv(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(d.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,s,n),d.encodeInitMessageHeaders=!0;const h=a.join("");Q(st,`Creating RPC '${e}' stream ${i}: ${h}`,d);const f=o.createWebChannel(h,d);this.I_(f);let g=!1,w=!1;const A=new d6({Yo:N=>{w?Q(st,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(Q(st,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Q(st,`RPC '${e}' stream ${i} sending:`,N),f.send(N))},Zo:()=>f.close()}),S=(N,v,x)=>{N.listen(v,_=>{try{x(_)}catch(D){setTimeout(()=>{throw D},0)}})};return S(f,Ii.EventType.OPEN,()=>{w||(Q(st,`RPC '${e}' stream ${i} transport opened.`),A.o_())}),S(f,Ii.EventType.CLOSE,()=>{w||(w=!0,Q(st,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(f))}),S(f,Ii.EventType.ERROR,N=>{w||(w=!0,Mr(st,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new H(O.UNAVAILABLE,"The operation could not be completed")))}),S(f,Ii.EventType.MESSAGE,N=>{var v;if(!w){const x=N.data[0];de(!!x,16349);const _=x,D=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(D){Q(st,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let z=function(E){const T=Pe[E];if(T!==void 0)return zv(T)}(L),j=D.message;z===void 0&&(z=O.INTERNAL,j="Unknown error status: "+L+" with message "+D.message),w=!0,A.a_(new H(z,j)),f.close()}else Q(st,`RPC '${e}' stream ${i} received:`,x),A.u_(x)}}),S(c,nv.STAT_EVENT,N=>{N.stat===vu.PROXY?Q(st,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===vu.NOPROXY&&Q(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(s=>s===e)}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){return new pS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,s,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=s,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,s-n);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="PersistentStream";class tb{constructor(e,s,n,i,a,o,c,d){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===O.RESOURCE_EXHAUSTED?(Es(s.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===s&&this.G_(n,i)},n=>{e(()=>{const i=new H(O.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,s){const n=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(qg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget(()=>this.D_===e?s():(Q(qg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h6 extends tb{constructor(e,s,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,n,i,o),this.serializer=a}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=yS(this.serializer,e),n=function(a){if(!("targetChange"in a))return Z.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?as(o.readTime):Z.min()}(e);return this.listener.H_(s,n)}Y_(e){const s={};s.database=ku(this.serializer),s.addTarget=function(a,o){let c;const d=o.target;if(c=_u(d)?{documents:wS(a,d)}:{query:NS(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=qv(a,o.resumeToken);const u=Cu(a,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){c.readTime=jl(a,o.snapshotVersion.toTimestamp());const u=Cu(a,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);const n=_S(this.serializer,e);n&&(s.labels=n),this.q_(s)}Z_(e){const s={};s.database=ku(this.serializer),s.removeTarget=e,this.q_(s)}}class m6 extends tb{constructor(e,s,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=bS(e.writeResults,e.commitTime),n=as(e.commitTime);return this.listener.na(n,s)}ra(){const e={};e.database=ku(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map(n=>vS(this.serializer,n))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{}class p6 extends f6{constructor(e,s,n,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,Tu(s,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(O.UNKNOWN,a.toString())})}Ho(e,s,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,Tu(s,n),i,o,c,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class g6{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(s),this.aa=!1):Q("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="RemoteStore";class x6{constructor(e,s,n,i,a){this.localStore=e,this.datastore=s,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Jn(this)&&(Q($n,"Restarting streams for network reachability change."),await async function(d){const u=ee(d);u.Ea.add(4),await Ma(u),u.Ra.set("Unknown"),u.Ea.delete(4),await tc(u)}(this))})}),this.Ra=new g6(n,i)}}async function tc(t){if(Jn(t))for(const e of t.da)await e(!0)}async function Ma(t){for(const e of t.da)await e(!1)}function sb(t,e){const s=ee(t);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),dm(s)?cm(s):Xr(s).O_()&&lm(s,e))}function om(t,e){const s=ee(t),n=Xr(s);s.Ia.delete(e),n.O_()&&nb(s,e),s.Ia.size===0&&(n.O_()?n.L_():Jn(s)&&s.Ra.set("Unknown"))}function lm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const s=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Xr(t).Y_(e)}function nb(t,e){t.Va.Ue(e),Xr(t).Z_(e)}function cm(t){t.Va=new uS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xr(t).start(),t.Ra.ua()}function dm(t){return Jn(t)&&!Xr(t).x_()&&t.Ia.size>0}function Jn(t){return ee(t).Ea.size===0}function rb(t){t.Va=void 0}async function y6(t){t.Ra.set("Online")}async function v6(t){t.Ia.forEach((e,s)=>{lm(t,e)})}async function b6(t,e){rb(t),dm(t)?(t.Ra.ha(e),cm(t)):t.Ra.set("Unknown")}async function w6(t,e,s){if(t.Ra.set("Online"),e instanceof Bv&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))}(t,e)}catch(n){Q($n,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await El(t,n)}else if(e instanceof Mo?t.Va.Ze(e):e instanceof Uv?t.Va.st(e):t.Va.tt(e),!s.isEqual(Z.min()))try{const n=await Zv(t.localStore);s.compareTo(n)>=0&&await function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach((d,u)=>{if(d.resumeToken.approximateByteSize()>0){const h=a.Ia.get(u);h&&a.Ia.set(u,h.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,u)=>{const h=a.Ia.get(d);if(!h)return;a.Ia.set(d,h.withResumeToken(Xe.EMPTY_BYTE_STRING,h.snapshotVersion)),nb(a,d);const f=new qs(h.target,d,u,h.sequenceNumber);lm(a,f)}),a.remoteSyncer.applyRemoteEvent(c)}(t,s)}catch(n){Q($n,"Failed to raise snapshot:",n),await El(t,n)}}async function El(t,e,s){if(!Jr(e))throw e;t.Ea.add(1),await Ma(t),t.Ra.set("Offline"),s||(s=()=>Zv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q($n,"Retrying IndexedDB access"),await s(),t.Ea.delete(1),await tc(t)})}function ib(t,e){return e().catch(s=>El(t,s,e))}async function sc(t){const e=ee(t),s=un(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wh;for(;N6(e);)try{const i=await n6(e.localStore,n);if(i===null){e.Ta.length===0&&s.L_();break}n=i.batchId,j6(e,i)}catch(i){await El(e,i)}ab(e)&&ob(e)}function N6(t){return Jn(t)&&t.Ta.length<10}function j6(t,e){t.Ta.push(e);const s=un(t);s.O_()&&s.X_&&s.ea(e.mutations)}function ab(t){return Jn(t)&&!un(t).x_()&&t.Ta.length>0}function ob(t){un(t).start()}async function _6(t){un(t).ra()}async function E6(t){const e=un(t);for(const s of t.Ta)e.ea(s.mutations)}async function S6(t,e,s){const n=t.Ta.shift(),i=em.from(n,e,s);await ib(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sc(t)}async function C6(t,e){e&&un(t).X_&&await async function(n,i){if(function(o){return lS(o)&&o!==O.ABORTED}(i.code)){const a=n.Ta.shift();un(n).B_(),await ib(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await sc(n)}}(t,e),ab(t)&&ob(t)}async function $g(t,e){const s=ee(t);s.asyncQueue.verifyOperationInProgress(),Q($n,"RemoteStore received new credentials");const n=Jn(s);s.Ea.add(3),await Ma(s),n&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await tc(s)}async function T6(t,e){const s=ee(t);e?(s.Ea.delete(2),await tc(s)):e||(s.Ea.add(2),await Ma(s),s.Ra.set("Unknown"))}function Xr(t){return t.ma||(t.ma=function(s,n,i){const a=ee(s);return a.sa(),new h6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:y6.bind(null,t),t_:v6.bind(null,t),r_:b6.bind(null,t),H_:w6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),dm(t)?cm(t):t.Ra.set("Unknown")):(await t.ma.stop(),rb(t))})),t.ma}function un(t){return t.fa||(t.fa=function(s,n,i){const a=ee(s);return a.sa(),new m6(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_6.bind(null,t),r_:C6.bind(null,t),ta:E6.bind(null,t),na:S6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await sc(t)):(await t.fa.stop(),t.Ta.length>0&&(Q($n,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,s,n,i,a){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,n,i,a){const o=Date.now()+n,c=new um(e,s,o,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hm(t,e){if(Es("AsyncQueue",`${e}: ${t}`),Jr(t))return new H(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{static emptySet(e){return new Cr(e.comparator)}constructor(e){this.comparator=e?(s,n)=>e(s,n)||Y.comparator(s.key,n.key):(s,n)=>Y.comparator(s.key,n.key),this.keyedMap=Pi(),this.sortedSet=new _e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,n)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const n=new Cr;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=s,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.ga=new _e(Y.comparator)}track(e){const s=e.doc.key,n=this.ga.get(s);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(s,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(s,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(s):e.type===1&&n.type===2?this.ga=this.ga.insert(s,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal((s,n)=>{e.push(n)}),e}}class zr{constructor(e,s,n,i,a,o,c,d,u){this.query=e,this.docs=s,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=u}static fromInitialDocuments(e,s,n,i,a){const o=[];return s.forEach(c=>{o.push({type:0,doc:c})}),new zr(e,s,Cr.emptySet(s),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,n=e.docChanges;if(s.length!==n.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==n[i].type||!s[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class k6{constructor(){this.queries=Qg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,n){const i=ee(s),a=i.queries;i.queries=Qg(),a.forEach((o,c)=>{for(const d of c.Sa)d.onError(n)})})(this,new H(O.ABORTED,"Firestore shutting down"))}}function Qg(){return new Yn(t=>Cv(t),Kl)}async function lb(t,e){const s=ee(t);let n=3;const i=e.query;let a=s.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new A6,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await s.onListen(i,!0);break;case 1:a.wa=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(o){const c=hm(o,`Initialization of query '${rr(e.query)}' failed`);return void e.onError(c)}s.queries.set(i,a),a.Sa.push(e),e.va(s.onlineState),a.wa&&e.Fa(a.wa)&&mm(s)}async function cb(t,e){const s=ee(t),n=e.query;let i=3;const a=s.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return s.queries.delete(n),s.onUnlisten(n,!0);case 1:return s.queries.delete(n),s.onUnlisten(n,!1);case 2:return s.onLastRemoteStoreUnlisten(n);default:return}}function I6(t,e){const s=ee(t);let n=!1;for(const i of e){const a=i.query,o=s.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(n=!0);o.wa=i}}n&&mm(s)}function P6(t,e,s){const n=ee(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(s);n.queries.delete(e)}function mm(t){t.Ca.forEach(e=>{e.next()})}var Ru,Wg;(Wg=Ru||(Ru={})).Ma="default",Wg.Cache="cache";class db{constructor(e,s,n){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new zr(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const n=s!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ru.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.key=e}}class hb{constructor(e){this.key=e}}class R6{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=Tv(e),this.tu=new Cr(this.eu)}get nu(){return this.Ya}ru(e,s){const n=s?s.iu:new Hg,i=s?s.tu:this.tu;let a=s?s.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const g=i.get(h),w=Yl(this.query,f)?f:null,A=!!g&&this.mutatedKeys.has(g.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;g&&w?g.data.isEqual(w.data)?A!==S&&(n.track({type:3,doc:w}),N=!0):this.su(g,w)||(n.track({type:2,doc:w}),N=!0,(d&&this.eu(w,d)>0||u&&this.eu(w,u)<0)&&(c=!0)):!g&&w?(n.track({type:0,doc:w}),N=!0):g&&!w&&(n.track({type:1,doc:g}),N=!0,(d||u)&&(c=!0)),N&&(w?(o=o.add(w),a=S?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{tu:o,iu:n,Cs:c,mutatedKeys:a}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(w,A){const S=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:N})}};return S(w)-S(A)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(n),i=i??!1;const c=s&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,u=d!==this.Za;return this.Za=d,o.length!==0||u?{snapshot:new zr(this.query,e.tu,a,o,e.mutatedKeys,d===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(s=>this.Ya=this.Ya.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ya=this.Ya.delete(s)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const s=[];return e.forEach(n=>{this.Xa.has(n)||s.push(new hb(n))}),this.Xa.forEach(n=>{e.has(n)||s.push(new ub(n))}),s}cu(e){this.Ya=e.Qs,this.Xa=ae();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fm="SyncEngine";class D6{constructor(e,s,n){this.query=e,this.targetId=s,this.view=n}}class M6{constructor(e){this.key=e,this.hu=!1}}class V6{constructor(e,s,n,i,a,o){this.localStore=e,this.remoteStore=s,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Yn(c=>Cv(c),Kl),this.Iu=new Map,this.Eu=new Set,this.du=new _e(Y.comparator),this.Au=new Map,this.Ru=new nm,this.Vu={},this.mu=new Map,this.fu=Fr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L6(t,e,s=!0){const n=yb(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await mb(n,e,s,!0),i}async function O6(t,e){const s=yb(t);await mb(s,e,!0,!1)}async function mb(t,e,s,n){const i=await r6(t.localStore,rs(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,s);let c;return n&&(c=await F6(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&s&&sb(t.remoteStore,i),c}async function F6(t,e,s,n,i){t.pu=(f,g,w)=>async function(S,N,v,x){let _=N.view.ru(v);_.Cs&&(_=await Fg(S.localStore,N.query,!1).then(({documents:j})=>N.view.ru(j,_)));const D=x&&x.targetChanges.get(N.targetId),L=x&&x.targetMismatches.get(N.targetId)!=null,z=N.view.applyChanges(_,S.isPrimaryClient,D,L);return Kg(S,N.targetId,z.au),z.snapshot}(t,f,g,w);const a=await Fg(t.localStore,e,!0),o=new R6(e,a.Qs),c=o.ru(a.documents),d=Da.createSynthesizedTargetChangeForCurrentChange(s,n&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,d);Kg(t,s,u.au);const h=new D6(e,s,o);return t.Tu.set(e,h),t.Iu.has(s)?t.Iu.get(s).push(e):t.Iu.set(s,[e]),u.snapshot}async function z6(t,e,s){const n=ee(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!Kl(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Iu(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),s&&om(n.remoteStore,i.targetId),Du(n,i.targetId)}).catch(Yr)):(Du(n,i.targetId),await Iu(n.localStore,i.targetId,!0))}async function U6(t,e){const s=ee(t),n=s.Tu.get(e),i=s.Iu.get(n.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(n.targetId),om(s.remoteStore,n.targetId))}async function B6(t,e,s){const n=K6(t);try{const i=await function(o,c){const d=ee(o),u=me.now(),h=c.reduce((w,A)=>w.add(A.key),ae());let f,g;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Ss(),S=ae();return d.Ns.getEntries(w,h).next(N=>{A=N,A.forEach((v,x)=>{x.isValidDocument()||(S=S.add(v))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,A)).next(N=>{f=N;const v=[];for(const x of c){const _=nS(x,f.get(x.key).overlayedDocument);_!=null&&v.push(new yn(x.key,_,vv(_.value.mapValue),is.exists(!0)))}return d.mutationQueue.addMutationBatch(w,u,v,c)}).next(N=>{g=N;const v=N.applyToLocalDocumentSet(f,S);return d.documentOverlayCache.saveOverlays(w,N.batchId,v)})}).then(()=>({batchId:g.batchId,changes:kv(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,c,d){let u=o.Vu[o.currentUser.toKey()];u||(u=new _e(ie)),u=u.insert(c,d),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,s),await Va(n,i.changes),await sc(n.remoteStore)}catch(i){const a=hm(i,"Failed to persist write");s.reject(a)}}async function fb(t,e){const s=ee(t);try{const n=await t6(s.localStore,e);e.targetChanges.forEach((i,a)=>{const o=s.Au.get(a);o&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?de(o.hu,14607):i.removedDocuments.size>0&&(de(o.hu,42227),o.hu=!1))}),await Va(s,n,e)}catch(n){await Yr(n)}}function Gg(t,e,s){const n=ee(t);if(n.isPrimaryClient&&s===0||!n.isPrimaryClient&&s===1){const i=[];n.Tu.forEach((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const d=ee(o);d.onlineState=c;let u=!1;d.queries.forEach((h,f)=>{for(const g of f.Sa)g.va(c)&&(u=!0)}),u&&mm(d)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function q6(t,e,s){const n=ee(t);n.sharedClientState.updateQueryState(e,"rejected",s);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new _e(Y.comparator);o=o.insert(a,it.newNoDocument(a,Z.min()));const c=ae().add(a),d=new Zl(Z.min(),new Map,new _e(ie),o,c);await fb(n,d),n.du=n.du.remove(a),n.Au.delete(e),pm(n)}else await Iu(n.localStore,e,!1).then(()=>Du(n,e,s)).catch(Yr)}async function $6(t,e){const s=ee(t),n=e.batch.batchId;try{const i=await e6(s.localStore,e);gb(s,n,null),pb(s,n),s.sharedClientState.updateMutationState(n,"acknowledged"),await Va(s,i)}catch(i){await Yr(i)}}async function H6(t,e,s){const n=ee(t);try{const i=await function(o,c){const d=ee(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return d.mutationQueue.lookupMutationBatch(u,c).next(f=>(de(f!==null,37113),h=f.keys(),d.mutationQueue.removeMutationBatch(u,f))).next(()=>d.mutationQueue.performConsistencyCheck(u)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(u,h,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>d.localDocuments.getDocuments(u,h))})}(n.localStore,e);gb(n,e,s),pb(n,e),n.sharedClientState.updateMutationState(e,"rejected",s),await Va(n,i)}catch(i){await Yr(i)}}function pb(t,e){(t.mu.get(e)||[]).forEach(s=>{s.resolve()}),t.mu.delete(e)}function gb(t,e,s){const n=ee(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(s?a.reject(s):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Du(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),s&&t.Pu.yu(n,s);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||xb(t,n)})}function xb(t,e){t.Eu.delete(e.path.canonicalString());const s=t.du.get(e);s!==null&&(om(t.remoteStore,s),t.du=t.du.remove(e),t.Au.delete(s),pm(t))}function Kg(t,e,s){for(const n of s)n instanceof ub?(t.Ru.addReference(n.key,e),Q6(t,n)):n instanceof hb?(Q(fm,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||xb(t,n.key)):J(19791,{wu:n})}function Q6(t,e){const s=e.key,n=s.path.canonicalString();t.du.get(s)||t.Eu.has(n)||(Q(fm,"New document in limbo: "+s),t.Eu.add(n),pm(t))}function pm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const s=new Y(fe.fromString(e)),n=t.fu.next();t.Au.set(n,new M6(s)),t.du=t.du.insert(s,n),sb(t.remoteStore,new qs(rs(Xh(s.path)),n,"TargetPurposeLimboResolution",Ql.ce))}}async function Va(t,e,s){const n=ee(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((c,d)=>{o.push(n.pu(d,e,s).then(u=>{var h;if((u||s)&&n.isPrimaryClient){const f=u?!u.fromCache:(h=s==null?void 0:s.targetChanges.get(d.targetId))==null?void 0:h.current;n.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(u){i.push(u);const f=im.As(d.targetId,u);a.push(f)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(d,u){const h=ee(d);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,g=>F.forEach(g.Es,w=>h.persistence.referenceDelegate.addReference(f,g.targetId,w)).next(()=>F.forEach(g.ds,w=>h.persistence.referenceDelegate.removeReference(f,g.targetId,w)))))}catch(f){if(!Jr(f))throw f;Q(am,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const w=h.Ms.get(g),A=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(A);h.Ms=h.Ms.insert(g,S)}}}(n.localStore,a))}async function W6(t,e){const s=ee(t);if(!s.currentUser.isEqual(e)){Q(fm,"User change. New user:",e.toKey());const n=await Xv(s.localStore,e);s.currentUser=e,function(a,o){a.mu.forEach(c=>{c.forEach(d=>{d.reject(new H(O.CANCELLED,o))})}),a.mu.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Va(s,n.Ls)}}function G6(t,e){const s=ee(t),n=s.Au.get(e);if(n&&n.hu)return ae().add(n.key);{let i=ae();const a=s.Iu.get(e);if(!a)return i;for(const o of a){const c=s.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function yb(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q6.bind(null,e),e.Pu.H_=I6.bind(null,e.eventManager),e.Pu.yu=P6.bind(null,e.eventManager),e}function K6(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}class Sl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return ZS(this.persistence,new YS,e.initialUser,this.serializer)}Cu(e){return new Jv(rm.mi,this.serializer)}Du(e){return new a6}async terminate(){var e,s;(e=this.gcScheduler)==null||e.stop(),(s=this.indexBackfillerScheduler)==null||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sl.provider={build:()=>new Sl};class Y6 extends Sl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){de(this.persistence.referenceDelegate instanceof _l,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new MS(n,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?ft.withCacheSize(this.cacheSizeBytes):ft.DEFAULT;return new Jv(n=>_l.mi(n,s),this.serializer)}}class Mu{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Gg(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await T6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new k6}()}createDatastore(e){const s=ec(e.databaseInfo.databaseId),n=function(a){return new u6(a)}(e.databaseInfo);return function(a,o,c,d){return new p6(a,o,c,d)}(e.authCredentials,e.appCheckCredentials,n,s)}createRemoteStore(e){return function(n,i,a,o,c){return new x6(n,i,a,o,c)}(this.localStore,this.datastore,e.asyncQueue,s=>Gg(this.syncEngine,s,0),function(){return Bg.v()?new Bg:new o6}())}createSyncEngine(e,s){return function(i,a,o,c,d,u,h){const f=new V6(i,a,o,c,d,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await async function(i){const a=ee(i);Q($n,"RemoteStore shutting down."),a.Ea.add(5),await Ma(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(s=this.eventManager)==null||s.terminate()}}Mu.provider={build:()=>new Mu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout(()=>{this.muted||e(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="FirestoreClient";class J6{constructor(e,s,n,i,a){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=n,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=Qh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Q(hn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Q(hn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const n=hm(s,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function md(t,e){t.asyncQueue.verifyOperationInProgress(),Q(hn,"Initializing OfflineComponentProvider");const s=t.configuration;await e.initialize(s);let n=s.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Xv(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yg(t,e){t.asyncQueue.verifyOperationInProgress();const s=await X6(t);Q(hn,"Initializing OnlineComponentProvider"),await e.initialize(s,t.configuration),t.setCredentialChangeListener(n=>$g(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>$g(e.remoteStore,i)),t._onlineComponents=e}async function X6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(hn,"Using user provided OfflineComponentProvider");try{await md(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(s))throw s;Mr("Error using user provided cache. Falling back to memory cache: "+s),await md(t,new Sl)}}else Q(hn,"Using default OfflineComponentProvider"),await md(t,new Y6(void 0));return t._offlineComponents}async function bb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(hn,"Using user provided OnlineComponentProvider"),await Yg(t,t._uninitializedComponentsProvider._online)):(Q(hn,"Using default OnlineComponentProvider"),await Yg(t,new Mu))),t._onlineComponents}function Z6(t){return bb(t).then(e=>e.syncEngine)}async function Vu(t){const e=await bb(t),s=e.eventManager;return s.onListen=L6.bind(null,e.syncEngine),s.onUnlisten=z6.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=O6.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=U6.bind(null,e.syncEngine),s}function e4(t,e,s={}){const n=new sn;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,d,u){const h=new vb({next:g=>{h.Nu(),o.enqueueAndForget(()=>cb(a,f)),g.fromCache&&d.source==="server"?u.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new db(c,h,{includeMetadataChanges:!0,qa:!0});return lb(a,f)}(await Vu(t),t.asyncQueue,e,s,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firestore.googleapis.com",Xg=!0;class Zg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nb,this.ssl=Xg}else this.host=e.host,this.ssl=e.ssl??Xg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RS)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wb(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,s,n,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aE;switch(n.type){case"firstParty":return new dE(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const n=Jg.get(s);n&&(Q("ComponentProvider","Removing Datastore"),Jg.delete(s),n.terminate())}(this),Promise.resolve()}}function t4(t,e,s,n={}){var u;t=vs(t,nc);const i=qh(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${s}`;i&&(Mj(`https://${c}`),Fj("Firestore",!0)),a.host!==Nb&&a.host!==c&&Mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:n};if(!fl(d,o)&&(t._setSettings(d),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=nt.MOCK_USER;else{h=Vj(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nt(g)}t._authCredentials=new oE(new ov(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,s,n){this.converter=s,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xn(this.firestore,e,this._query)}}class Ve{constructor(e,s,n){this.converter=s,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,n){if(Ia(s,Ve._jsonSchema))return new Ve(e,n||null,new Y(fe.fromString(s.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Me("string",Ve._jsonSchemaVersion),referencePath:Me("string")};class nn extends Xn{constructor(e,s,n){super(e,s,Xh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new Y(e))}withConverter(e){return new nn(this.firestore,e,this._path)}}function rc(t,e,...s){if(t=ds(t),lv("collection","path",e),t instanceof nc){const n=fe.fromString(e,...s);return hg(n),new nn(t,null,n)}{if(!(t instanceof Ve||t instanceof nn))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(fe.fromString(e,...s));return hg(n),new nn(t.firestore,null,n)}}function gm(t,e,...s){if(t=ds(t),arguments.length===1&&(e=Qh.newId()),lv("doc","path",e),t instanceof nc){const n=fe.fromString(e,...s);return ug(n),new Ve(t,null,new Y(n))}{if(!(t instanceof Ve||t instanceof nn))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(fe.fromString(e,...s));return ug(n),new Ve(t.firestore,t instanceof nn?t.converter:null,new Y(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="AsyncQueue";class tx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const n=hd();n&&Q(ex,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const s=hd();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=hd();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const s=new sn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jr(e))throw e;Q(ex,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const s=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",sx(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=s,s}enqueueAfterDelay(e,s,n){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const i=um.createAndSchedule(this,e,s,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&J(47125,{Pc:sx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((s,n)=>s.targetTimeMs-n.targetTimeMs);for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function sx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){return function(s,n){if(typeof s!="object"||s===null)return!1;const i=s;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ur extends nc{constructor(e,s,n,i){super(e,s,n,i),this.type="firestore",this._queue=new tx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tx(e),this._firestoreClient=void 0,await e}}}function s4(t,e){const s=typeof t=="object"?t:K_(),n=typeof t=="string"?t:yl,i=$_(s,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Rj("firestore");a&&t4(i,...a)}return i}function xm(t){if(t._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n4(t),t._firestoreClient}function n4(t){var n,i,a;const e=t._freezeSettings(),s=function(c,d,u,h){return new CE(c,d,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new J6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rt(Xe.fromBase64String(e))}catch(s){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Rt(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ia(e,Rt._jsonSchema))return Rt.fromBase64String(e.bytes)}}Rt._jsonSchemaVersion="firestore/bytes/1.0",Rt._jsonSchema={type:Me("string",Rt._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:os._jsonSchemaVersion}}static fromJSON(e){if(Ia(e,os._jsonSchema))return new os(e.latitude,e.longitude)}}os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:Me("string",os._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ia(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(s=>typeof s=="number"))return new ls(e.vectorValues);throw new H(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:Me("string",ls._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class i4{constructor(e,s,n){this.data=e,this.fieldMask=s,this.fieldTransforms=n}toMutation(e,s){return this.fieldMask!==null?new yn(e,this.data,this.fieldMask,s,this.fieldTransforms):new Ra(e,this.data,s,this.fieldTransforms)}}class jb{constructor(e,s,n){this.data=e,this.fieldMask=s,this.fieldTransforms=n}toMutation(e,s){return new yn(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function _b(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class ym{constructor(e,s,n,i,a,o){this.settings=e,this.databaseId=s,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const s=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:s,fc:!1});return n.gc(e),n}yc(e){var i;const s=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:s,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(s=>e.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>e.isPrefixOf(s.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_b(this.Ac)&&r4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a4{constructor(e,s,n){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=n||ec(e)}Cc(e,s,n,i=!1){return new ym({Ac:e,methodName:s,Dc:n,path:Ge.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(t){const e=t._freezeSettings(),s=ec(t._databaseId);return new a4(t._databaseId,!!e.ignoreUndefinedProperties,s)}function o4(t,e,s,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,s,i);wm("Data must be an object, but it was:",o,n);const c=Eb(n,o);let d,u;if(a.merge)d=new _t(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const g=Lu(e,f,s);if(!o.contains(g))throw new H(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Cb(h,g)||h.push(g)}d=new _t(h),u=o.fieldTransforms.filter(f=>d.covers(f.field))}else d=null,u=o.fieldTransforms;return new i4(new gt(c),d,u)}class oc extends ac{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oc}}class bm extends ac{_toFieldTransform(e){return new ZE(e.path,new ja)}isEqual(e){return e instanceof bm}}function l4(t,e,s,n){const i=t.Cc(1,e,s);wm("Data must be an object, but it was:",i,n);const a=[],o=gt.empty();xn(n,(d,u)=>{const h=Nm(e,d,s);u=ds(u);const f=i.yc(h);if(u instanceof oc)a.push(h);else{const g=La(u,f);g!=null&&(a.push(h),o.set(h,g))}});const c=new _t(a);return new jb(o,c,i.fieldTransforms)}function c4(t,e,s,n,i,a){const o=t.Cc(1,e,s),c=[Lu(e,n,s)],d=[i];if(a.length%2!=0)throw new H(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)c.push(Lu(e,a[g])),d.push(a[g+1]);const u=[],h=gt.empty();for(let g=c.length-1;g>=0;--g)if(!Cb(u,c[g])){const w=c[g];let A=d[g];A=ds(A);const S=o.yc(w);if(A instanceof oc)u.push(w);else{const N=La(A,S);N!=null&&(u.push(w),h.set(w,N))}}const f=new _t(u);return new jb(h,f,o.fieldTransforms)}function d4(t,e,s,n=!1){return La(s,t.Cc(n?4:3,e))}function La(t,e){if(Sb(t=ds(t)))return wm("Unsupported field value:",e,t),Eb(t,e);if(t instanceof ac)return function(n,i){if(!_b(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const c of n){let d=La(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=ds(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YE(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=me.fromDate(n);return{timestampValue:jl(i.serializer,a)}}if(n instanceof me){const a=new me(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jl(i.serializer,a)}}if(n instanceof os)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rt)return{bytesValue:qv(i.serializer,n._byteString)};if(n instanceof Ve){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ls)return function(o,c){return{mapValue:{fields:{[xv]:{stringValue:yv},[vl]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return Zh(c.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Hl(n)}`)}(t,e)}function Eb(t,e){const s={};return uv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xn(t,(n,i)=>{const a=La(i,e.mc(n));a!=null&&(s[n]=a)}),{mapValue:{fields:s}}}function Sb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof os||t instanceof Rt||t instanceof Ve||t instanceof ac||t instanceof ls)}function wm(t,e,s){if(!Sb(s)||!cv(s)){const n=Hl(s);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Lu(t,e,s){if((e=ds(e))instanceof ic)return e._internalPath;if(typeof e=="string")return Nm(t,e);throw Cl("Field path arguments must be of type string or ",t,!1,void 0,s)}const u4=new RegExp("[~\\*/\\[\\]]");function Nm(t,e,s){if(e.search(u4)>=0)throw Cl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new ic(...e.split("."))._internalPath}catch{throw Cl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function Cl(t,e,s,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;s&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new H(O.INVALID_ARGUMENT,c+t+d)}function Cb(t,e){return t.some(s=>s.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,s,n,i,a){this._firestore=e,this._userDataWriter=s,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(jm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class h4 extends Tb{data(){return super.data()}}function jm(t,e){return typeof e=="string"?Nm(t,e):e instanceof ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _m{}class m4 extends _m{}function kb(t,e,...s){let n=[];e instanceof _m&&n.push(e),n=n.concat(s),function(a){const o=a.filter(d=>d instanceof Em).length,c=a.filter(d=>d instanceof lc).length;if(o>1||o>0&&c>0)throw new H(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class lc extends m4{constructor(e,s,n){super(),this._field=e,this._op=s,this._value=n,this.type="where"}static _create(e,s,n){return new lc(e,s,n)}_apply(e){const s=this._parse(e);return Ib(e._query,s),new Xn(e.firestore,e.converter,Eu(e._query,s))}_parse(e){const s=vm(e.firestore);return function(a,o,c,d,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ix(f,h);const A=[];for(const S of f)A.push(rx(d,a,S));g={arrayValue:{values:A}}}else g=rx(d,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ix(f,h),g=d4(c,o,f,h==="in"||h==="not-in");return De.create(u,h,g)}(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Ou(t,e,s){const n=e,i=jm("where",t);return lc._create(i,n,s)}class Em extends _m{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new Em(e,s)}_parse(e){const s=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return s.length===1?s[0]:Kt.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:(function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)Ib(o,d),o=Eu(o,d)}(e._query,s),new Xn(e.firestore,e.converter,Eu(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rx(t,e,s){if(typeof(s=ds(s))=="string"){if(s==="")throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(e)&&s.indexOf("/")!==-1)throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const n=e.path.child(fe.fromString(s));if(!Y.isDocumentKey(n))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return bg(t,new Y(n))}if(s instanceof Ve)return bg(t,s._key);throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hl(s)}.`)}function ix(t,e){if(!Array.isArray(t)||t.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(t,e){const s=function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(s!==null)throw s===e.op?new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class f4{convertValue(e,s="none"){switch(dn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(cn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const n={};return xn(e,(i,a)=>{n[i]=this.convertValue(a,s)}),n}convertVectorValue(e){var n,i,a;const s=(a=(i=(n=e.fields)==null?void 0:n[vl].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Ae(o.doubleValue));return new ls(s)}convertGeoPoint(e){return new os(Ae(e.latitude),Ae(e.longitude))}convertArray(e,s){return(e.values||[]).map(n=>this.convertValue(n,s))}convertServerTimestamp(e,s){switch(s){case"previous":const n=Gl(e);return n==null?null:this.convertValue(n,s);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const s=ln(e);return new me(s.seconds,s.nanos)}convertDocumentKey(e,s){const n=fe.fromString(e);de(Kv(n),9688,{name:e});const i=new wa(n.get(1),n.get(3)),a=new Y(n.popFirst(5));return i.isEqual(s)||Es(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e,s){let n;return n=t?t.toFirestore(e):e,n}class Di{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vn extends Tb{constructor(e,s,n,i,a,o){super(e,s,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const n=this._document.data.field(jm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=Vn._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Vn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vn._jsonSchema={type:Me("string",Vn._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Vo extends Vn{data(e={}){return super.data(e)}}class Ln{constructor(e,s,n,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new Di(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(s=>e.push(s)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach(n=>{e.call(s,new Vo(this._firestore,this._userDataWriter,n.key,n,new Di(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const d=new Vo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Vo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:g4(c.type),doc:d,oldIndex:u,newIndex:h}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ln._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(s.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}Ln._jsonSchemaVersion="firestore/querySnapshot/1.0",Ln._jsonSchema={type:Me("string",Ln._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class Sm extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rt(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,s)}}function x4(t){t=vs(t,Xn);const e=vs(t.firestore,Ur),s=xm(e),n=new Sm(e);return Ab(t._query),e4(s,t._query).then(i=>new Ln(e,n,t,i))}function Pb(t,e,s,...n){t=vs(t,Ve);const i=vs(t.firestore,Ur),a=vm(i);let o;return o=typeof(e=ds(e))=="string"||e instanceof ic?c4(a,"updateDoc",t._key,e,s,n):l4(a,"updateDoc",t._key,e),Db(i,[o.toMutation(t._key,is.exists(!0))])}function Rb(t,e){const s=vs(t.firestore,Ur),n=gm(t),i=p4(t.converter,e);return Db(s,[o4(vm(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,is.exists(!1))]).then(()=>n)}function y4(t,...e){var d,u,h;t=ds(t);let s={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||nx(e[n])||(s=e[n++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(nx(e[n])){const f=e[n];e[n]=(d=f.next)==null?void 0:d.bind(f),e[n+1]=(u=f.error)==null?void 0:u.bind(f),e[n+2]=(h=f.complete)==null?void 0:h.bind(f)}let a,o,c;if(t instanceof Ve)o=vs(t.firestore,Ur),c=Xh(t._key.path),a={next:f=>{e[n]&&e[n](v4(o,t,f))},error:e[n+1],complete:e[n+2]};else{const f=vs(t,Xn);o=vs(f.firestore,Ur),c=f._query;const g=new Sm(o);a={next:w=>{e[n]&&e[n](new Ln(o,g,f,w))},error:e[n+1],complete:e[n+2]},Ab(t._query)}return function(g,w,A,S){const N=new vb(S),v=new db(w,N,A);return g.asyncQueue.enqueueAndForget(async()=>lb(await Vu(g),v)),()=>{N.Nu(),g.asyncQueue.enqueueAndForget(async()=>cb(await Vu(g),v))}}(xm(o),c,i,a)}function Db(t,e){return function(n,i){const a=new sn;return n.asyncQueue.enqueueAndForget(async()=>B6(await Z6(n),i,a)),a.promise}(xm(t),e)}function v4(t,e,s){const n=s.docs.get(e._key),i=new Sm(t);return new Vn(t,i,e._key,n,new Di(s.hasPendingWrites,s.fromCache),e.converter)}function Mb(){return new bm("serverTimestamp")}(function(e,s=!0){(function(i){Kr=i})(G_),gl(new xa("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),c=new Ur(new lE(n.getProvider("auth-internal")),new uE(o,n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(u.options.projectId,h)}(o,i),o);return a={useFetchStreams:s,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Sr(og,lg,e),Sr(og,lg,"esm2020")})();var b4="firebase",w4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(b4,w4,"app");const N4={apiKey:"AIzaSyBaAsoGrdTDVeFvfIkk7_IWo5raq3oir2g",authDomain:"achariyalms.firebaseapp.com",projectId:"achariyalms",storageBucket:"achariyalms.firebasestorage.app",messagingSenderId:"219276293300",appId:"1:219276293300:web:61ffebc9b575c2de9dd3e1",measurementId:"G-6W7RYGSC1B"},j4=Jy(N4),Br=s4(j4);function _4(){return Math.random().toString(36).substring(2,15)+Date.now().toString(36)}async function E4(t){try{const e=me.now(),s=me.fromMillis(e.toMillis()+t.duration*1e3),n={quizId:t.quizId,quizTitle:t.quizTitle,classId:t.classId,className:t.className,teacherId:t.teacherId,teacherName:t.teacherName,startTime:e,endTime:s,duration:t.duration,sessionSeed:_4(),status:"active",questionCount:t.questionCount,totalStudents:0,submittedCount:0};return(await Rb(rc(Br,"liveQuizSessions"),n)).id}catch(e){console.error("Firebase error, using mock session for demo:",e);const s="demo-"+Date.now()+"-"+Math.random().toString(36).substring(7);return console.log(" Created mock session:",s),s}}function Vb(t,e){const s=kb(rc(Br,"liveQuizSessions"),Ou("classId","==",t),Ou("status","==","active"));return y4(s,i=>{if(i.empty)e(null);else{const a=i.docs[0];e({id:a.id,...a.data()})}})}async function S4(t){try{const e=await Rb(rc(Br,"liveQuizAttempts"),{...t,submitTime:Mb()}),s=await C4(t.sessionId);return s!=null&&s.id&&await Pb(gm(Br,"liveQuizSessions",s.id),{submittedCount:(s.submittedCount||0)+1}),e.id}catch(e){throw console.error("Error submitting quiz attempt:",e),e}}async function C4(t){try{const e=await x4(kb(rc(Br,"liveQuizSessions"),Ou("__name__","==",t)));if(e.empty)return null;const s=e.docs[0];return{id:s.id,...s.data()}}catch(e){return console.error("Error getting session:",e),null}}async function T4(t){try{await Pb(gm(Br,"liveQuizSessions",t),{status:"completed",endTime:Mb()})}catch(e){throw console.error("Error ending quiz session:",e),e}}const A4=()=>{const t=Ce(),e=Wn(),s=JSON.parse(localStorage.getItem("user")||"{}"),n=JSON.parse(localStorage.getItem("studentData")||"{}")[1]||{},[i,a]=I.useState(null),[o,c]=I.useState(!1),[d,u]=I.useState(null),h=I.useRef(!0),f=I.useRef(null),g=s.selectedRole==="Student"||s.role==="Student",w=n.class||"8-A";I.useEffect(()=>{if(!g)return;if(e.pathname.includes("/live-quiz/")){c(!1);return}const N=Vb(w,v=>{if(v&&v.id&&v.status==="active"){const x=Date.now(),_=v.startTime.toDate().getTime(),D=v.endTime.toDate().getTime(),L=x-_,z=D-x;if(x>D){h.current=!1,f.current=v.id||null,c(!1),u(null);return}const j=f.current!==v.id;console.log(" QUIZ DETECTED:",{id:v.id,timeSinceStart:Math.floor(L/1e3)+"s",remainingTime:Math.floor(z/1e3)+"s",isNewQuiz:j,isFirstLoad:h.current,hasRedirected:i}),j&&L<1e4&&i!==v.id?(console.log(" TEACHER STARTED QUIZ - AUTO REDIRECT!"),a(v.id||null),f.current=v.id||null,c(!1),t(`/student/live-quiz/${v.id}/take`)):i!==v.id&&(console.log(" ONGOING QUIZ - SHOWING JOIN BANNER"),f.current=v.id||null,u({id:v.id||"",classId:v.classId,endTime:v.endTime.toDate(),remainingSeconds:Math.floor(z/1e3)}),c(!0)),h.current=!1}else h.current=!1,c(!1),u(null)});return()=>N()},[g,w,i,e.pathname,t]);const A=()=>{d&&(a(d.id),c(!1),t(`/student/live-quiz/${d.id}/take`))},S=N=>{const v=Math.floor(N/60),x=N%60;return`${v}:${x.toString().padStart(2,"0")}`};return I.useEffect(()=>{if(!d)return;const N=setInterval(()=>{const v=Date.now(),x=Math.floor((d.endTime.getTime()-v)/1e3);x<=0?(c(!1),u(null)):u(_=>_?{..._,remainingSeconds:x}:null)},1e3);return()=>clearInterval(N)},[d==null?void 0:d.id]),!o||!d?null:r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-bounce",children:r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-4",children:[r.jsx("div",{className:"text-3xl animate-pulse",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-lg",children:"LIVE QUIZ IN PROGRESS!"}),r.jsxs("p",{className:"text-sm opacity-90",children:["Time Remaining: ",r.jsx("span",{className:"font-bold",children:S(d.remainingSeconds)})]})]}),r.jsx("button",{onClick:A,className:"bg-white text-red-600 px-4 py-2 rounded-lg font-bold hover:bg-gray-100 transition animate-pulse",children:"JOIN NOW"})]})})},k4=()=>{const t=Ce(),e=Wn(),s=JSON.parse(localStorage.getItem("user")||"{}"),n=s.selectedRole||s.role,[i,a]=I.useState(!1),o=()=>{localStorage.setItem("theme","light"),document.documentElement.setAttribute("data-theme","light"),localStorage.clear(),t("/")};I.useEffect(()=>{a(!1)},[e.pathname]);const d=(()=>{switch(n){case"Student":return[{to:"/student/dashboard",icon:vr,label:"Dashboard"},{to:"/student/courses",icon:Ke,label:"Courses"},{to:"/student/leaderboard",icon:Ct,label:"Leaderboard"},{to:"/student/challenges",icon:By,label:"Challenges"},{to:"/student/rivals",icon:Uy,label:"Rivals"},{to:"/student/social",icon:Dy,label:"Social"},{to:"/student/powerups",icon:hl,label:"Power-Ups"},{to:"/student/progress",icon:ut,label:"Progress"},{to:"/student/marketplace",icon:pj,label:"Marketplace"},{to:"/student/badges",icon:Ct,label:"Badges"},{to:"/student/wallet",icon:ga,label:"Wallet"},{to:"/student/faq",icon:ki,label:"FAQ"}];case"Teacher":return[{to:"/teacher/dashboard",icon:vr,label:"Dashboard"},{to:"/teacher/courses",icon:Ke,label:"Courses"},{to:"/teacher/evidence",icon:dl,label:"Evidence"},{to:"/teacher/faq",icon:ki,label:"FAQ"}];case"Principal":return[{to:"/principal/dashboard",icon:vr,label:"Dashboard"},{to:"/principal/courses",icon:Ke,label:"Courses"},{to:"/principal/evidence",icon:dl,label:"Evidence Approval"},{to:"/principal/faq",icon:ki,label:"FAQ"}];case"Admin":return[{to:"/admin/dashboard",icon:vr,label:"Dashboard"},{to:"/admin/courses",icon:Ke,label:"Courses"},{to:"/admin/users",icon:Ot,label:"Users"},{to:"/admin/config",icon:zh,label:"Config"},{to:"/admin/faq",icon:ki,label:"FAQ"}];default:return[]}})();return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("nav",{className:"bg-white shadow-sm border-b sticky top-0 z-30",children:r.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[r.jsx("button",{onClick:()=>a(!i),className:"lg:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100",children:r.jsx(mj,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 mr-2 sm:mr-3 flex items-center justify-center",children:r.jsx("img",{src:"/achariya-logo.jpg",alt:"Achariya",className:"w-full h-full object-contain"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-base sm:text-xl font-bold text-gray-800",children:"Achariya Portal"}),r.jsx("p",{className:"text-xs text-gray-500",children:n})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[r.jsxs("div",{className:"hidden sm:flex items-center",children:[r.jsx("div",{className:"w-8 h-8 mr-2 rounded-full overflow-hidden border-2 border-gray-200",children:r.jsx("img",{src:"/achariya-logo.jpg",alt:s.name,className:"w-full h-full object-cover"})}),r.jsx("span",{className:"text-sm text-gray-700 hidden md:inline",children:s.name||s.email})]}),r.jsxs("button",{onClick:o,className:"flex items-center px-2 sm:px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition",children:[r.jsx(hj,{className:"w-4 h-4 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),r.jsxs("div",{className:"flex",children:[r.jsx("aside",{className:"hidden lg:block w-64 bg-white border-r fixed left-0 top-16 bottom-0 overflow-y-auto z-20",children:r.jsx("nav",{className:"p-4 space-y-1",children:d.map(u=>r.jsxs($,{to:u.to,className:"flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition",children:[r.jsx(u.icon,{className:"w-5 h-5 mr-3"}),r.jsx("span",{children:u.label})]},u.to))})}),i&&r.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gray-800 opacity-75",onClick:()=>a(!1)}),r.jsxs("aside",{className:"absolute left-0 top-0 bottom-0 w-64 bg-white overflow-y-auto",children:[r.jsx("div",{className:"p-4 flex justify-end",children:r.jsx("button",{onClick:()=>a(!1),className:"p-2",children:r.jsx(Kn,{className:"w-6 h-6"})})}),r.jsx("nav",{className:"px-4 space-y-1",children:d.map(u=>r.jsxs($,{to:u.to,onClick:()=>a(!1),className:"flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition",children:[r.jsx(u.icon,{className:"w-5 h-5 mr-3"}),r.jsx("span",{children:u.label})]},u.to))})]})]}),r.jsxs("main",{className:"flex-1 lg:ml-64 p-4 sm:p-6 lg:p-8",children:[r.jsx(A4,{}),r.jsx(FN,{})]})]})]})},V={schools:[{id:1,name:"Achariya School of Excellence",location:"Chennai",type:"School"},{id:2,name:"Achariya College of Engineering",location:"Bangalore",type:"College"}],students:[{id:1,name:"Pranav R",email:"pranav.r@achariya.org",school_id:1,class:"8-A",completion:85,quiz_avg:92,badges:3,credits:45,status:"Active",currentStreak:5,longestStreak:12,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:2,name:"Aisha Khan",email:"aisha.k@achariya.org",school_id:1,class:"10-A",completion:92,quiz_avg:95,badges:4,credits:55,status:"Active",currentStreak:8,longestStreak:15,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:3,name:"Arjun Srinivasan",email:"arjun.s@achariya.org",school_id:1,class:"10-B",completion:78,quiz_avg:88,badges:2,credits:35,status:"Active",currentStreak:2,longestStreak:7,lastLoginDate:"2025-12-09",streakFreezeUsed:!1},{id:4,name:"Divya Menon",email:"divya.m@achariya.org",school_id:1,class:"10-B",completion:88,quiz_avg:90,badges:3,credits:42,status:"Active",currentStreak:15,longestStreak:15,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:5,name:"Rahul Patel",email:"rahul.p@achariya.org",school_id:1,class:"12 Science",completion:95,quiz_avg:98,badges:5,credits:65,status:"Active",currentStreak:23,longestStreak:30,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:6,name:"Sneha Gupta",email:"sneha.g@achariya.org",school_id:2,class:"CS Year 1",completion:82,quiz_avg:87,badges:2,credits:38,status:"Active",currentStreak:0,longestStreak:5,lastLoginDate:"2025-12-05",streakFreezeUsed:!1},{id:7,name:"Vikram Joshi",email:"vikram.j@achariya.org",school_id:2,class:"CS Year 2",completion:90,quiz_avg:93,badges:4,credits:50,status:"Active",currentStreak:10,longestStreak:18,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:8,name:"Priya Nair",email:"priya.n@achariya.org",school_id:2,class:"CS Year 2",completion:87,quiz_avg:91,badges:3,credits:44,status:"Active",currentStreak:3,longestStreak:9,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:9,name:"Karthik Balan",email:"karthik.b@achariya.org",school_id:2,class:"CS Year 3",completion:93,quiz_avg:96,badges:5,credits:58,status:"Active",currentStreak:7,longestStreak:14,lastLoginDate:"2025-12-10",streakFreezeUsed:!1},{id:10,name:"Ananya Varma",email:"ananya.v@achariya.org",school_id:2,class:"CS Year 3",completion:75,quiz_avg:85,badges:1,credits:28,status:"Active",currentStreak:1,longestStreak:4,lastLoginDate:"2025-12-10",streakFreezeUsed:!1}],teachers:[{id:1,name:"Hari Krishnan",email:"hari@achariya.org",school_id:1,department:"Mathematics",courses:2,students:25,completion_avg:88,badges:2,credits:120},{id:2,name:"Meena Sundaram",email:"meena@achariya.org",school_id:1,department:"Science",courses:2,students:28,completion_avg:85,badges:3,credits:150},{id:3,name:"Kumar Venkatraman",email:"kumar@achariya.org",school_id:2,department:"Computer Science",courses:3,students:30,completion_avg:90,badges:4,credits:180},{id:4,name:"Lakshmi Narayanan",email:"lakshmi@achariya.org",school_id:2,department:"Computer Science",courses:2,students:25,completion_avg:87,badges:2,credits:135}],courses:[{id:1,title:"Advanced Mathematics",subject:"Mathematics",level:"Advanced",school_id:1,teacher_id:1,enrollments:15,completion_avg:85,active_users:14,traffic:"High"},{id:2,title:"Physics Fundamentals",subject:"Physics",level:"Intermediate",school_id:1,teacher_id:1,enrollments:12,completion_avg:80,active_users:11,traffic:"Medium"},{id:3,title:"English Literature",subject:"English",level:"Intermediate",school_id:1,teacher_id:2,enrollments:10,completion_avg:90,active_users:10,traffic:"Low"},{id:7,title:"Chemistry Basics",subject:"Chemistry",level:"Intermediate",school_id:1,teacher_id:2,enrollments:14,completion_avg:82,active_users:13,traffic:"Medium"},{id:4,title:"Data Structures and Algorithms",subject:"Computer Science",level:"Advanced",school_id:2,teacher_id:3,enrollments:18,completion_avg:88,active_users:17,traffic:"High"},{id:5,title:"Database Management Systems",subject:"Computer Science",level:"Intermediate",school_id:2,teacher_id:3,enrollments:15,completion_avg:86,active_users:14,traffic:"High"},{id:6,title:"Web Development",subject:"Computer Science",level:"Beginner",school_id:2,teacher_id:4,enrollments:20,completion_avg:82,active_users:19,traffic:"High"}],modules:[{id:1,course_id:1,title:"Calculus Fundamentals",order:1,completion_rate:90},{id:2,course_id:1,title:"Linear Algebra",order:2,completion_rate:85},{id:3,course_id:1,title:"Probability & Statistics",order:3,completion_rate:80},{id:4,course_id:2,title:"Mechanics",order:1,completion_rate:85},{id:5,course_id:2,title:"Thermodynamics",order:2,completion_rate:78},{id:6,course_id:2,title:"Electromagnetism",order:3,completion_rate:75},{id:13,course_id:3,title:"Shakespeare & Classic Drama",order:1,completion_rate:92},{id:14,course_id:3,title:"Modern Poetry & Prose",order:2,completion_rate:88},{id:7,course_id:4,title:"Arrays & Linked Lists",order:1,completion_rate:92},{id:8,course_id:4,title:"Trees & Graphs",order:2,completion_rate:88},{id:9,course_id:4,title:"Dynamic Programming",order:3,completion_rate:82},{id:10,course_id:5,title:"Relational Databases",order:1,completion_rate:88},{id:11,course_id:5,title:"SQL Queries",order:2,completion_rate:85},{id:12,course_id:6,title:"HTML & CSS",order:1,completion_rate:90}],quizzes:[{id:1,moduleId:1,courseId:1,title:"Calculus Fundamentals Quiz",timeLimit:120,maxAttempts:3,questions:[{id:1,question:"What is the derivative of x?",options:["x","2x","2","x"],correctAnswer:1,explanation:"Using the power rule: d/dx(x) = nx, so d/dx(x) = 2x"},{id:2,question:"What is the integral of 2x?",options:["x","x + C","2","2x"],correctAnswer:1,explanation:"The integral of 2x is x + C, where C is the constant of integration"},{id:3,question:"What is the limit of (x - 1)/(x - 1) as x approaches 1?",options:["0","1","2","undefined"],correctAnswer:2,explanation:"Factor: (x-1)(x+1)/(x-1) = x+1. As x1, limit = 2"},{id:4,question:"What is d/dx[sin(x)]?",options:["cos(x)","-cos(x)","sin(x)","-sin(x)"],correctAnswer:0,explanation:"The derivative of sin(x) is cos(x)"},{id:5,question:"What is the derivative of a constant?",options:["1","0","The constant","undefined"],correctAnswer:1,explanation:"The derivative of any constant is 0"}]},{id:2,moduleId:6,courseId:2,title:"Electromagnetism Quiz",timeLimit:120,maxAttempts:3,questions:[{id:1,question:"What is the unit of electric charge?",options:["Ampere","Coulomb","Volt","Ohm"],correctAnswer:1,explanation:"The unit is Coulomb (C)"},{id:2,question:"What does Faraday's law state?",options:["V=IR","Changing magnetic field induces EMF","Like charges repel","E=mc"],correctAnswer:1,explanation:"Faraday's law: changing magnetic flux induces EMF"},{id:3,question:"Speed of light in vacuum?",options:["310 m/s","310 m/s","310 m/s","310 m/s"],correctAnswer:1,explanation:"c = 310 m/s"},{id:4,question:"What carries current in metals?",options:["Protons","Neutrons","Electrons","Photons"],correctAnswer:2,explanation:"Electrons carry current in metals"},{id:5,question:"What is Ohm's law?",options:["V=IR","F=ma","E=mc","P=VI"],correctAnswer:0,explanation:"Ohm's law: V = IR"}]}],enrollments:[{student_id:1,course_id:1,progress:85,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:2,course_id:1,progress:92,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:3,course_id:1,progress:78,modules_completed:2,total_modules:3,last_active:"2025-12-03"},{student_id:4,course_id:1,progress:88,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:5,course_id:1,progress:95,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:6,course_id:1,progress:82,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:7,course_id:1,progress:90,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:8,course_id:1,progress:87,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:9,course_id:1,progress:93,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:10,course_id:1,progress:75,modules_completed:1,total_modules:3,last_active:"2025-12-02"},{student_id:1,course_id:1,progress:80,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:2,course_id:1,progress:85,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:3,course_id:1,progress:90,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:4,course_id:1,progress:83,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:5,course_id:1,progress:88,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:1,course_id:2,progress:75,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:2,course_id:2,progress:82,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:3,course_id:2,progress:78,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:4,course_id:2,progress:85,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:5,course_id:2,progress:90,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:6,course_id:2,progress:80,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:7,course_id:2,progress:77,modules_completed:2,total_modules:3,last_active:"2025-12-03"},{student_id:8,course_id:2,progress:83,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:9,course_id:2,progress:88,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:10,course_id:2,progress:72,modules_completed:1,total_modules:3,last_active:"2025-12-02"},{student_id:1,course_id:2,progress:80,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:2,course_id:2,progress:85,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:1,course_id:3,progress:92,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:2,course_id:3,progress:95,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:3,course_id:3,progress:88,modules_completed:2,total_modules:2,last_active:"2025-12-04"},{student_id:4,course_id:3,progress:90,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:5,course_id:3,progress:95,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:6,course_id:3,progress:87,modules_completed:1,total_modules:2,last_active:"2025-12-04"},{student_id:7,course_id:3,progress:93,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:8,course_id:3,progress:89,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:9,course_id:3,progress:91,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:10,course_id:3,progress:85,modules_completed:1,total_modules:2,last_active:"2025-12-03"},{student_id:6,course_id:4,progress:82,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:7,course_id:4,progress:90,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:8,course_id:4,progress:87,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:9,course_id:4,progress:93,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:10,course_id:4,progress:85,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:1,course_id:4,progress:88,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:2,course_id:4,progress:92,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:3,course_id:4,progress:80,modules_completed:2,total_modules:3,last_active:"2025-12-03"},{student_id:4,course_id:4,progress:87,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:5,course_id:4,progress:95,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:6,course_id:4,progress:85,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:7,course_id:4,progress:90,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:8,course_id:4,progress:86,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:9,course_id:4,progress:91,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:10,course_id:4,progress:83,modules_completed:2,total_modules:3,last_active:"2025-12-03"},{student_id:1,course_id:4,progress:89,modules_completed:2,total_modules:3,last_active:"2025-12-05"},{student_id:2,course_id:4,progress:94,modules_completed:3,total_modules:3,last_active:"2025-12-05"},{student_id:3,course_id:4,progress:82,modules_completed:2,total_modules:3,last_active:"2025-12-04"},{student_id:9,course_id:5,progress:93,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:8,course_id:5,progress:88,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:7,course_id:5,progress:85,modules_completed:2,total_modules:2,last_active:"2025-12-04"},{student_id:6,course_id:5,progress:82,modules_completed:1,total_modules:2,last_active:"2025-12-03"},{student_id:10,course_id:5,progress:90,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:1,course_id:5,progress:87,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:2,course_id:5,progress:91,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:3,course_id:5,progress:83,modules_completed:1,total_modules:2,last_active:"2025-12-03"},{student_id:4,course_id:5,progress:86,modules_completed:2,total_modules:2,last_active:"2025-12-04"},{student_id:5,course_id:5,progress:89,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:6,course_id:5,progress:84,modules_completed:1,total_modules:2,last_active:"2025-12-04"},{student_id:7,course_id:5,progress:88,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:8,course_id:5,progress:85,modules_completed:2,total_modules:2,last_active:"2025-12-04"},{student_id:9,course_id:5,progress:90,modules_completed:2,total_modules:2,last_active:"2025-12-05"},{student_id:10,course_id:5,progress:82,modules_completed:1,total_modules:2,last_active:"2025-12-03"},{student_id:1,course_id:6,progress:85,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:2,course_id:6,progress:88,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:3,course_id:6,progress:80,modules_completed:1,total_modules:1,last_active:"2025-12-04"},{student_id:4,course_id:6,progress:83,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:5,course_id:6,progress:90,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:6,course_id:6,progress:78,modules_completed:1,total_modules:1,last_active:"2025-12-03"},{student_id:7,course_id:6,progress:82,modules_completed:1,total_modules:1,last_active:"2025-12-04"},{student_id:8,course_id:6,progress:85,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:9,course_id:6,progress:87,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:10,course_id:6,progress:75,modules_completed:1,total_modules:1,last_active:"2025-12-02"},{student_id:1,course_id:6,progress:80,modules_completed:1,total_modules:1,last_active:"2025-12-04"},{student_id:2,course_id:6,progress:83,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:3,course_id:6,progress:77,modules_completed:1,total_modules:1,last_active:"2025-12-03"},{student_id:4,course_id:6,progress:81,modules_completed:1,total_modules:1,last_active:"2025-12-04"},{student_id:5,course_id:6,progress:86,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:6,course_id:6,progress:79,modules_completed:1,total_modules:1,last_active:"2025-12-04"},{student_id:7,course_id:6,progress:84,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:8,course_id:6,progress:82,modules_completed:1,total_modules:1,last_active:"2025-12-04"},{student_id:9,course_id:6,progress:88,modules_completed:1,total_modules:1,last_active:"2025-12-05"},{student_id:10,course_id:6,progress:76,modules_completed:1,total_modules:1,last_active:"2025-12-03"}],weeklyActivity:[{week:"Week 1",students:42,logins:156},{week:"Week 2",students:48,logins:182},{week:"Week 3",students:45,logins:168},{week:"Week 4",students:52,logins:195}],completionByGrade:[{grade:"10-A",completion:88,students:15},{grade:"10-B",completion:83,students:13},{grade:"12 Science",completion:95,students:8},{grade:"CS Year 1",completion:82,students:12},{grade:"CS Year 2",completion:89,students:15},{grade:"CS Year 3",completion:84,students:10}]},I4=(t=5)=>[...V.students].sort((e,s)=>s.completion-e.completion).slice(0,t),P4=(t=5)=>[...V.students.map(s=>({...s,type:"Student"})),...V.teachers.map(s=>({...s,type:"Teacher"}))].sort((s,n)=>n.badges-s.badges).slice(0,t),R4=()=>V.courses.filter(t=>t.traffic==="High").sort((t,e)=>e.active_users-t.active_users),D4=t=>V.enrollments.filter(s=>s.course_id===t).map(s=>({...V.students.find(i=>i.id===s.student_id),...s})),M4=t=>{const e=V.students.find(i=>i.id===t),n=V.enrollments.filter(i=>i.student_id===t).map(i=>({...V.courses.find(o=>o.id===i.course_id),progress:i.progress}));return{...e,courses:n}},V4={1:{quadratic:`**Quadratic Equations** (Advanced Math Module 1)

Standard form: ax + bx + c = 0

**Quadratic Formula:**
x = (-b  (b-4ac)) / 2a

**Discriminant ( = b-4ac) tells us:**
  > 0: Two real roots
  = 0: One real root (repeated)
  < 0: Two complex roots

**Example:** Solve x - 5x + 6 = 0
a=1, b=-5, c=6
 = 25 - 24 = 1 > 0 (two real roots)
x = (5  1)/2 = 3 or 2`,derivative:`**Derivatives** (Advanced Math Module 2)

The derivative measures the instantaneous rate of change.

**Key Rules:**
 Power Rule: d/dx(x) = nx
 Constant Rule: d/dx(c) = 0
 Sum Rule: d/dx(f+g) = f' + g'
 Product Rule: d/dx(fg) = f'g + fg'
 Quotient Rule: d/dx(f/g) = (f'g - fg')/g
 Chain Rule: d/dx(f(g(x))) = f'(g(x))g'(x)

**Example:** Find d/dx(3x + 2x)
= 6x + 2`,integral:`**Integration** (Advanced Math Module 3)

Integration is the reverse of differentiation.

**Basic Integration Rules:**
 xdx = x/(n+1) + C (n  -1)
 edx = e + C
 (1/x)dx = ln|x| + C
 sin(x)dx = -cos(x) + C
 cos(x)dx = sin(x) + C

**Integration by Parts:**
u dv = uv - v du

**Always remember:** Add constant C!`,limit:`**Limits** (Advanced Math Module 1)

A limit describes the value a function approaches.

**Notation:** lim(xa) f(x) = L

**L'Hpital's Rule** (for 0/0 or /):
If lim f(x)/g(x) gives 0/0 or /, then:
lim f(x)/g(x) = lim f'(x)/g'(x)

**Common Limits:**
 lim(x0) (sin x)/x = 1
 lim(x) (1 + 1/x) = e`,differentiation:`**Differentiation Techniques:**

1. **Finding slopes:** Derivative = slope of tangent
2. **Maxima/Minima:** Set f'(x) = 0
3. **Optimization:** Use derivatives to find optimal values
4. **Related rates:** Chain rule for changing quantities

**When to use:**
 Physics: velocity, acceleration
 Economics: marginal cost/revenue
 Geometry: tangent lines, max areas`,function:`**Functions** (Advanced Math Foundation)

**Types:**
 Linear: f(x) = mx + b
 Quadratic: f(x) = ax + bx + c
 Polynomial: Sum of terms
 Exponential: f(x) = a
 Logarithmic: f(x) = log(x)
 Trigonometric: sin, cos, tan

**Domain:** All possible x values
**Range:** All possible y values`,equation:`**Solving Equations:**

**Linear:** ax + b = c  x = (c-b)/a
**Quadratic:** Use formula or factoring
**Simultaneous:** Substitution or elimination
**Exponential:** Take logarithms
**Polynomial:** Factor or numerical methods`,quiz:`**Advanced Math Quiz Guidelines:**

 15 questions per quiz
 120-second time limit
 3 attempts allowed
 100% required to pass
 Mixed: calculations + concepts

**Tips:**
 Memorize key formulas
 Practice differentiation rules
 Check your algebra
 Use elimination for MCQs
 Fast completion (<60s) = 15 credits!`},2:{newton:`**Newton's Laws of Motion** (Physics Module 1)

**First Law (Inertia):**
An object at rest stays at rest, and an object in motion continues in motion at constant velocity, unless acted upon by a net external force.

**Second Law (F=ma):**
F = ma
Force = mass  acceleration
Unit: Newton (N) = kgm/s

**Third Law (Action-Reaction):**
For every action, there's an equal and opposite reaction.
F = -F

**Example:** 5kg object, 10N force
a = F/m = 10/5 = 2 m/s`,thermodynamics:`**Thermodynamics** (Physics Module 2)

The study of heat, energy, and work.

**Four Laws of Thermodynamics:**

**Zeroth Law:** If A=B and B=C in temperature, then A=C

**First Law (Energy Conservation):**
U = Q - W
 U = Change in internal energy
 Q = Heat added to system
 W = Work done by system
Energy cannot be created or destroyed, only transformed.

**Second Law (Entropy):**
Entropy of an isolated system always increases.
S = k log W
Heat flows from hot to cold spontaneously.

**Third Law:**
As temperature approaches absolute zero, entropy approaches a constant minimum.

**Applications:** Engines, refrigerators, heat pumps`,energy:`**Energy Conservation** (Physics Module 2)

**Law:** Energy cannot be created or destroyed, only transformed.

**Types:**
 **Kinetic Energy:** KE = mv
  (energy of motion)
 **Potential Energy:** PE = mgh
  (stored energy, gravity)
  
**Total Mechanical Energy:**
E = KE + PE = constant (no friction)

**Example:** Ball dropped from 10m (m=1kg)
PE initial = 11010 = 100J
At ground: KE = 100J
Velocity: v = (2KE/m) = 200 = 14.1 m/s`,motion:`**Kinematics Equations** (Physics Module 1)

For uniform acceleration:

**Equations:**
1. v = u + at
2. s = ut + at
3. v = u + 2as
4. s = (u+v)t/2

Where:
 u = initial velocity
 v = final velocity
 a = acceleration
 t = time
 s = displacement

**Example:** Car accelerates from 0 to 20m/s in 10s
a = (v-u)/t = 20/10 = 2 m/s`,force:`**Forces** (Physics Module 1)

**Types:**
 Gravitational: F = mg
 Friction: F = N
 Normal: Perpendicular to surface
 Tension: In ropes/strings
 Applied: Push/pull

**Net Force:**
F = ma (vector sum)

**Free Body Diagrams:**
Draw all forces acting on object
Resolve into components
Apply F=ma in each direction`,electricity:`**Electricity** (Physics Module 3)

**Ohm's Law:**
V = IR
 V = Voltage (Volts)
 I = Current (Amperes)
 R = Resistance (Ohms, )

**Power:**
P = VI = IR = V/R
Unit: Watt (W)

**Circuits:**
 **Series:** R_total = R + R + R
 **Parallel:** 1/R_total = 1/R + 1/R + 1/R

**Example:** 12V battery, 4 resistor
I = V/R = 12/4 = 3A
P = VI = 123 = 36W`,momentum:`**Momentum** (Physics Module 2)

**Definition:**
p = mv (mass  velocity)
Unit: kgm/s

**Conservation:**
In isolated system, total momentum is conserved.
p_before = p_after

**Collisions:**
 **Elastic:** KE conserved
 **Inelastic:** KE not conserved
 **Perfectly Inelastic:** Objects stick together`,gravity:`**Gravitational Force:**

F = GMm/r

On Earth surface:
 g = 9.8 m/s (acceleration)
 Weight: W = mg

**Projectile Motion:**
 Horizontal: constant velocity
 Vertical: free fall (a=-g)
 Range: R = usin(2)/g`,quiz:`**Physics Quiz Guidelines:**

 15 MCQ questions
 120-second time limit
 3 attempts allowed
 Focus: Concepts + calculations
 Calculator allowed

**Tips:**
 Know all formulas by heart
 Units matter - pay attention!
 Draw diagrams for forces
 Check answer reasonableness
 Fast & accurate = max credits!`},3:{shakespeare:`**Shakespeare & Classic Drama** (Module 1)

**Key Features:**
 **Soliloquy:** Character speaks thoughts aloud
 **Dramatic Irony:** Audience knows more than characters
 **Iambic Pentameter:** 10 syllables per line
  (da-DUM da-DUM da-DUM da-DUM da-DUM)
  
**Themes:**
 Love & betrayal
 Power & corruption
 Fate vs free will
 Appearance vs reality

**Example Analysis:**
"To be or not to be" (Hamlet)
 Existential questioning
 Life vs death contemplation
 Internal conflict revealed`,poetry:`**Modern Poetry & Prose** (Module 2)

**Poetic Devices:**
 **Metaphor:** Direct comparison ("time is money")
 **Simile:** Comparison with like/as ("like a rose")
 **Personification:** Human traits to objects
 **Alliteration:** Repeated consonant sounds
 **Imagery:** Vivid sensory description
 **Symbolism:** Objects represent ideas

**Analyzing Poetry:**
1. Read multiple times
2. Identify speaker & audience
3. Find theme (central message)
4. Note tone & mood
5. Analyze structure & form
6. Examine word choice (diction)`,literary:`**Literary Analysis Framework:**

**Elements to Consider:**
1. **Theme:** Central message/idea
2. **Plot:** Sequence of events
3. **Character:** Traits, development, motivation
4. **Setting:** Time, place, atmosphere
5. **Conflict:** Internal/external struggles
6. **Point of View:** Who's narrating
7. **Symbolism:** Deeper meanings
8. **Tone:** Author's attitude
9. **Style:** Author's unique voice

**Always support with textual evidence!**`,essay:`**Essay Writing Guide:**

**Structure:**
1. **Introduction**
    Hook (grab attention)
    Background context
    Clear thesis statement
   
2. **Body Paragraphs** (3-5)
    Topic sentence
    Evidence from text
    Analysis & explanation
    Link to thesis
   
3. **Conclusion**
    Restate thesis (new words)
    Summarize key points
    Broader implications

**Citations:** Use MLA format
**Goal:** Clarity, coherence, compelling argument`,theme:`**Finding Theme:**

Theme = Central message or universal truth

**How to Identify:**
1. What lesson do characters learn?
2. What universal truth emerges?
3. What message about life/humanity?
4. What patterns repeat?

**Common Themes:**
 Love conquers all
 Power corrupts
 Good vs evil
 Coming of age
 Man vs nature/society
 Loss of innocence

**Express as complete sentence:**
 "Love" (topic, not theme)
 "True love requires sacrifice"`,character:`**Character Analysis:**

**Types:**
 **Protagonist:** Main character
 **Antagonist:** Opposition
 **Round:** Complex, multi-dimensional
 **Flat:** Simple, one-dimensional
 **Dynamic:** Changes over story
 **Static:** Stays the same

**Analyze:**
 Actions & decisions
 Speech & thoughts
 Relationships
 Conflicts faced
 Growth/change
 Motivations

**Use STEAL:**
Speech, Thoughts, Effects on others, Actions, Looks`,symbolism:`**Symbolism in Literature:**

Symbol = Object representing deeper meaning

**Examples:**
 Light = truth, hope, knowledge
 Dark = evil, unknown, despair
 Water = rebirth, cleansing, life
 Journey = self-discovery
 Seasons = life cycles

**How to Identify:**
1. Repeated objects/images
2. Objects with emotional weight
3. Items emphasized in key moments
4. Universal associations

**Analysis Tip:** What does it represent? Why did author choose this?`,quiz:`**English Literature Quiz Guidelines:**

 15 questions
 120-second time limit
 Tests: Comprehension, analysis, interpretation
 Focus: Themes, characters, literary devices

**Tips:**
 Read passages carefully
 Understand context
 Know character motivations
 Identify literary techniques
 Think author's purpose
 Support with evidence!`}},L4={credit:` **Credits System:**
15 credits = 100% in 60s
10 credits = 100% in 120s
2 credits = Pass but slower

View history: Dashboard  Wallet Balance`,badge:` **Badges:**
Speed Master, High Performer, Consistent Learner, etc.

Each shows the specific activity you completed to earn it. Check Badges page!`,unlock:` **Module Unlocking:**
Modules unlock sequentially.
1. Complete 100% of current module
2. Pass the quiz
3. Next module unlocks automatically

No skipping - ensures mastery!`,progress:` **Track Your Progress:**

**Dashboard View:**
 Overall completion percentage
 Quiz average score
 Credits earned
 Badges collected

**Course Details:**
 Modules completed per course
 Current module status
 Class average comparison

**Wallet Page:**
 Transaction history
 Credits by activity
 Timeline view

Your progress updates in real-time!`,help:` **I'm Your Study Assistant!**

Ask me:
 Course topics ("explain derivatives", "Newton's laws")
 Portal features (credits, badges, progress)
 Study tips
 Quiz guidelines

I'll pull from your course materials!`},O4=(t,e)=>{const s=t.toLowerCase();for(const n of e){const i=V4[n];if(i){for(const[a,o]of Object.entries(i))if(s.includes(a)){const c=V.courses.find(d=>d.id===n);return{role:"assistant",content:o,source:` ${c==null?void 0:c.title} - Course Materials`}}}}for(const[n,i]of Object.entries(L4))if(s.includes(n))return{role:"assistant",content:i,source:" Portal Guide"};if(s.includes("course")||s.includes("enrolled")||s.includes("subject")){const n=V.courses.filter(i=>e.includes(i.id));if(n.length>0)return{role:"assistant",content:` **Your Enrolled Courses:**

${n.map(a=>` **${a.title}** (${a.level})`).join(`
`)}

Ask me anything about these subjects! Examples:
 "Explain quadratic equations"
 "What are Newton's laws?"
 "How to analyze Shakespeare?"`,source:"Your Course List"}}return{role:"assistant",content:`I'm your AI study assistant! I can help with:

** Subject Questions:**
 Math: "Explain derivatives", "Solve quadratic equations"
 Physics: "Newton's laws", "Energy conservation"
 English: "Analyze Shakespeare", "Poetry devices"

** Portal Features:**
 "How to earn credits?"
 "What are badges?"
 "How do modules unlock?"

**Just ask naturally - I'll find the answer in your course materials!**`,source:" Study Assistant"}},F4=["Explain quadratic equations","What are Newton's laws?","How to analyze poetry?","Quiz tips for my courses","How do I earn credits?","What is thermodynamics?"],z4=t=>{let e=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e=e.replace(/\n/g,"<br>"),e=e.replace(/^ /gm,"&bull; "),e},cc=({studentId:t})=>{const[e,s]=I.useState(!1),[n,i]=I.useState([{role:"assistant",content:" Hi! I'm your AI Study Assistant. I can help answer questions about your enrolled courses, quizzes, credits, and more. What would you like to know?",source:" AI Study Assistant"}]),[a,o]=I.useState(""),[c,d]=I.useState(!1),u=I.useRef(null),f=V.enrollments.filter(S=>S.student_id===t).map(S=>S.course_id),g=()=>{var S;(S=u.current)==null||S.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{g()},[n]);const w=()=>{if(!a.trim())return;const S={role:"user",content:a};i(N=>[...N,S]),o(""),d(!0),setTimeout(()=>{const N=O4(a,f);i(v=>[...v,N]),d(!1)},800)},A=S=>{o(S)};return r.jsxs(r.Fragment,{children:[!e&&r.jsxs("button",{onClick:()=>s(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all z-50 group",children:[r.jsx(Ly,{className:"w-6 h-6"}),r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:"AI"})]}),e&&r.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-2xl flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(gj,{className:"w-5 h-5 mr-2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:"AI Study Assistant"}),r.jsx("p",{className:"text-xs opacity-90",children:"Powered by RAG Model"})]})]}),r.jsx("button",{onClick:()=>s(!1),className:"hover:bg-white/20 p-1 rounded transition",children:r.jsx(Kn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.map((S,N)=>r.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${S.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[r.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:z4(S.content)}}),S.source&&r.jsx("p",{className:"text-xs mt-2 opacity-70 italic",children:S.source})]})},N)),c&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 rounded-2xl px-4 py-3",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),r.jsx("div",{ref:u})]}),n.length===1&&r.jsxs("div",{className:"px-4 pb-2",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Try asking:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:F4.slice(0,3).map((S,N)=>r.jsx("button",{onClick:()=>A(S),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-full hover:bg-blue-100 transition",children:S},N))})]}),r.jsx("div",{className:"p-4 border-t",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:a,onChange:S=>o(S.target.value),onKeyPress:S=>S.key==="Enter"&&w(),placeholder:"Ask me anything...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{onClick:w,disabled:!a.trim(),className:"bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Fy,{className:"w-5 h-5"})})]})})]})]})},U4=({credits:t,message:e,onClose:s,streak:n})=>{const[i,a]=I.useState(!0);I.useEffect(()=>{const c=setTimeout(()=>{a(!1),setTimeout(s,300)},3e3);return()=>clearTimeout(c)},[s]);const o=()=>{a(!1),setTimeout(s,300)};return r.jsx("div",{className:`fixed top-4 right-4 z-50 transition-all duration-300 ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl shadow-2xl p-4 min-w-[300px]",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ct,{className:"w-6 h-6 animate-bounce"}),r.jsxs("h3",{className:"font-bold text-lg",children:["+",t," Credit",t>1?"s":"","!"]})]}),r.jsx("button",{onClick:o,className:"text-white/80 hover:text-white transition",children:r.jsx(Kn,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-white/90 text-sm mb-3",children:e}),n&&n>0&&r.jsx("div",{className:"bg-white/20 rounded-lg p-2 mb-2",children:r.jsxs("p",{className:"text-sm font-semibold",children:[" ",n," Day Streak!"]})}),r.jsx("a",{href:"/student/wallet",className:"text-sm text-white hover:underline inline-block",children:"View Wallet "})]})})},B4=({currentStreak:t,longestStreak:e})=>{const n=t<7?{target:7,name:"Week Warrior"}:t<30?{target:30,name:"Monthly Master"}:t<100?{target:100,name:"Century Champion"}:{target:100,name:"Century Champion"},i=t/n.target*100;return r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-xl shadow-sm p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-3xl animate-pulse",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-2xl text-amber-900",children:t}),r.jsx("p",{className:"text-xs text-amber-700",children:"Day Streak"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-amber-600",children:"Best"}),r.jsxs("p",{className:"font-semibold text-amber-900",children:[e," days"]})]})]}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex justify-between text-xs mb-1 text-amber-700",children:[r.jsxs("span",{children:["Next: ",n.name]}),r.jsxs("span",{children:[t,"/",n.target]})]}),r.jsx("div",{className:"w-full bg-amber-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(i,100)}%`}})})]}),t>=7&&r.jsx("p",{className:"text-xs text-center text-amber-700 mt-2",children:" Keep it up! You're on fire!"})]})},q4=()=>{const t=Ce(),e=[{id:1,icon:r.jsx(lj,{className:"w-5 h-5"}),text:"Build your streak to 7 days for Week Warrior badge!",action:"Check Progress",color:"from-orange-500 to-red-500",onClick:()=>t("/student/badges")},{id:2,icon:r.jsx(By,{className:"w-5 h-5"}),text:"Complete 1 more daily challenge for bonus rewards!",action:"View Challenges",color:"from-blue-500 to-purple-500",onClick:()=>t("/student/challenges")},{id:3,icon:r.jsx(fa,{className:"w-5 h-5"}),text:"You're 200 credits from top 10 - one quiz away!",action:"See Leaderboard",color:"from-green-500 to-emerald-500",onClick:()=>t("/student/leaderboard")}];return r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-3 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(hl,{className:"w-4 h-4 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-sm text-gray-800",children:"Quick Actions"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:e.map(s=>r.jsxs("button",{onClick:s.onClick,className:"flex flex-col items-center gap-2 bg-white hover:shadow-lg transition p-4 rounded-xl border border-gray-200",children:[r.jsx("div",{className:`bg-gradient-to-r ${s.color} text-white p-2.5 rounded-lg`,children:s.icon}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-1",children:s.action}),r.jsx("p",{className:"text-xs text-gray-600",children:s.text})]})]},s.id))})]})},$4=()=>{const t=Ce(),e=JSON.parse(localStorage.getItem("user")||"{}");let s=V.students.find(N=>N.email===e.email)||V.students[0];const[n,i]=I.useState(!1),[a,o]=I.useState(0),[c,d]=I.useState(s.currentStreak||0);I.useEffect(()=>{var _;const N=new Date().toISOString().split("T")[0],v=JSON.parse(localStorage.getItem("studentData")||"{}"),x=((_=v[s.id])==null?void 0:_.lastLoginDate)||s.lastLoginDate||"";if(x!==N){const D=new Date;D.setDate(D.getDate()-1);const L=D.toISOString().split("T")[0],j=x===L?(s.currentStreak||0)+1:1;s.credits=(s.credits||0)+1,s.currentStreak=j,s.longestStreak=Math.max(j,s.longestStreak||0),v[s.id]={lastLoginDate:N,credits:s.credits,currentStreak:j,longestStreak:s.longestStreak},localStorage.setItem("studentData",JSON.stringify(v)),o(1),d(j),i(!0)}},[]);const[u,h]=I.useState(null),[f,g]=I.useState(null);I.useEffect(()=>{const N=Vb(s.class||"8-A",v=>{if(v&&v.id&&v.status==="active"){const x=Date.now(),_=v.startTime.toDate().getTime(),D=v.endTime.toDate().getTime(),L=x-_;if(x>D){console.log(" Quiz EXPIRED - Ignoring stale Firebase data"),h(null);return}console.log(" QUIZ DETECTED:",{id:v.id,timeSinceStart:Math.floor(L/1e3)+"s",hasSeenQuiz:f,status:v.status}),L<3e4&&f!==v.id?(console.log(" NEWLY STARTED - Auto-navigating!"),g(v.id),setTimeout(()=>{t(`/student/live-quiz/${v.id}/take`)},100)):L>=3e4?(console.log(" ONGOING QUIZ - Showing join banner"),h(v)):console.log(" Quiz already seen - no action")}else h(null)});return()=>N()},[s.class,t,f]);const w=JSON.parse(localStorage.getItem("studentData")||"{}");w[s.id]&&(s={...s,...w[s.id]});const A=V.enrollments.filter(N=>N.student_id===s.id),S=A.length>0?Math.round(A.reduce((N,v)=>N+v.progress,0)/A.length):0;return r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:["Welcome back, ",s.name.split(" ")[0],"!"]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:"Here's your learning progress"}),r.jsx(q4,{}),u&&r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl shadow-xl p-6 mb-6 text-white animate-pulse",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-4 bg-white rounded-full animate-ping"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold mb-1",children:" Quiz in Progress!"}),r.jsxs("p",{className:"text-lg opacity-90",children:[u.quizTitle," - ",u.className]}),r.jsxs("p",{className:"text-sm opacity-75 mt-1",children:["Started ",Math.floor((Date.now()-u.startTime.toDate().getTime())/1e3),"s ago","  ","Time remaining: ",Math.floor((u.endTime.toDate().getTime()-Date.now())/6e4),":",String(Math.floor((u.endTime.toDate().getTime()-Date.now())%6e4/1e3)).padStart(2,"0")]})]})]}),r.jsxs("button",{onClick:()=>t(`/student/live-quiz/${u.id}/take`),className:"bg-white text-orange-600 px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl transition transform hover:scale-105 flex items-center gap-3",children:[r.jsx(ul,{className:"w-6 h-6"}),"Join Now"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx($,{to:"/student/courses",className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Active Courses"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-800 mt-1 sm:mt-2",children:A.length})]}),r.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/student/courses",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Completion"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[S,"%"]})]}),r.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:r.jsx(ut,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/student/wallet",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Wallet Balance"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:[s.credits," credits"]})]}),r.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:r.jsx(ga,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/student/badges",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Badges Earned"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:s.badges})]}),r.jsx("div",{className:"bg-yellow-500 p-3 rounded-lg",children:r.jsx(Ct,{className:"w-6 h-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs($,{to:"/student/courses",className:"flex items-center justify-center py-4 px-6 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition",children:[r.jsx(Ke,{className:"w-5 h-5 text-blue-600 mr-2"}),r.jsx("span",{className:"text-blue-600 font-semibold",children:"View Courses"})]}),r.jsxs($,{to:"/student/wallet",className:"flex items-center justify-center py-4 px-6 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition",children:[r.jsx(ga,{className:"w-5 h-5 text-purple-600 mr-2"}),r.jsx("span",{className:"text-purple-600 font-semibold",children:"Check Wallet"})]}),r.jsxs($,{to:"/student/badges",className:"flex items-center justify-center py-4 px-6 bg-yellow-50 hover:bg-yellow-100 rounded-lg border border-yellow-200 transition",children:[r.jsx(Ct,{className:"w-5 h-5 text-yellow-600 mr-2"}),r.jsx("span",{className:"text-yellow-600 font-semibold",children:"My Badges"})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(B4,{currentStreak:1,longestStreak:5})}),n&&r.jsx(U4,{credits:a,message:"Daily login bonus",streak:c,onClose:()=>i(!1)}),r.jsx(cc,{studentId:s.id})]})},H4=()=>{const t=JSON.parse(localStorage.getItem("user")||"{}"),e=V.students.find(i=>i.email===t.email)||V.students[0],n=V.enrollments.filter(i=>i.student_id===e.id).map(i=>({...V.courses.find(o=>o.id===i.course_id),progress:i.progress,status:"Active"}));return r.jsxs("div",{children:[r.jsxs($,{to:"/student/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"My Courses"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(i=>r.jsxs($,{to:`/student/course/${i.id}`,className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:i.title}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[i.subject,"  ",i.level]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Progress"}),r.jsxs("span",{className:"font-semibold text-blue-600",children:[i.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${i.progress}%`}})})]}),r.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:i.status})]},i.id))}),r.jsx(cc,{studentId:e.id})]})},Q4=()=>{const{courseId:t}=Ft(),e=Ce(),s=JSON.parse(localStorage.getItem("user")||"{}"),n=V.students.find(c=>c.email===s.email)||V.students[0],i=V.courses.find(c=>c.id===Number(t)),a=V.modules.filter(c=>c.course_id===Number(t)),o=V.enrollments.find(c=>c.student_id===n.id&&c.course_id===Number(t));return i?r.jsxs("div",{children:[r.jsxs($,{to:"/student/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to My Courses"]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-8 text-white mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),r.jsxs("p",{className:"text-blue-100 mb-4",children:[i.subject,"  ",i.level]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("p",{className:"text-sm opacity-90",children:"Your Progress"}),r.jsxs("p",{className:"text-3xl font-bold",children:[(o==null?void 0:o.progress)||0,"%"]})]}),r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("p",{className:"text-sm opacity-90",children:"Modules Completed"}),r.jsxs("p",{className:"text-3xl font-bold",children:[(o==null?void 0:o.modules_completed)||0," / ",a.length]})]}),r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("p",{className:"text-sm opacity-90",children:"Last Active"}),r.jsx("p",{className:"text-lg font-semibold",children:(o==null?void 0:o.last_active)||"N/A"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Course Progress"}),r.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[(o==null?void 0:o.modules_completed)===a.length?100:(o==null?void 0:o.progress)||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:r.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:{width:`${(o==null?void 0:o.modules_completed)===a.length?100:(o==null?void 0:o.progress)||0}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[r.jsx(Ke,{className:"w-5 h-5 mr-2 text-blue-600"}),"Course Modules"]}),a.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No modules available for this course yet."}):r.jsx("div",{className:"space-y-3",children:a.map(c=>{const d=o&&o.modules_completed>=c.order,u=o&&(c.order===1||o.modules_completed>=c.order-1);return r.jsx("div",{className:`p-5 border rounded-lg transition ${d?"bg-green-50 border-green-200":u?"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm":"bg-gray-50 border-gray-200 opacity-60"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-4 ${d?"bg-green-500":u?"bg-blue-500":"bg-gray-400"}`,children:d?r.jsx(cs,{className:"w-5 h-5 text-white"}):r.jsx("span",{className:"text-white font-bold",children:c.order})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:c.title}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Gn,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:d?"Completed":u?"Available Now":"Locked - Complete previous module"})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[r.jsx(Ct,{className:"w-4 h-4 mr-1 text-yellow-500"}),r.jsxs("span",{children:["Class Average: ",c.completion_rate,"%"]})]}),u&&!d&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{onClick:()=>e(`/student/module/${c.id}`),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold hover:bg-blue-700 transition",children:"Start Learning"}),r.jsx("button",{onClick:()=>e(`/student/quiz/${c.id}`),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-semibold hover:bg-green-700 transition",children:"Take Quiz"})]}),d&&r.jsx("span",{className:"mt-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-semibold border border-green-300 inline-block",children:" Completed"})]})]})},c.id)})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Course Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subject:"}),r.jsx("span",{className:"font-semibold text-gray-800",children:i.subject})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Level:"}),r.jsx("span",{className:"font-semibold text-gray-800",children:i.level})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Modules:"}),r.jsx("span",{className:"font-semibold text-gray-800",children:a.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Course Traffic:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i.traffic==="High"?"bg-orange-100 text-orange-700":i.traffic==="Medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:i.traffic})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Your Statistics"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Enrollment Date:"}),r.jsx("span",{className:"font-semibold text-gray-800",children:(o==null?void 0:o.last_active)||"Recently"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Completion Rate:"}),r.jsxs("span",{className:`font-semibold ${((o==null?void 0:o.progress)||0)>=85?"text-green-600":((o==null?void 0:o.progress)||0)>=70?"text-yellow-600":"text-red-600"}`,children:[(o==null?void 0:o.progress)||0,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Modules Completed:"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:[(o==null?void 0:o.modules_completed)||0," of ",a.length]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${((o==null?void 0:o.progress)||0)>=70?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:((o==null?void 0:o.progress)||0)>=70?"On Track":"Needs Attention"})]})]})]})]}),r.jsx(cc,{studentId:n.id})]}):r.jsxs("div",{children:[r.jsxs($,{to:"/student/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Courses"]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:r.jsx("p",{className:"text-red-700",children:"Course not found."})})]})},ax={1:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",images:["/math_derivatives_chart_1764926831395.png","/math_quadratic_visual_1764926787773.png"],slides:[{title:"Introduction to Calculus",content:`Calculus is the mathematical study of continuous change.

Two main branches:
 Differential Calculus (rates of change)
 Integral Calculus (accumulation)`},{title:"Limits - The Foundation",content:`lim (xa) f(x) = L

Meaning: As x approaches a, f(x) approaches L.

Limits are essential for defining derivatives and integrals.`,image:"/math_derivatives_chart_1764926831395.png"},{title:"Derivatives - Rate of Change",content:`f'(x) = dy/dx = lim(h0) [f(x+h) - f(x)]/h

Derivative represents:
 Slope of tangent line
 Instantaneous rate of change
 Velocity in physics`},{title:"Basic Derivative Rules",content:`Power Rule: d/dx(x^n) = nx^(n-1)

Examples:
 d/dx(x) = 2x
 d/dx(x) = 3x
 d/dx(x) = 1`}]},4:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",images:["/physics_newtons_laws_1764926812539.png","/physics_energy_diagram_1764926850307.png"],slides:[{title:"Newton's Laws of Motion",content:`Three fundamental laws that describe the motion of objects.

Defined by Sir Isaac Newton in 1687.

Foundation of classical mechanics.`},{title:"First Law - Inertia",content:`An object at rest stays at rest, and an object in motion continues in motion at constant velocity, unless acted upon by a net external force.

Also called the Law of Inertia.`,image:"/physics_newtons_laws_1764926812539.png"},{title:"Second Law - F = ma",content:`Force = mass  acceleration

F = ma

Units:
 Force: Newtons (N)
 Mass: kilograms (kg)
 Acceleration: m/s`},{title:"Third Law - Action-Reaction",content:`For every action, there is an equal and opposite reaction.

F = -F

Example: When you push a wall, the wall pushes back with equal force.`}]},2:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",images:["/math_derivatives_chart_1764926831395.png"],slides:[{title:"Linear Algebra Introduction",content:`Study of vectors, matrices, and linear transformations.

Key concepts:
 Vector spaces
 Matrix operations
 Linear transformations`},{title:"Matrices",content:`Matrix: Rectangular array of numbers

[a b]
[c d]

Operations: Addition, Multiplication, Determinant`},{title:"Vectors",content:`Vector: Quantity with magnitude and direction

v = [x, y, z]

Operations: Addition, Scalar multiplication, Dot product`}]},3:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",images:["/math_quadratic_visual_1764926787773.png"],slides:[{title:"Probability Basics",content:`Probability: Measure of likelihood

P(event) = favorable outcomes / total outcomes

Range: 0 to 1`},{title:"Statistics",content:`Mean: Average value
Median: Middle value
Mode: Most frequent value

Standard deviation: Measure of spread`},{title:"Distributions",content:`Normal Distribution (Bell Curve)
Binomial Distribution
Poisson Distribution

Used for probability modeling`}]},5:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3",images:["/physics_energy_diagram_1764926850307.png"],slides:[{title:"Thermodynamics",content:`Study of heat, energy, and work.

Four Laws of Thermodynamics
Applied in engines, refrigerators, etc.`},{title:"First Law",content:`Energy cannot be created or destroyed

U = Q - W

U: Change in internal energy
Q: Heat added
W: Work done`},{title:"Entropy",content:`Measure of disorder in a system

S = k log W

Entropy always increases (Second Law)`}]},6:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",images:["/physics_newtons_laws_1764926812539.png","/physics_energy_diagram_1764926850307.png"],slides:[{title:"Electromagnetism - Introduction",content:`Electromagnetism is the study of electric and magnetic fields and their interactions.

Discovered by James Clerk Maxwell in the 19th century.

One of the four fundamental forces of nature.`},{title:"Electric Fields",content:`Electric field (E) is a region around a charged particle where forces act on other charges.

E = F/q

Units: Newtons per Coulomb (N/C)

Direction: Away from positive, toward negative charges.`,image:"/physics_energy_diagram_1764926850307.png"},{title:"Magnetic Fields",content:`Magnetic field (B) created by moving charges (electric currents).

F = qvB sin()

Where:
 q = charge
 v = velocity
 B = magnetic field strength
  = angle between v and B`},{title:"Maxwell's Equations",content:`Four fundamental equations unifying electricity and magnetism:

1. Gauss's Law (Electric)
2. Gauss's Law (Magnetic)
3. Faraday's Law
4. Ampre-Maxwell Law

These equations predict electromagnetic waves (light!).`}]},7:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3",images:["/math_derivatives_chart_1764926831395.png"],slides:[{title:"Arrays",content:`Contiguous memory locations

array[0], array[1], array[2]...

O(1) access time
Fixed size`},{title:"Linked Lists",content:`Node-based structure

Node: [data | next]

Types:
 Singly linked
 Doubly linked
 Circular`},{title:"Operations",content:`Insert: O(1) or O(n)
Delete: O(1) or O(n)
Search: O(n)

Arrays vs Lists tradeoffs`}]},8:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3",images:["/physics_newtons_laws_1764926812539.png"],slides:[{title:"Binary Trees",content:`Hierarchical structure

Node: [left | data | right]

Types:
 Binary Search Tree
 AVL Tree
 Red-Black Tree`},{title:"Tree Traversal",content:`Inorder: Left-Root-Right
Preorder: Root-Left-Right
Postorder: Left-Right-Root

Level-order (BFS)`},{title:"Graphs",content:`Vertices + Edges

Types:
 Directed/Undirected
 Weighted/Unweighted

Traversal: DFS, BFS`}]},9:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3",images:["/math_quadratic_visual_1764926787773.png"],slides:[{title:"Dynamic Programming",content:`Optimization technique

Break problem into subproblems
Store results (memoization)
Avoid recomputation`},{title:"Fibonacci DP",content:`Naive: O(2^n)

DP approach:
fib[0] = 0
fib[1] = 1
fib[n] = fib[n-1] + fib[n-2]

Time: O(n)`},{title:"Common Problems",content:` Knapsack
 Longest Common Subsequence
 Edit Distance
 Coin Change
 Matrix Chain Multiplication`}]},10:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3",images:["/physics_energy_diagram_1764926850307.png"],slides:[{title:"Relational Databases",content:`Data stored in tables (relations)

Rows: Records
Columns: Attributes

Related via keys`},{title:"Normalization",content:`1NF: Atomic values
2NF: No partial dependency
3NF: No transitive dependency

BCNF: Stricter form of 3NF`},{title:"Keys",content:`Primary Key: Unique identifier
Foreign Key: Reference to another table
Candidate Key: Potential primary key
Composite Key: Multiple columns`}]},11:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-11.mp3",images:["/math_derivatives_chart_1764926831395.png"],slides:[{title:"SQL Basics",content:`SELECT: Retrieve data
INSERT: Add data
UPDATE: Modify data
DELETE: Remove data

DDL, DML, DCL commands`},{title:"SELECT Statement",content:`SELECT column1, column2
FROM table
WHERE condition
ORDER BY column;

JOINs: INNER, LEFT, RIGHT, FULL`},{title:"Advanced SQL",content:`GROUP BY: Aggregate data
HAVING: Filter groups
Subqueries: Nested queries

Indexes for performance`}]},12:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-12.mp3",images:["/physics_newtons_laws_1764926812539.png"],slides:[{title:"HTML Structure",content:`<!DOCTYPE html>
<html>
  <head><title>Page</title></head>
  <body>Content</body>
</html>

Semantic tags: header, nav, main, footer`},{title:"CSS Styling",content:`Selectors: tag, .class, #id

Properties:
color, background, margin, padding

Box model: content, padding, border, margin`},{title:"Responsive Design",content:`Media queries:
@media (max-width: 768px) { }

Flexbox & Grid layouts
Mobile-first approach`}]},13:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-13.mp3",images:["/math_quadratic_visual_1764926787773.png"],slides:[{title:"Shakespeare Introduction",content:`William Shakespeare (1564-1616)

English playwright & poet

Works:
 37 plays
 154 sonnets
 Poems`},{title:"Tragedies",content:`Major tragedies:
 Hamlet
 Macbeth
 Othello
 King Lear
 Romeo and Juliet

Themes: fate, ambition, revenge`},{title:"Literary Devices",content:`Soliloquy: Character speaks thoughts aloud
Metaphor & Simile
Iambic Pentameter

'To be or not to be' - Hamlet`}]},14:{videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WeAreGoingOnBullrun.mp4",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-14.mp3",images:["/physics_energy_diagram_1764926850307.png"],slides:[{title:"Modern Poetry",content:`20th & 21st century poetry

Free verse: No fixed meter
Experimental forms
Diverse voices & themes`},{title:"Key Poets",content:`T.S. Eliot - 'The Waste Land'
Robert Frost - 'The Road Not Taken'
Maya Angelou - 'Still I Rise'
Langston Hughes - Harlem Renaissance`},{title:"Analysis Techniques",content:`Imagery: Visual descriptions
Tone: Author's attitude
Theme: Central message

Context: Historical & cultural background`}]}},W4=()=>{const{moduleId:t}=Ft(),e=Ce(),[s,n]=I.useState("video"),[i,a]=I.useState(0),[o,c]=I.useState(0),d=V.modules.find(S=>S.id===Number(t)),u=d?V.courses.find(S=>S.id===d.course_id):null,h=ax[Number(t)]||ax[1];if(!d||!u)return r.jsxs("div",{children:[r.jsxs($,{to:"/student/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Courses"]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:r.jsx("p",{className:"text-red-700",children:"Module not found."})})]});const f=()=>{a(S=>(S+1)%h.images.length)},g=()=>{a(S=>(S-1+h.images.length)%h.images.length)},w=()=>{o<h.slides.length-1&&c(S=>S+1)},A=()=>{o>0&&c(S=>S-1)};return r.jsxs("div",{children:[r.jsxs($,{to:`/student/course/${u.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Course"]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:[r.jsx("p",{className:"text-sm opacity-90 mb-1",children:u.title}),r.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Module ",d.order,": ",d.title]}),r.jsx("p",{className:"text-blue-100",children:"Choose your preferred learning format below"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border mb-6",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("button",{onClick:()=>n("video"),className:`flex items-center justify-center py-3 px-4 rounded-lg font-semibold transition ${s==="video"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(bj,{className:"w-5 h-5 mr-2"}),"Video"]}),r.jsxs("button",{onClick:()=>n("audio"),className:`flex items-center justify-center py-3 px-4 rounded-lg font-semibold transition ${s==="audio"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(Wp,{className:"w-5 h-5 mr-2"}),"Audio"]}),r.jsxs("button",{onClick:()=>n("images"),className:`flex items-center justify-center py-3 px-4 rounded-lg font-semibold transition ${s==="images"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(uj,{className:"w-5 h-5 mr-2"}),"Visuals"]}),r.jsxs("button",{onClick:()=>n("slides"),className:`flex items-center justify-center py-3 px-4 rounded-lg font-semibold transition ${s==="slides"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(fj,{className:"w-5 h-5 mr-2"}),"Slides"]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[s==="video"&&r.jsxs("div",{className:"relative bg-black",style:{aspectRatio:"16/9"},children:[r.jsx("video",{src:h.videoUrl,controls:!0,className:"w-full h-full",poster:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='450'%3E%3Crect fill='%23000' width='800' height='450'/%3E%3Ctext fill='%23fff' font-size='24' font-family='Arial' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3E Educational Video Lecture%3C/text%3E%3C/svg%3E",children:"Your browser does not support the video tag."}),r.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1 rounded text-sm",children:[" ",d.title," - Video Lecture"]})]}),s==="audio"&&r.jsx("div",{className:"p-12 text-center bg-gradient-to-br from-green-50 to-blue-50",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx(Wp,{className:"w-24 h-24 mx-auto mb-6 text-green-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:d.title}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Audio Lecture - Listen and Learn"}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[r.jsx("audio",{controls:!0,className:"w-full mb-4",src:h.audioUrl,children:"Your browser does not support the audio element."}),r.jsx("p",{className:"text-sm text-gray-500",children:" Best experienced with headphones"})]})]})}),s==="images"&&r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:h.images[i],alt:`Visual ${i+1}`,className:"w-full rounded-lg shadow-lg"}),r.jsxs("div",{className:"absolute inset-0 flex items-center justify-between p-4",children:[r.jsx("button",{onClick:g,className:"bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition",disabled:h.images.length<=1,children:r.jsx(mu,{className:"w-6 h-6 text-gray-800"})}),r.jsx("button",{onClick:f,className:"bg-white/90 hover:bg-white p-3 rounded-full shadow-lg transition",disabled:h.images.length<=1,children:r.jsx(Pn,{className:"w-6 h-6 text-gray-800"})})]})]}),r.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:h.images.map((S,N)=>r.jsx("button",{onClick:()=>a(N),className:`w-3 h-3 rounded-full transition ${N===i?"bg-purple-600":"bg-gray-300"}`},N))}),r.jsxs("p",{className:"text-center mt-4 text-gray-600",children:["Visual ",i+1," of ",h.images.length]})]})}),s==="slides"&&r.jsx("div",{className:"p-8 bg-gray-50 min-h-[600px]",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-8",children:h.slides[o].title}),h.slides[o].image&&r.jsx("img",{src:h.slides[o].image,alt:"Slide visual",className:"w-full max-w-2xl mx-auto mb-8 rounded-lg"}),r.jsx("div",{className:"text-xl text-gray-700 whitespace-pre-line leading-relaxed",children:h.slides[o].content})]}),r.jsxs("div",{className:"flex items-center justify-between mt-6",children:[r.jsxs("button",{onClick:A,disabled:o===0,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(mu,{className:"w-5 h-5 mr-2"}),"Previous"]}),r.jsxs("span",{className:"text-gray-600 font-semibold",children:["Slide ",o+1," of ",h.slides.length]}),r.jsxs("button",{onClick:w,disabled:o===h.slides.length-1,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",r.jsx(Pn,{className:"w-5 h-5 ml-2"})]})]})]})})]}),r.jsxs("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-xl p-6",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Ready to test your knowledge?"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Complete the quiz after reviewing all learning materials to unlock the next module."}),r.jsx("button",{onClick:()=>e(`/student/quiz/${d.id}`),className:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition",children:"Take Module Quiz"})]}),r.jsx(cc,{studentId:1})]})},G4=()=>{const t=JSON.parse(localStorage.getItem("user")||"{}"),e=V.students.find(n=>n.email===t.email)||V.students[0],s=[{id:1,date:"2025-12-05",desc:"Quiz completion - Advanced Math Module 1",amount:15,type:"credit"},{id:2,date:"2025-12-04",desc:"Quiz completion - Physics Module 1",amount:10,type:"credit"},{id:3,date:"2025-12-03",desc:"Module completion bonus",amount:5,type:"credit"},{id:4,date:"2025-12-02",desc:"Quiz completion - Advanced Math Module 2",amount:15,type:"credit"}];return r.jsxs("div",{children:[r.jsxs($,{to:"/student/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"My Wallet"}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl shadow-lg p-8 text-white mb-8",children:[r.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Current Balance"}),r.jsxs("p",{className:"text-5xl font-bold mb-4",children:[e.credits," Credits"]}),r.jsx("p",{className:"text-sm opacity-75",children:"Keep learning to earn more credits!"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Transaction History"}),r.jsx("div",{className:"space-y-3",children:s.map(n=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:n.desc}),r.jsx("p",{className:"text-sm text-gray-500",children:n.date})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",n.amount]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Credits"})]})]},n.id))})]})]})},zt=()=>{const t=Ce();return r.jsxs("button",{onClick:()=>t("/student/dashboard"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold mb-4 transition",children:[r.jsx(vr,{className:"w-4 h-4"}),"Back to Dashboard"]})},K4=()=>{const t=[{id:"perfect",name:"Perfect Score",description:"Score 100% on any quiz",icon:"",earned:!0,category:"Learning"},{id:"hattrick",name:"Hat Trick",description:"Score 100% on 3 consecutive quizzes",icon:"",earned:!1,progress:2,total:3,category:"Learning"},{id:"quick",name:"Quick Learner",description:"Complete module in under 10 minutes",icon:"",earned:!0,category:"Learning"},{id:"marathon",name:"Marathon Runner",description:"Study for 2+ hours in one session",icon:"",earned:!1,category:"Learning"},{id:"earlybird",name:"Early Bird",description:"Complete quiz before 8am",icon:"",earned:!1,category:"Learning"},{id:"nightowl",name:"Night Owl",description:"Study after 10pm",icon:"",earned:!0,category:"Learning"},{id:"firststeps",name:"First Steps",description:"Complete first module",icon:"",earned:!0,category:"Milestones"},{id:"coursemaster",name:"Course Master",description:"Complete entire course with 90%+",icon:"",earned:!0,category:"Milestones"},{id:"expert",name:"Subject Expert",description:"Complete all courses in one subject",icon:"",earned:!1,progress:2,total:3,category:"Milestones"},{id:"renaissance",name:"Renaissance Scholar",description:"Complete courses in 3+ subjects",icon:"",earned:!1,progress:1,total:3,category:"Milestones"},{id:"weekwarrior",name:"Week Warrior",description:"7-day login streak",icon:"",earned:!0,category:"Engagement"},{id:"monthly",name:"Monthly Master",description:"30-day login streak",icon:"",earned:!1,progress:23,total:30,category:"Engagement"},{id:"century",name:"Century Champion",description:"100-day login streak",icon:"",earned:!1,progress:23,total:100,category:"Engagement"},{id:"rich",name:"Credit Millionaire",description:"Earn 1000 total credits",icon:"",earned:!1,progress:245,total:1e3,category:"Special"},{id:"collector",name:"Badge Collector",description:"Earn 10 badges",icon:"",earned:!1,progress:6,total:10,category:"Special"},{id:"helpful",name:"Helping Hand",description:"Help 5 classmates",icon:"",earned:!1,category:"Social"}],e=["Learning","Milestones","Engagement","Special","Social"],s=t.filter(n=>n.earned).length;return r.jsxs("div",{children:[r.jsx(zt,{}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Your Badges"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Collect achievements as you learn"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-8 py-4 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm",children:"Badges Earned"}),r.jsxs("p",{className:"text-4xl font-bold",children:[s,"/",t.length]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Collection Progress"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:[Math.round(s/t.length*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-500",style:{width:`${s/t.length*100}%`}})})]}),e.map(n=>{const i=t.filter(o=>o.category===n),a=i.filter(o=>o.earned).length;return r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n}),r.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold",children:[a,"/",i.length]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(o=>r.jsxs("div",{className:`rounded-xl p-6 border-2 transition ${o.earned?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-400 shadow-lg":"bg-gray-50 border-gray-300"}`,children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:`text-6xl mb-3 ${o.earned?"animate-bounce":"grayscale opacity-50"}`,children:o.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:o.name}),r.jsx("p",{className:"text-sm text-gray-600",children:o.description})]}),o.earned?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 font-semibold",children:[r.jsx(cs,{className:"w-5 h-5"}),"Earned!"]}):o.progress!==void 0&&o.total!==void 0?r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o.progress,"/",o.total]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full",style:{width:`${o.progress/o.total*100}%`}})})]}):r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 text-sm",children:[r.jsx(My,{className:"w-4 h-4"}),"Locked"]})]},o.id))})]},n)}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl p-6 mt-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Next Badge: Hat Trick"}),r.jsx("p",{className:"mb-4",children:"Score 100% on 3 consecutive quizzes. You're 2/3 of the way there!"}),r.jsx("div",{className:"w-full bg-white/30 rounded-full h-3 mb-2",children:r.jsx("div",{className:"bg-white h-3 rounded-full",style:{width:"66%"}})}),r.jsx("p",{className:"text-sm text-white/90",children:"One more perfect score to unlock! "})]})]})},Y4={student:[{question:"How do I enroll in a course?",answer:"Navigate to the Courses page from your dashboard. Browse available courses and click 'Enroll' on any course card. Your enrollment will be confirmed immediately, and the course will appear in your Active Courses."},{question:"How are quiz credits calculated?",answer:"Credits are awarded based on your performance: 15 credits for 100% score in 60 seconds (Fast & Full), 10 credits for 100% score in 120 seconds (Normal & Full), and 2 credits for passing scores with slower times."},{question:"What are badges and how do I earn them?",answer:"Badges are achievements earned through specific activities. Examples include Speed Master (quick quiz completion), High Performer (95%+ scores), Consistent Learner (30-day login streak), and more. Check your Badges page to see earned and available badges."},{question:"How do I check my wallet balance?",answer:"Click on the 'Wallet Balance' metric on your dashboard or use the 'Check Wallet' quick action. Your wallet page shows current balance and complete transaction history with details of how each credit was earned."},{question:"How do I track my course progress?",answer:"Your dashboard shows average completion across all courses. Click 'Active Courses' to see individual course progress, modules completed, and last activity date for each enrolled course."},{question:"What happens if I fail a quiz?",answer:"You can reattempt quizzes up to 3 times. No credits are deducted for failed attempts, but you only earn credits on passing attempts. Use failed attempts as learning opportunities."},{question:"How many attempts do I get per quiz?",answer:"Each quiz allows 3 attempts. Make sure to review the content thoroughly before each attempt to maximize your learning and credit earning potential."},{question:"How do I view course modules?",answer:"Click on any course from your Active Courses page. The course detail page lists all modules, showing completion status and allowing you to access content sequentially."},{question:"When do modules unlock?",answer:"Modules unlock sequentially after completing the previous module. You must achieve 100% completion (videos watched, quizzes passed) on the current module to unlock the next one."},{question:"How do I contact my teacher?",answer:"Teacher contact information is available on each course page. You can also see your teachers listed in your enrolled courses section with their email addresses."}],teacher:[{question:"How do I upload evidence?",answer:"Navigate to the Evidence page from the sidebar. Use the upload form to select files (images, PDFs, documents). Add a title, description, and associate it with the relevant course and module before submitting."},{question:"How do I view student progress?",answer:"Your dashboard shows a Student Progress Overview table. Click on any student's name to view their detailed profile, including course enrollments, completion rates, quiz scores, and last activity."},{question:"How do I assign courses?",answer:"Course assignments are managed by administrators. Contact your principal or admin to request course assignments. You'll see all assigned courses on your dashboard automatically."},{question:"How are my credits calculated?",answer:"Teachers earn 50 credits per evidence upload and 10 credits as bonus for each student achieving 100% scores. Your total credits are displayed on your dashboard."},{question:"What are at-risk students?",answer:"At-risk students are those with completion rates below 70%. Your dashboard highlights these students automatically so you can provide additional support and intervention."},{question:"How do I create  a quiz?",answer:"Quiz creation is managed through the admin panel. Submit your quiz questions to the administrator who will configure them in the system's question bank."},{question:"How do I track student engagement?",answer:"The Student Progress Overview shows last active dates, modules completed, and current progress for all your students. Use this to identify engagement patterns and reach out to inactive students."},{question:"How do I view course analytics?",answer:"Click on any course card from your dashboard or My Courses page. The course detail page shows enrollment numbers, average completion rate, active users, and module-wise completion statistics."},{question:"How do I communicate with students?",answer:"Student email addresses are visible in the Student Progress table and individual student profiles. Use these for direct communication regarding their progress or course matters."},{question:"How do I manage course modules?",answer:"Module management is handled by administrators. Submit requests for module additions, edits, or reordering to your principal or system admin."}],principal:[{question:"How do I view school-wide performance?",answer:"Your dashboard provides comprehensive metrics including total students, teachers, courses, and average completion rates. The 'Completion by Class' chart shows performance breakdown by grade/section."},{question:"How do I generate reports?",answer:"Navigate to specific detail pages (All Students, All Teachers, All Courses) to view comprehensive data. Export functionality for CSV/PDF reports is coming in the next update."},{question:"How do I add new teachers/students?",answer:"Contact your system administrator to add new users. They have access to the User Management system where they can create accounts for teachers and students."},{question:"How do I track course enrollment?",answer:"Click on 'Total Courses' or navigate to the Courses page. Each course card displays current enrollment numbers, active users, and completion statistics."},{question:"What are high-traffic courses?",answer:"High-traffic courses are those with the most active users and engagement. Your dashboard displays these prominently to help identify popular courses and resource allocation needs."},{question:"How do I view completion by class?",answer:"The 'Completion by Grade' chart on your dashboard shows average completion rates for each class/section, helping identify which groups need additional support."},{question:"How do I monitor teacher performance?",answer:"Click 'Total Teachers' to view all teacher metrics including courses taught, students managed, average completion rates, badges earned, and credits accumulated."},{question:"How do I manage badges?",answer:"Badge configuration is managed through the Admin panel. Contact your system administrator to create new badge types or modify earning criteria."},{question:"How do I view system analytics?",answer:"Your dashboard provides key analytics including weekly active students, top performers, top badge holders, and high-traffic courses. More detailed analytics are available in specific detail pages."},{question:"How do I export data?",answer:"Data export functionality (CSV, PDF) is planned for the next release. Currently, you can view and share data through the detail pages for students, teachers, and courses."}],admin:[{question:"How do I create a new course?",answer:"Navigate to Course Management and click 'Create New Course'. Fill in course details including title, subject, level, school assignment, and teacher assignment. The course will be immediately available for enrollment."},{question:"How do I configure quiz settings?",answer:"Go to System Configuration page. Under 'Quiz Configuration', you can set questions per quiz, time limits, maximum attempts, and passing score percentage. Changes apply system-wide immediately."},{question:"How do I manage credit slabs?",answer:"In System Configuration under 'Credit Slabs', adjust credit amounts for different performance levels: Fast & Full Performance, Normal & Full Performance, and Basic Performance. These affect all future quiz completions."},{question:"How do I add/edit users?",answer:"Navigate to User Management. Click 'Add New User' to create accounts, or use 'Edit' button on existing users to modify their details. You can manage both students and teachers from this interface."},{question:"How do I manage schools?",answer:"School data is configured in the system settings. Contact technical support to add new schools or modify existing school information in the database."},{question:"How do I configure completion thresholds?",answer:"In System Configuration under 'Content Completion Thresholds', set the percentage required for video/audio completion and module unlock requirements. Default is 90% for content and 100% for unlocking."},{question:"How do I manage question banks?",answer:"Question banks are managed through course-specific uploads. Navigate to System Configuration and access the Question Bank section to upload MCQ PDFs for each course."},{question:"How do I view system statistics?",answer:"Your dashboard shows comprehensive statistics including total users (students + teachers + principals), total courses, total modules, quiz questions, and school-wise breakdowns."},{question:"How do I backup data?",answer:"Database backups are automated daily. For manual backups or data exports, contact technical support. User data, course content, and system configurations are all included in backups."},{question:"How do I configure teacher credits?",answer:"In System Configuration under 'Teacher Credit Rules', set credits for evidence uploads and student achievement bonuses. These determine how teachers earn credits for their activities."}]},dc=({role:t})=>{const[e,s]=I.useState(null),n=Y4[t],i=a=>{s(e===a?null:a)};return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(ki,{className:"w-6 h-6 text-blue-600 mr-3"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Frequently Asked Questions"})]}),r.jsx("div",{className:"space-y-3",children:n.map((a,o)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden transition-all",children:[r.jsxs("button",{onClick:()=>i(o),className:"w-full px-4 py-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition",children:[r.jsx("span",{className:"font-semibold text-gray-800 text-left",children:a.question}),e===o?r.jsx(ij,{className:"w-5 h-5 text-gray-600 flex-shrink-0 ml-4"}):r.jsx(rj,{className:"w-5 h-5 text-gray-600 flex-shrink-0 ml-4"})]}),e===o&&r.jsx("div",{className:"px-4 py-4 bg-white",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.answer})})]},o))})]})},J4=()=>r.jsxs("div",{children:[r.jsxs($,{to:"/student/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx(dc,{role:"student"})]}),X4=()=>{const{toggleTheme:t}=I.useContext(ky),e=JSON.parse(localStorage.getItem("studentData")||"{}")[1]||{credits:45},[s,n]=I.useState(!1),[i,a]=I.useState(""),o=[{id:"theme_light",name:"Light Theme (Default)",description:"Clean, bright interface",cost:0,type:"theme",icon:""},{id:"theme_dark",name:"Dark Theme",description:"Eye-friendly dark mode",cost:60,type:"theme",icon:""},{id:"theme_colorful",name:"Colorful Theme",description:"Vibrant, energetic colors",cost:30,type:"theme",icon:""},{id:"avatar1",name:"Custom Avatar",description:"Choose your own profile picture",cost:50,type:"avatar",icon:""},{id:"music",name:"Study Music Access",description:"Lo-fi beats while you learn",cost:30,type:"music",icon:""},{id:"cert_premium",name:"Premium Certificate",description:"Enhanced certificate design",cost:100,type:"certificate",icon:""}],c=u=>{if(u.id==="theme_light"){t("light"),a(u.name),n(!0),setTimeout(()=>n(!1),3e3);return}if(e.credits>=u.cost){const h=JSON.parse(localStorage.getItem("studentData")||"{}");h[1]={...h[1],credits:e.credits-u.cost},localStorage.setItem("studentData",JSON.stringify(h));const f=JSON.parse(localStorage.getItem("marketplace_purchases")||"[]");f.push({itemId:u.id,purchasedAt:new Date().toISOString()}),localStorage.setItem("marketplace_purchases",JSON.stringify(f)),u.type==="theme"&&(u.id==="theme_dark"?t("dark"):u.id==="theme_colorful"&&t("colorful")),a(u.name),n(!0),setTimeout(()=>n(!1),3e3)}},d=u=>JSON.parse(localStorage.getItem("marketplace_purchases")||"[]").some(f=>f.itemId===u);return r.jsxs("div",{children:[r.jsx(zt,{}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Credit Marketplace"}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm",children:"Your Balance"}),r.jsxs("p",{className:"text-2xl font-bold",children:[e.credits||45," "]})]})]}),s&&r.jsxs("div",{className:"mb-6 bg-green-50 border-2 border-green-500 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hu,{className:"w-6 h-6 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-green-800",children:"Purchase Successful!"}),r.jsxs("p",{className:"text-sm text-green-700",children:["You bought ",i]})]})]}),r.jsx("button",{onClick:()=>n(!1),children:r.jsx(Kn,{className:"w-5 h-5 text-green-600"})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Digital Rewards"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(u=>{const h=d(u.id),f=e.credits>=u.cost;return r.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-6 border-2 ${h?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-6xl mb-3",children:u.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:u.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:u.description})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[u.cost," "]}),h?r.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-semibold",children:[r.jsx(hu,{className:"w-5 h-5"}),"Owned"]}):r.jsx("button",{onClick:()=>c(u),disabled:!f,className:`px-6 py-2 rounded-lg font-semibold transition ${f?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:f?"Buy":"Not Enough"})]})]},u.id)})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" School Rewards (500+ Credits)"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Unlock real-world rewards with high credit balances!"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:" Extended Library Hours"}),r.jsx("p",{className:"text-sm text-gray-600",children:"500 Credits"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:" School Merchandise"}),r.jsx("p",{className:"text-sm text-gray-600",children:"700 Credits"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:" Book Vouchers"}),r.jsx("p",{className:"text-sm text-gray-600",children:"600 Credits"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:" Priority Registration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"800 Credits"})]})]}),r.jsx("p",{className:"text-sm text-amber-700 mt-4",children:"* Requires school approval and availability"})]})]})},Z4=()=>{const[t,e]=I.useState("weekly"),s=JSON.parse(localStorage.getItem("user")||"{}"),n=V.students.find(d=>d.email===s.email)||V.students[0],i=[{rank:1,name:"Rahul Patel",class:"12 Science",points:25,streak:23,avatar:""},{rank:2,name:"Aisha Khan",class:"10-A",points:22,streak:8,avatar:""},{rank:3,name:"Vikram Joshi",class:"CS Year 2",points:20,streak:10,avatar:""},{rank:4,name:"Karthik Balan",class:"CS Year 3",points:18,streak:7,avatar:""},{rank:5,name:"Divya Menon",class:"10-B",points:15,streak:15,avatar:""},{rank:6,name:n.name,class:n.class,points:12,streak:5,avatar:"",isYou:!0}],a=[{rank:1,name:"Rahul Patel",class:"12 Science",quizzes:12,avg:98,avatar:""},{rank:2,name:"Divya Menon",class:"10-B",quizzes:10,avg:95,avatar:""},{rank:3,name:"Aisha Khan",class:"10-A",quizzes:11,avg:93,avatar:""},{rank:4,name:"Vikram Joshi",class:"CS Year 2",quizzes:9,avg:92,avatar:""},{rank:5,name:"Karthik Balan",class:"CS Year 3",quizzes:8,avg:90,avatar:""},{rank:8,name:n.name,class:n.class,quizzes:6,avg:88,avatar:"",isYou:!0}],o=[{rank:1,name:"Rahul Patel",class:"12 Science",badges:5,credits:865,completion:95,avatar:""},{rank:2,name:"Aisha Khan",class:"10-A",badges:4,credits:755,completion:92,avatar:""},{rank:3,name:"Karthik Balan",class:"CS Year 3",badges:5,credits:658,completion:93,avatar:""},{rank:4,name:"Divya Menon",class:"10-B",badges:3,credits:542,completion:88,avatar:""},{rank:5,name:"Vikram Joshi",class:"CS Year 2",badges:4,credits:520,completion:90,avatar:""},{rank:12,name:n.name,class:n.class,badges:3,credits:245,completion:85,avatar:"",isYou:!0}],c=()=>{let d=i;return t==="weekly"&&(d=a),t==="alltime"&&(d=o),d.map(u=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition ${u.isYou?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-500":"bg-white border border-gray-200 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full font-bold text-xl ${u.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white":u.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500 text-white":u.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600 text-white":"bg-gray-100 text-gray-600"}`,children:u.rank<=3?u.avatar:`#${u.rank}`}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("p",{className:"font-bold text-gray-800",children:[u.name,u.isYou&&r.jsx("span",{className:"text-blue-600 text-sm ml-2",children:"(You)"})]})}),r.jsx("p",{className:"text-sm text-gray-600",children:u.class})]})]}),r.jsxs("div",{className:"text-right",children:[t==="daily"&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[u.points," pts"]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[u.streak," streak"]})]}),t==="weekly"&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[u.avg,"%"]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[u.quizzes," quizzes"]})]}),t==="alltime"&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[u.credits," "]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[u.badges," badges  ",u.completion,"%"]})]})]})]},u.rank))};return r.jsxs("div",{children:[r.jsx(zt,{}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Leaderboards"}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl",children:[r.jsx("p",{className:"text-sm",children:"Your Best Rank"}),r.jsx("p",{className:"text-2xl font-bold",children:"#8"})]})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsxs("button",{onClick:()=>e("daily"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="daily"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600 hover:border-blue-300"}`,children:[r.jsx(ut,{className:"w-5 h-5 inline mr-2"}),"Daily"]}),r.jsxs("button",{onClick:()=>e("weekly"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="weekly"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600 hover:border-blue-300"}`,children:[r.jsx(fa,{className:"w-5 h-5 inline mr-2"}),"Weekly"]}),r.jsxs("button",{onClick:()=>e("alltime"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="alltime"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600 hover:border-blue-300"}`,children:[r.jsx(Ct,{className:"w-5 h-5 inline mr-2"}),"All-Time"]})]}),r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl p-4 mb-6",children:r.jsxs("p",{className:"text-amber-900 font-semibold",children:[t==="daily"&&" Daily leaderboard resets every 24 hours - race to the top!",t==="weekly"&&" Weekly leaderboard: Top performers by quiz scores this week",t==="alltime"&&" Hall of Fame: Lifetime achievement leaders"]})}),r.jsx("div",{className:"space-y-3",children:c()}),r.jsxs("div",{className:"mt-8 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Ot,{className:"w-6 h-6"}),"Class vs Class"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-3xl mb-2",children:""}),r.jsx("p",{className:"font-bold text-gray-800",children:"12 Science"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"94%"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Avg Completion"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-3xl mb-2",children:""}),r.jsx("p",{className:"font-bold text-gray-800",children:"CS Year 3"}),r.jsx("p",{className:"text-2xl font-bold text-gray-500",children:"91%"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Avg Completion"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[r.jsx("p",{className:"text-3xl mb-2",children:""}),r.jsx("p",{className:"font-bold text-gray-800",children:"10-A"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"89%"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Avg Completion"})]})]})]})]})},eC=()=>{const[t,e]=I.useState("daily"),i=t==="daily"?[{id:"d1",title:"Morning Learner",description:"Complete a quiz before 12 PM",reward:10,progress:1,total:1,icon:"",completed:!0},{id:"d2",title:"Triple Threat",description:"Complete 3 modules today",reward:15,progress:2,total:3,icon:"",completed:!1},{id:"d3",title:"Perfect Practice",description:"Score 100% on any quiz",reward:20,progress:0,total:1,icon:"",completed:!1},{id:"d4",title:"Helping Hand",description:"Answer in discussion forum",reward:10,progress:0,total:1,icon:"",completed:!1},{id:"d5",title:"Speed Demon",description:"Complete module in under 5 min",reward:15,progress:0,total:1,icon:"",completed:!1}]:[{id:"w1",title:"Course Conqueror",description:"Complete entire course",reward:100,progress:2,total:3,icon:"",completed:!1},{id:"w2",title:"Quiz Master",description:"Take 10 quizzes this week",reward:75,progress:6,total:10,icon:"",completed:!1},{id:"w3",title:"Streak Keeper",description:"Login 7 days in a row",reward:50,progress:5,total:7,icon:"",completed:!1},{id:"w4",title:"Top Scorer",description:"Get 90%+ average on 5 quizzes",reward:80,progress:3,total:5,icon:"",completed:!1},{id:"w5",title:"Early Achiever",description:"Complete weekly challenges by Friday",reward:120,progress:1,total:4,icon:"",completed:!1}],a=i.filter(c=>c.completed).length,o=i.reduce((c,d)=>d.completed?c+d.reward:c,0);return r.jsxs("div",{children:[r.jsx(zt,{}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Daily Challenges"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Complete challenges to earn bonus credits"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm",children:"Credits Earned Today"}),r.jsxs("p",{className:"text-4xl font-bold",children:["+",o," "]})]})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("button",{onClick:()=>e("daily"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="daily"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600"}`,children:" Daily (Resets in 8h 23m)"}),r.jsx("button",{onClick:()=>e("weekly"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="weekly"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600"}`,children:" Weekly (Resets in 3d 8h)"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Completed"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[a,"/",i.length]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"In Progress"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:i.filter(c=>!c.completed&&c.progress>0).length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Potential Rewards"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[i.reduce((c,d)=>d.completed?c:c+d.reward,0)," "]})]})]}),r.jsx("div",{className:"space-y-4",children:i.map(c=>{const d=c.progress/c.total*100;return r.jsxs("div",{className:`rounded-xl p-6 border-2 transition ${c.completed?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-500":"bg-white border-gray-200 hover:shadow-lg"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"text-5xl",children:c.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:c.title}),r.jsx("p",{className:"text-gray-600",children:c.description})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-4 py-2 rounded-lg font-bold",children:["+",c.reward," "]})})]}),r.jsx("div",{children:c.completed?r.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-semibold",children:[r.jsx(cs,{className:"w-5 h-5"}),"Challenge Complete! Reward Claimed"]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[c.progress,"/",c.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${d}%`}})})]})})]},c.id)})}),r.jsxs("div",{className:"mt-8 bg-gradient-to-br from-purple-600 to-pink-600 text-white rounded-xl p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[r.jsx(cj,{className:"w-6 h-6"}),"Bonus Challenge Weekend!"]}),r.jsxs("p",{className:"mb-4",children:["Complete ALL ",t," challenges to unlock a special bonus!"]}),r.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[r.jsx("p",{className:"font-semibold text-lg",children:" Mystery Reward Box"}),r.jsx("p",{className:"text-sm text-white/90",children:"Worth 50-200 credits + Exclusive Badge"})]})]})]})},tC=()=>{const t=[{day:"Mon",completion:85,quizzes:3,timeSpent:120},{day:"Tue",completion:92,quizzes:4,timeSpent:145},{day:"Wed",completion:78,quizzes:2,timeSpent:95},{day:"Thu",completion:95,quizzes:5,timeSpent:160},{day:"Fri",completion:88,quizzes:3,timeSpent:130},{day:"Sat",completion:70,quizzes:2,timeSpent:85},{day:"Sun",completion:82,quizzes:3,timeSpent:110}];return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx(zt,{}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" My Progress"}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(sj,{className:"w-7 h-7 text-blue-600"}),"Weekly Activity"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx(ut,{className:"w-5 h-5 inline mr-1 text-green-600"}),"+15% from last week"]})]}),r.jsxs("div",{className:"relative h-48 mb-4 mt-6",children:[r.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between text-xs text-gray-500 w-8",children:[r.jsx("span",{children:"100%"}),r.jsx("span",{children:"75%"}),r.jsx("span",{children:"50%"}),r.jsx("span",{children:"25%"}),r.jsx("span",{children:"0%"})]}),r.jsxs("div",{className:"ml-10 h-full relative bg-gray-50 rounded-xl p-4",children:[r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 700 180",preserveAspectRatio:"none",children:[r.jsx("line",{x1:"0",y1:"45",x2:"700",y2:"45",stroke:"#e5e7eb",strokeWidth:"1"}),r.jsx("line",{x1:"0",y1:"90",x2:"700",y2:"90",stroke:"#e5e7eb",strokeWidth:"1"}),r.jsx("line",{x1:"0",y1:"135",x2:"700",y2:"135",stroke:"#e5e7eb",strokeWidth:"1"}),r.jsx("path",{d:`M 50,${180-t[0].completion*1.8} 
                                    L 150,${180-t[1].completion*1.8} 
                                    L 250,${180-t[2].completion*1.8} 
                                    L 350,${180-t[3].completion*1.8} 
                                    L 450,${180-t[4].completion*1.8} 
                                    L 550,${180-t[5].completion*1.8} 
                                    L 650,${180-t[6].completion*1.8}`,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[r.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),r.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),t.map((e,s)=>r.jsx("g",{children:r.jsx("circle",{cx:50+s*100,cy:180-e.completion*1.8,r:"6",fill:"#3b82f6",stroke:"#ffffff",strokeWidth:"2",className:"cursor-pointer hover:r-8 transition-all"})},s))]}),r.jsx("div",{className:"absolute inset-0 flex items-end",children:t.map((e,s)=>r.jsxs("div",{className:"flex-1 flex items-center justify-center relative group",children:[r.jsxs("div",{className:"absolute bottom-0 transform translate-y-full mt-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-20",children:[r.jsx("div",{className:"font-semibold",children:e.day}),r.jsxs("div",{children:[e.completion,"% completion"]}),r.jsxs("div",{children:[e.quizzes," quizzes"]}),r.jsxs("div",{children:[e.timeSpent," min"]})]}),r.jsx("div",{className:"w-full h-full cursor-pointer"})]},s))})]}),r.jsx("div",{className:"ml-10 flex justify-between mt-2 text-xs text-gray-600",children:t.map((e,s)=>r.jsx("span",{className:"flex-1 text-center",children:e.day},s))})]}),r.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm text-gray-600 border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gradient-to-t from-blue-600 to-blue-400 rounded"}),r.jsx("span",{children:"Completion %"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Hover for details"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:" Course Progress"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-700",children:"Advanced Mathematics"}),r.jsx("span",{className:"text-blue-600 font-bold",children:"85%"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full",style:{width:"85%"}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-gray-700",children:"Physics Fundamentals"}),r.jsx("span",{className:"text-green-600 font-bold",children:"92%"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full",style:{width:"92%"}})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:" Quiz Performance"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700",children:"Average Score"}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"92%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700",children:"Quizzes Completed"}),r.jsx("span",{className:"text-2xl font-bold text-green-600",children:"24"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700",children:"Perfect Scores"}),r.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"8"})]})]})]})]})]})},sC=()=>{const[t,e]=I.useState("active"),s=[{id:1,name:"Aisha Khan",class:"10-A",avatar:"",wins:3,losses:1,status:"active",score:"12 vs 8",activity:"Quiz Battle - Calculus"},{id:2,name:"Vikram Joshi",class:"CS Year 2",avatar:"",wins:2,losses:2,status:"active",score:"10 vs 10",activity:"Quiz Battle - Physics"}],n=[{id:3,name:"Rahul Patel",class:"12 Science",avatar:"",result:"won",score:"95 vs 88",date:"2 days ago"},{id:4,name:"Divya Menon",class:"10-B",avatar:"",result:"lost",score:"82 vs 90",date:"5 days ago"},{id:5,name:"Karthik Balan",class:"CS Year 3",avatar:"",result:"won",score:"100 vs 97",date:"1 week ago"}],[i,a]=I.useState([{id:6,name:"Sneha Reddy",class:"10-A",avatar:"",rank:5},{id:7,name:"Arjun Mehta",class:"12 Science",avatar:"",rank:8},{id:8,name:"Priya Sharma",class:"CS Year 2",avatar:"",rank:12}]),[o,c]=I.useState(!1),[d,u]=I.useState(""),h=f=>{a(g=>g.filter(w=>w.id!==f.id)),u(`Challenge sent to ${f.name}! `),c(!0),setTimeout(()=>c(!1),3e3)};return r.jsxs("div",{children:[r.jsx(zt,{}),o&&r.jsx("div",{className:"fixed top-24 right-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-xl shadow-2xl z-50 animate-bounce",children:r.jsx("p",{className:"font-bold",children:d})}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Rivals"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Challenge classmates to 1v1 competitions"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-600 text-white px-8 py-4 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm",children:"Win Rate"}),r.jsx("p",{className:"text-4xl font-bold",children:"75%"}),r.jsx("p",{className:"text-xs",children:"5 wins, 2 losses"})]})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsxs("button",{onClick:()=>e("active"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="active"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600"}`,children:[" Active Rivals (",s.length,")"]}),r.jsxs("button",{onClick:()=>e("history"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition ${t==="history"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white border-2 border-gray-200 text-gray-600"}`,children:[" History (",n.length,")"]})]}),t==="active"?r.jsx("div",{className:"space-y-4 mb-8",children:s.map(f=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-2 border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-6xl",children:f.avatar}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f.name}),r.jsx("p",{className:"text-sm text-gray-600",children:f.class}),r.jsx("p",{className:"text-sm text-orange-600 font-semibold mt-1",children:f.activity})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-red-100 px-6 py-3 rounded-lg mb-2",children:[r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:f.score}),r.jsx("p",{className:"text-xs text-gray-600",children:"Current Score"})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Record: ",f.wins,"W - ",f.losses,"L"]})]})]})},f.id))}):r.jsx("div",{className:"space-y-3 mb-8",children:n.map(f=>r.jsx("div",{className:`rounded-xl p-6 border-2 ${f.result==="won"?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-500":"bg-gradient-to-r from-red-50 to-orange-50 border-red-500"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-5xl",children:f.avatar}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:f.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[f.class,"  ",f.date]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`text-3xl font-bold ${f.result==="won"?"text-green-600":"text-red-600"}`,children:f.result==="won"?" WIN":" LOSS"}),r.jsx("p",{className:"text-lg font-semibold text-gray-700",children:f.score})]})]})},f.id))}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-xl p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[r.jsx(Uy,{className:"w-6 h-6"}),"Challenge New Rival"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(f=>r.jsxs("div",{className:"bg-white/20 rounded-lg p-4 hover:bg-white/30 transition cursor-pointer",children:[r.jsxs("div",{className:"text-center mb-3",children:[r.jsx("div",{className:"text-5xl mb-2",children:f.avatar}),r.jsx("p",{className:"font-bold",children:f.name}),r.jsx("p",{className:"text-sm text-white/80",children:f.class}),r.jsxs("p",{className:"text-xs text-white/70",children:["Rank #",f.rank]})]}),r.jsx("button",{onClick:()=>h(f),className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 rounded-lg font-semibold hover:from-orange-600 hover:to-red-600 transition transform hover:scale-105",children:"Challenge"})]},f.id))})]}),r.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:" How Rivals Work"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{className:"font-semibold text-gray-800",children:"1. Challenge"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pick a rival and send challenge"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{className:"font-semibold text-gray-800",children:"2. Compete"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Both take same quiz within 24h"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{className:"font-semibold text-gray-800",children:"3. Win Rewards"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Winner gets 25 credits + badge"})]})]})]})]})},nC=()=>{const[t,e]=I.useState(245),[s,n]=I.useState([{id:"double",name:"2x Credit Booster",description:"Earn double credits for 24 hours",cost:50,duration:"24 hours",icon:"",type:"active",owned:2},{id:"freeze",name:"Streak Freeze",description:"Protect your streak for 1 day",cost:30,duration:"1 day",icon:"",type:"passive",owned:1},{id:"timer",name:"Quiz Time Extension",description:"+30 seconds on next quiz",cost:40,duration:"1 quiz",icon:"",type:"active",owned:0},{id:"hints",name:"Smart Hints",description:"Get 2 hints during quiz",cost:35,duration:"1 quiz",icon:"",type:"active",owned:0},{id:"xp",name:"XP Multiplier",description:"1.5x experience points",cost:60,duration:"48 hours",icon:"",type:"active",owned:0},{id:"retry",name:"Free Retake",description:"One free quiz retake",cost:45,duration:"1 quiz",icon:"",type:"passive",owned:0}]),[i,a]=I.useState(!1),[o,c]=I.useState(""),d=h=>{const f=s.find(g=>g.id===h);!f||t<f.cost||(e(g=>g-f.cost),n(g=>g.map(w=>w.id===h?{...w,owned:w.owned+1}:w)),f.type==="theme"&&(h==="darkTheme"?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):h==="colorfulTheme"&&(document.documentElement.setAttribute("data-theme","colorful"),localStorage.setItem("theme","colorful"))),c(`Purchased ${f.name}! `),a(!0),setTimeout(()=>a(!1),3e3))},u=[{name:"2x Credit Booster",expires:"8h 23m",icon:""},{name:"Streak Freeze",expires:"Active",icon:""}];return r.jsxs("div",{children:[r.jsx(zt,{}),i&&r.jsx("div",{className:"fixed top-24 right-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-xl shadow-2xl z-50 animate-bounce",children:r.jsx("p",{className:"font-bold",children:o})}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Power-Ups"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Temporary boosts to supercharge your learning"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-8 py-4 rounded-xl shadow-lg",children:[r.jsx("p",{className:"text-sm",children:"Credits Available"}),r.jsxs("p",{className:"text-4xl font-bold",children:[t," "]})]})]}),u.length>0&&r.jsxs("div",{className:"mb-8 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-500 rounded-xl p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(hl,{className:"w-6 h-6 text-green-600"}),"Active Power-Ups"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((h,f)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-4xl",children:h.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-gray-800",children:h.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",h.expires]})]})]}),r.jsx("div",{className:"animate-pulse text-2xl",children:""})]},f))})]}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Shop Power-Ups"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:s.filter(h=>h.type!=="theme").map(h=>{const f=t>=h.cost;return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-2 border-gray-200 hover:border-purple-400 hover:shadow-lg transition",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-6xl mb-3",children:h.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:h.description}),h.duration&&r.jsx("p",{className:"text-xs text-purple-600 font-semibold mt-1",children:h.duration})]}),h.owned>0&&r.jsxs("div",{className:"bg-green-100 text-green-700 text-center py-2 rounded-lg mb-3 font-semibold",children:["Owned: ",h.owned]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[h.cost," "]}),r.jsx("button",{onClick:()=>d(h.id),disabled:!f,className:`px-6 py-2 rounded-lg font-semibold transition ${f?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:h.owned>0?"Buy More":"Buy"})]})]},h.id)})}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-xl p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Power-Up Guide"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[r.jsx(hl,{className:"w-5 h-5"}),"Active Power-Ups"]}),r.jsx("p",{className:"text-sm text-white/90",children:"Activate when you need them. Great for quiz battles and challenges. Stack multiple for maximum effect!"})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[r.jsx(zy,{className:"w-5 h-5"}),"Passive Power-Ups"]}),r.jsx("p",{className:"text-sm text-white/90",children:"Auto-activate when needed. Streak Freeze protects you if you miss a day. Set it and forget it!"})]})]}),r.jsx("div",{className:"mt-4 bg-white/20 rounded-lg p-4",children:r.jsx("p",{className:"font-semibold",children:" Pro Tip: Stack 2x Credit Booster with challenges for 4xrewards!"})})]})]})},rC=()=>{const[t,e]=I.useState([{id:1,user:"Aisha Khan",avatar:"",action:"earned",item:"Perfect Score badge",type:"badge",timeAgo:"5 min ago",likes:12,comments:3},{id:2,user:"Rahul Patel",avatar:"",action:"reached",item:"30-day streak!",type:"streak",timeAgo:"1 hour ago",likes:24,comments:7},{id:3,user:"Vikram Joshi",avatar:"",action:"completed",item:"Advanced Mathematics",type:"course",timeAgo:"2 hours ago",likes:18,comments:5},{id:4,user:"Your Rival",avatar:"",action:"challenged you to",item:"Quiz Battle",type:"challenge",timeAgo:"3 hours ago",likes:8,comments:2},{id:5,user:"Divya Menon",avatar:"",action:"is on top of",item:"Weekly Leaderboard!",type:"leaderboard",timeAgo:"5 hours ago",likes:31,comments:9},{id:6,user:"Karthik Balan",avatar:"",action:"unlocked",item:"Century Champion badge",type:"badge",timeAgo:"1 day ago",likes:45,comments:12}]),[s,n]=I.useState(!1),[i,a]=I.useState(""),o=()=>{a("Achievement shared to feed! "),n(!0),setTimeout(()=>n(!1),3e3)},c=h=>{e(f=>f.filter(g=>g.id!==h)),a("Challenge accepted! Quiz Battle starting soon "),n(!0),setTimeout(()=>n(!1),3e3)},d=h=>{switch(h){case"badge":return"";case"streak":return"";case"course":return"";case"challenge":return"";case"leaderboard":return"";default:return""}},u=h=>{switch(h){case"badge":return"from-yellow-50 to-orange-50 border-yellow-400";case"streak":return"from-red-50 to-orange-50 border-red-400";case"course":return"from-green-50 to-emerald-50 border-green-400";case"challenge":return"from-purple-50 to-pink-50 border-purple-400";case"leaderboard":return"from-blue-50 to-cyan-50 border-blue-400";default:return"from-gray-50 to-gray-100 border-gray-400"}};return r.jsxs("div",{children:[r.jsx(zt,{}),s&&r.jsx("div",{className:"fixed top-24 right-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-xl shadow-2xl z-50 animate-bounce",children:r.jsx("p",{className:"font-bold",children:i})}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Social Feed"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"See what your classmates are achieving"})]}),r.jsx("button",{onClick:o,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition transform hover:scale-105",children:"Share Achievement"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Following"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"24"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Friends"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:"18"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Shared"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"12"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border",children:[r.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Likes Received"}),r.jsx("p",{className:"text-3xl font-bold text-pink-600",children:"156"})]})]}),r.jsx("div",{className:"space-y-4",children:t.map(h=>r.jsx("div",{className:`bg-gradient-to-r ${u(h.type)} border-2 rounded-xl p-6 hover:shadow-lg transition`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"text-5xl",children:h.avatar}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("p",{className:"font-bold text-gray-800",children:h.user}),r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("p",{className:"text-sm text-gray-600",children:h.timeAgo})]}),r.jsxs("p",{className:"text-gray-700 mb-3",children:[h.action," ",r.jsx("span",{className:"font-bold text-blue-600",children:h.item})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-red-500 transition",children:[r.jsx(Dy,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:h.likes})]}),r.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-blue-500 transition",children:[r.jsx(Ly,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:h.comments})]}),h.type==="challenge"&&r.jsx("button",{onClick:()=>c(h.id),className:"ml-auto bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg font-semibold hover:from-orange-600 hover:to-red-600 transition transform hover:scale-105",children:"Accept Challenge"})]})]}),r.jsx("div",{className:"text-4xl",children:d(h.type)})]})},h.id))}),r.jsxs("div",{className:"mt-8 bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-xl p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flexitems-center gap-2",children:[r.jsx(ut,{className:"w-6 h-6 inline"}),"Trending Today"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[r.jsx("p",{className:"text-3xl mb-2",children:""}),r.jsx("p",{className:"font-bold",children:"#30DayStreak"}),r.jsx("p",{className:"text-sm text-white/80",children:"12 students achieved"})]}),r.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[r.jsx("p",{className:"text-3xl mb-2",children:""}),r.jsx("p",{className:"font-bold",children:"#PerfectScore"}),r.jsx("p",{className:"text-sm text-white/80",children:"8 badges earned today"})]}),r.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[r.jsx("p",{className:"text-3xl mb-2",children:""}),r.jsx("p",{className:"font-bold",children:"#RivalBattles"}),r.jsx("p",{className:"text-sm text-white/80",children:"15 active challenges"})]})]})]})]})},iC=({quiz:t,onClose:e,onComplete:s,currentAttempt:n})=>{const[i,a]=I.useState(0),[o,c]=I.useState(Array(t.questions.length).fill(null)),[d,u]=I.useState(t.timeLimit);I.useEffect(()=>{if(d<=0){g();return}const v=setInterval(()=>{u(x=>x-1)},1e3);return()=>clearInterval(v)},[d]);const h=v=>{const x=[...o];x[i]=v,c(x),i<t.questions.length-1&&setTimeout(()=>{a(_=>_+1)},300)},f=()=>{i>0&&a(i-1)},g=()=>{let v=0;o.forEach((_,D)=>{_!==null&&_===t.questions[D].correctAnswer&&v++});const x=t.timeLimit-d;s(v,x,o)},w=v=>{const x=Math.floor(v/60),_=v%60;return`${x}:${_.toString().padStart(2,"0")}`},A=t.questions[i],S=i===t.questions.length-1,N=o.filter(v=>v!==null).length;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:t.title}),r.jsx("button",{onClick:e,className:"text-white/80 hover:text-white transition",children:r.jsx(Kn,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold text-lg",children:w(d)})]}),r.jsxs("div",{children:["Question ",i+1," of ",t.questions.length]}),r.jsxs("div",{children:["Attempt ",n," of ",t.maxAttempts]})]})]}),r.jsxs("div",{className:"p-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:A.question}),r.jsx("div",{className:"space-y-3",children:A.options.map((v,x)=>r.jsx("button",{onClick:()=>h(x),className:`w-full text-left p-4 rounded-lg border-2 transition ${o[i]===x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 ${o[i]===x?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:o[i]===x&&r.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})}),r.jsx("span",{className:"text-gray-800",children:v})]})},x))}),r.jsxs("div",{className:"mt-6 pt-6 border-t",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[N,"/",t.questions.length," answered"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${N/t.questions.length*100}%`}})})]})]}),r.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex justify-between",children:[r.jsxs("button",{onClick:f,disabled:i===0,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[r.jsx(mu,{className:"w-5 h-5"}),"Previous"]}),S&&r.jsx("button",{onClick:g,disabled:N<t.questions.length,className:"px-8 py-3 rounded-lg bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Submit Quiz"})]})]})})},aC=({quiz:t,userAnswers:e,score:s,timeUsed:n,onContinue:i})=>{const a=Math.round(s/t.questions.length*100),o=c=>{const d=Math.floor(c/60),u=c%60;return`${d}m ${u}s`};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white p-8 rounded-t-2xl text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:" Quiz Complete!"}),r.jsxs("div",{className:"flex justify-center items-center gap-8",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Your Score"}),r.jsxs("p",{className:"text-5xl font-bold",children:[a,"%"]}),r.jsxs("p",{className:"text-green-100 mt-1",children:[s,"/",t.questions.length," Correct"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Time"}),r.jsx("p",{className:"text-2xl font-semibold",children:o(n)})]})]})]}),r.jsx("div",{className:"mt-6 bg-white/20 rounded-lg p-3",children:r.jsxs("p",{className:"text-lg",children:[" Credits Earned: ",r.jsx("span",{className:"font-bold",children:a===100?"+5":a>=80?"+3":"+1"})]})})]}),r.jsxs("div",{className:"p-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Answer Review"}),r.jsx("div",{className:"space-y-6",children:t.questions.map((c,d)=>{const u=e[d],h=u===c.correctAnswer;return r.jsx("div",{className:`border-2 rounded-xl p-6 ${h?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[h?r.jsx(cs,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}):r.jsx(Uh,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-800 text-lg mb-3",children:["Question ",d+1,": ",c.question]}),r.jsx("div",{className:"space-y-2 mb-4",children:c.options.map((f,g)=>r.jsx("div",{className:`p-3 rounded-lg ${g===c.correctAnswer?"bg-green-100 border-2 border-green-500":g===u&&!h?"bg-red-100 border-2 border-red-500":"bg-white border border-gray-200"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[g===c.correctAnswer&&r.jsx("span",{className:"text-green-700 font-semibold text-sm",children:" Correct:"}),g===u&&!h&&r.jsx("span",{className:"text-red-700 font-semibold text-sm",children:" Your answer:"}),r.jsx("span",{className:g===c.correctAnswer?"text-green-800 font-medium":g===u&&!h?"text-red-800":"text-gray-600",children:f})]})},g))}),r.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Explanation:"}),r.jsx("p",{className:"text-sm text-blue-800",children:c.explanation})]}),!h&&c.moduleId&&r.jsxs($,{to:`/student/module/${c.moduleId}`,target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition font-semibold text-sm shadow-md",children:[r.jsx(Ke,{className:"w-4 h-4"}),"Review Module Content"]})]})]})},c.id)})})]}),r.jsx("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex justify-center",children:r.jsx("button",{onClick:i,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-xl text-lg font-semibold shadow-lg hover:from-blue-700 hover:to-indigo-800 transition transform hover:scale-105",children:"Continue"})})]})})},oC=({score:t,totalQuestions:e,bestScore:s,attemptsRemaining:n,onRetake:i,onReturn:a,onReview:o})=>{const c=Math.round(t/e*100),d=Math.round(s/e*100);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-t-2xl text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Gp,{className:"w-10 h-10"})}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Ready for Another Try?"}),r.jsxs("p",{className:"text-blue-100",children:["You have ",n," attempts remaining"]})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"This Attempt"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[c,"%"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[t,"/",e]})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[r.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Best Score"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[d,"%"]}),r.jsxs("p",{className:"text-sm text-blue-500",children:[s,"/",e]})]})]}),r.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded mb-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:"text-2xl mr-2",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-yellow-900",children:"Tip:"}),r.jsx("p",{className:"text-sm text-yellow-800",children:"Review the explanations above to improve your score!"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[o&&r.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-semibold hover:from-orange-600 hover:to-red-600 transition shadow-md",children:[r.jsx(Ke,{className:"w-5 h-5"}),"Review Answers & Study"]}),r.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition",children:[r.jsx(Gp,{className:"w-5 h-5"}),"Retake Quiz"]}),r.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition",children:[r.jsx(vr,{className:"w-5 h-5"}),"Return to Course"]})]})]})]})})},Lo=[{id:1,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Quadratic Equations",question:"What is the discriminant of the equation x - 5x + 6 = 0?",options:["A. 1","B. -1","C. 25","D. 11"],correctAnswer:"A"},{id:2,course:"Advanced Mathematics",courseId:1,difficulty:"Hard",topic:"Quadratic Equations",question:"For the equation ax + bx + c = 0, which condition indicates two real distinct roots?",options:["A. b - 4ac < 0","B. b - 4ac = 0","C. b - 4ac > 0","D. b + 4ac > 0"],correctAnswer:"C"},{id:3,course:"Advanced Mathematics",courseId:1,difficulty:"Easy",topic:"Derivatives",question:"What is the derivative of x?",options:["A. 3x","B. x","C. 3x","D. x/3"],correctAnswer:"A"},{id:4,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Derivatives",question:"Using the power rule, what is d/dx(5x)?",options:["A. 20x","B. 5x","C. 20x","D. 5x"],correctAnswer:"A"},{id:5,course:"Advanced Mathematics",courseId:1,difficulty:"Hard",topic:"Chain Rule",question:"What is the derivative of (2x + 1)?",options:["A. 6(2x + 1)","B. 3(2x + 1)","C. 6x(2x + 1)","D. 2(2x + 1)"],correctAnswer:"A"},{id:6,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Integration",question:"What is x dx?",options:["A. x/3 + C","B. 2x + C","C. x + C","D. x/2 + C"],correctAnswer:"A"},{id:7,course:"Advanced Mathematics",courseId:1,difficulty:"Easy",topic:"Integration",question:"What must always be added when finding an indefinite integral?",options:["A. Zero","B. Constant C","C. Variable x","D. Number 1"],correctAnswer:"B"},{id:8,course:"Advanced Mathematics",courseId:1,difficulty:"Hard",topic:"Integration",question:"What is (3x + 2x) dx?",options:["A. x + x + C","B. 6x + 2 + C","C. 3x + 2x + C","D. x + x + C"],correctAnswer:"A"},{id:9,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Limits",question:"What is lim(x0) (sin x)/x?",options:["A. 0","B. 1","C. ","D. Undefined"],correctAnswer:"B"},{id:10,course:"Advanced Mathematics",courseId:1,difficulty:"Easy",topic:"Functions",question:"What is the slope of the line y = 3x + 5?",options:["A. 3","B. 5","C. 8","D. 15"],correctAnswer:"A"},{id:11,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Product Rule",question:"Using product rule, what is d/dx(x  sin x)?",options:["A. 2x sin x + x cos x","B. 2x cos x","C. x sin x","D. 2x sin x"],correctAnswer:"A"},{id:12,course:"Advanced Mathematics",courseId:1,difficulty:"Hard",topic:"Quotient Rule",question:"What is the derivative of (x)/(x+1)?",options:["A. (x+2x)/(x+1)","B. 2x/(x+1)","C. x/(x+1)","D. 2x"],correctAnswer:"A"},{id:13,course:"Advanced Mathematics",courseId:1,difficulty:"Easy",topic:"Algebra",question:"Solve for x: 2x + 4 = 10",options:["A. 3","B. 2","C. 6","D. 4"],correctAnswer:"A"},{id:14,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Exponentials",question:"What is the derivative of e?",options:["A. e","B. xe","C. 1/e","D. ln(x)"],correctAnswer:"A"},{id:15,course:"Advanced Mathematics",courseId:1,difficulty:"Hard",topic:"Logarithms",question:"What is ln(e)?",options:["A. 3","B. e","C. 1","D. e"],correctAnswer:"A"},{id:16,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Trigonometry",question:"What is the derivative of sin(x)?",options:["A. cos(x)","B. -cos(x)","C. sin(x)","D. tan(x)"],correctAnswer:"A"},{id:17,course:"Advanced Mathematics",courseId:1,difficulty:"Easy",topic:"Basic Calculus",question:"What does dx represent in calculus?",options:["A. Infinitesimal change in x","B. Derivative","C. Constant","D. Variable x"],correctAnswer:"A"},{id:18,course:"Advanced Mathematics",courseId:1,difficulty:"Hard",topic:"Applications",question:"If position s(t) = t, what is velocity at t=2?",options:["A. 12","B. 8","C. 6","D. 3"],correctAnswer:"A"},{id:19,course:"Advanced Mathematics",courseId:1,difficulty:"Medium",topic:"Series",question:"What is the sum of first n natural numbers formula?",options:["A. n(n+1)/2","B. n","C. 2n","D. n(n-1)/2"],correctAnswer:"A"},{id:20,course:"Advanced Mathematics",courseId:1,difficulty:"Easy",topic:"Factoring",question:"Factor: x - 9",options:["A. (x-3)(x+3)","B. (x-9)(x+1)","C. x(x-9)","D. (x-3)"],correctAnswer:"A"},{id:21,course:"Physics",courseId:2,difficulty:"Easy",topic:"Newton's Laws",question:"Newton's Second Law is expressed as:",options:["A. F = ma","B. F = mv","C. F = ma","D. F = m/a"],correctAnswer:"A"},{id:22,course:"Physics",courseId:2,difficulty:"Medium",topic:"Newton's Laws",question:"A 5kg object accelerates at 2m/s. What force is applied?",options:["A. 10N","B. 7N","C. 3N","D. 2.5N"],correctAnswer:"A"},{id:23,course:"Physics",courseId:2,difficulty:"Hard",topic:"Newton's Third Law",question:"When you push a wall, the wall pushes back with:",options:["A. Equal and opposite force","B. Greater force","C. Lesser force","D. No force"],correctAnswer:"A"},{id:24,course:"Physics",courseId:2,difficulty:"Easy",topic:"Energy",question:"The formula for kinetic energy is:",options:["A. mv","B. mgh","C. mv","D. mh"],correctAnswer:"A"},{id:25,course:"Physics",courseId:2,difficulty:"Medium",topic:"Energy",question:"A 2kg object at 10m height has potential energy of (g=10m/s):",options:["A. 200J","B. 20J","C. 100J","D. 2000J"],correctAnswer:"A"},{id:26,course:"Physics",courseId:2,difficulty:"Hard",topic:"Energy Conservation",question:"Total mechanical energy in an isolated system:",options:["A. Remains constant","B. Increases","C. Decreases","D. Becomes zero"],correctAnswer:"A"},{id:27,course:"Physics",courseId:2,difficulty:"Easy",topic:"Motion",question:"Velocity is defined as:",options:["A. Displacement/time","B. Distance/time","C. Force/mass","D. Accelerationtime"],correctAnswer:"A"},{id:28,course:"Physics",courseId:2,difficulty:"Medium",topic:"Kinematics",question:"Using v = u + at, if u=0, a=5m/s, t=4s, then v=?",options:["A. 20m/s","B. 5m/s","C. 10m/s","D. 4m/s"],correctAnswer:"A"},{id:29,course:"Physics",courseId:2,difficulty:"Hard",topic:"Projectiles",question:"At maximum height of projectile, vertical velocity is:",options:["A. Zero","B. Maximum","C. Equal to initial","D. Negative"],correctAnswer:"A"},{id:30,course:"Physics",courseId:2,difficulty:"Easy",topic:"Electricity",question:"Ohm's Law states:",options:["A. V = IR","B. V = I/R","C. I = VR","D. R = VI"],correctAnswer:"A"},{id:31,course:"Physics",courseId:2,difficulty:"Medium",topic:"Circuits",question:"In a series circuit, total resistance is:",options:["A. Sum of all resistances","B. Product of resistances","C. Average of resistances","D. Reciprocal sum"],correctAnswer:"A"},{id:32,course:"Physics",courseId:2,difficulty:"Hard",topic:"Power",question:"Power formula in terms of voltage and current:",options:["A. P = VI","B. P = V/I","C. P = I/V","D. P = VR"],correctAnswer:"A"},{id:33,course:"Physics",courseId:2,difficulty:"Easy",topic:"Units",question:"Unit of force is:",options:["A. Newton","B. Joule","C. Watt","D. Pascal"],correctAnswer:"A"},{id:34,course:"Physics",courseId:2,difficulty:"Medium",topic:"Momentum",question:"Momentum is the product of:",options:["A. Mass and velocity","B. Force and time","C. Mass and acceleration","D. Energy and time"],correctAnswer:"A"},{id:35,course:"Physics",courseId:2,difficulty:"Hard",topic:"Collisions",question:"In elastic collision, what is conserved?",options:["A. Both momentum and KE","B. Only momentum","C. Only KE","D. Neither"],correctAnswer:"A"},{id:36,course:"English Literature",courseId:3,difficulty:"Easy",topic:"Shakespeare",question:"Who wrote 'Hamlet'?",options:["A. William Shakespeare","B. Charles Dickens","C. Jane Austen","D. Mark Twain"],correctAnswer:"A"},{id:37,course:"English Literature",courseId:3,difficulty:"Medium",topic:"Shakespeare",question:"What is a soliloquy?",options:["A. Character speaks thoughts aloud","B. Conversation between two","C. Stage direction","D. Poetry form"],correctAnswer:"A"},{id:38,course:"English Literature",courseId:3,difficulty:"Hard",topic:"Meter",question:"Iambic pentameter has how many syllables per line?",options:["A. 10","B. 8","C. 12","D. 14"],correctAnswer:"A"},{id:39,course:"English Literature",courseId:3,difficulty:"Easy",topic:"Poetry",question:"A comparison using 'like' or 'as' is called:",options:["A. Simile","B. Metaphor","C. Personification","D. Alliteration"],correctAnswer:"A"},{id:40,course:"English Literature",courseId:3,difficulty:"Medium",topic:"Literary Devices",question:"Giving human qualities to non-human things is:",options:["A. Personification","B. Simile","C. Hyperbole","D. Irony"],correctAnswer:"A"},{id:41,course:"English Literature",courseId:3,difficulty:"Hard",topic:"Symbolism",question:"In literature, light commonly symbolizes:",options:["A. Truth or hope","B. Darkness","C. Confusion","D. Anger"],correctAnswer:"A"},{id:42,course:"English Literature",courseId:3,difficulty:"Easy",topic:"Theme",question:"The central message of a story is called:",options:["A. Theme","B. Plot","C. Setting","D. Character"],correctAnswer:"A"},{id:43,course:"English Literature",courseId:3,difficulty:"Medium",topic:"Character",question:"A character who changes throughout the story is:",options:["A. Dynamic","B. Static","C. Flat","D. Minor"],correctAnswer:"A"},{id:44,course:"English Literature",courseId:3,difficulty:"Hard",topic:"Narration",question:"First-person narration uses which pronoun?",options:["A. I/We","B. You","C. He/She","D. They"],correctAnswer:"A"},{id:45,course:"English Literature",courseId:3,difficulty:"Easy",topic:"Poetry",question:"Repeated consonant sounds at the beginning of words:",options:["A. Alliteration","B. Assonance","C. Rhyme","D. Meter"],correctAnswer:"A"},{id:46,course:"English Literature",courseId:3,difficulty:"Medium",topic:"Drama",question:"The sequence of events in a story is the:",options:["A. Plot","B. Theme","C. Setting","D. Conflict"],correctAnswer:"A"},{id:47,course:"English Literature",courseId:3,difficulty:"Hard",topic:"Analysis",question:"When analyzing literature, textual evidence is:",options:["A. Quotes from the text","B. Personal opinion","C. Historical facts","D. Author biography"],correctAnswer:"A"},{id:48,course:"English Literature",courseId:3,difficulty:"Easy",topic:"Writing",question:"MLA format is used for:",options:["A. Citations","B. Poetry","C. Dialogue","D. Character names"],correctAnswer:"A"},{id:49,course:"English Literature",courseId:3,difficulty:"Medium",topic:"Tone",question:"The author's attitude toward the subject is:",options:["A. Tone","B. Mood","C. Theme","D. Style"],correctAnswer:"A"},{id:50,course:"English Literature",courseId:3,difficulty:"Hard",topic:"Dramatic Irony",question:"When the audience knows something characters don't:",options:["A. Dramatic irony","B. Verbal irony","C. Situational irony","D. Sarcasm"],correctAnswer:"A"}],fd=t=>{const e=[...t];for(let s=e.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[e[s],e[n]]=[e[n],e[s]]}return e},lC=t=>t.charCodeAt(0)-65,ox=(t,e=15)=>{const s=V.modules.find(u=>u.id===t);if(!s)return null;const n=V.courses.find(u=>u.id===s.course_id);if(!n)return null;let i=Lo.filter(u=>u.course===n.subject||u.course.includes(n.subject));i.length<e&&(i=Lo.filter(u=>u.courseId===n.id)),i.length<e&&(i=Lo);const a=fd(i),c=a.slice(0,Math.min(e,a.length)).map((u,h)=>{const f=u.options.map(v=>v.substring(3)),g=lC(u.correctAnswer),w=f[g],A=fd(f),S=A.indexOf(w),N=`In ${u.topic}, ${w} is the correct answer because it directly addresses the core concept being tested in this question.`;return{id:h+1,question:u.question,options:A,correctAnswer:S,explanation:N,moduleId:t,topic:u.topic}}),d=fd(c).map((u,h)=>({...u,id:h+1}));return{id:Math.floor(Math.random()*9e5)+1e5,moduleId:t,courseId:n.id,title:`${s.title} - Quiz`,questions:d,timeLimit:120,maxAttempts:3}},cC=()=>{const{moduleId:t}=Ft(),e=JSON.parse(localStorage.getItem("user")||"{}"),s=V.students.find(x=>x.email===e.email)||V.students[0],[n,i]=I.useState(null),[a,o]=I.useState(!1),[c,d]=I.useState(!1),[u,h]=I.useState(null),[f,g]=I.useState([]),w=t?V.modules.find(x=>x.id===Number(t)):null;let A=t?(V.quizzes||[]).filter(x=>x.moduleId===Number(t)):V.quizzes||[];if(I.useEffect(()=>{if(t&&A.length===0){const x=ox(Number(t),15);x&&(A=[x])}},[t]),t&&A.length===0){const x=ox(Number(t),15);x&&(A=[x])}const S=x=>JSON.parse(localStorage.getItem("quizAttempts")||"{}")[`${s.id}_${x}`]||{attempts:0,scores:[],bestScore:0},N=(x,_)=>{const D=JSON.parse(localStorage.getItem("quizAttempts")||"{}"),L=`${s.id}_${x}`,z=D[L]||{attempts:0,scores:[],bestScore:0};return z.attempts+=1,z.scores.push(_),z.bestScore=Math.max(z.bestScore,_),D[L]=z,localStorage.setItem("quizAttempts",JSON.stringify(D)),z},v=(x,_)=>{const D=x/_*100;let L=1;D===100?L=5:D>=80&&(L=3);const z=JSON.parse(localStorage.getItem("studentData")||"{}"),j=(s.credits||0)+L;return z[s.id]={...z[s.id],credits:j},localStorage.setItem("studentData",JSON.stringify(z)),L};return r.jsxs("div",{children:[r.jsxs($,{to:w?`/student/course/${w.course_id}`:"/student/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-6",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),w?"Back to Course":"Back to Courses"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:w?`${w.title} - Quiz`:"Course Quizzes"}),A.length===0?r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center",children:[r.jsx("p",{className:"text-yellow-800 text-lg",children:"No quizzes available for this module yet."}),r.jsx("p",{className:"text-yellow-700 text-sm mt-2",children:"Check back later or contact your teacher."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(x=>{const _=S(x.id),D=_.attempts<x.maxAttempts,L=V.courses.find(z=>z.id===x.courseId);return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:x.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L==null?void 0:L.title})]}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 px-3 py-1 rounded-lg",children:r.jsxs("p",{className:"text-xs font-semibold text-blue-700",children:[x.questions.length," Questions"]})})]}),r.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[r.jsxs("p",{children:[" Time Limit: ",x.timeLimit/60," minutes"]}),r.jsxs("p",{children:[" Max Attempts: ",x.maxAttempts]}),_.attempts>0&&r.jsxs("p",{className:"text-green-600 font-semibold",children:[" Best Score: ",Math.round(_.bestScore/x.questions.length*100),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600",children:_.attempts>0?`Attempts used: ${_.attempts}/${x.maxAttempts}`:"Not attempted yet"}),r.jsx("button",{onClick:()=>{i(x),g([])},disabled:!D,className:`px-6 py-2 rounded-lg font-semibold transition ${D?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:_.attempts===0?"Start Quiz":D?"Retake":"Max Attempts"})]})]},x.id)})}),n&&!a&&r.jsx(iC,{quiz:n,currentAttempt:S(n.id).attempts+1,onClose:()=>i(null),onComplete:(x,_,D)=>{g(D);const L=N(n.id,x),z=v(x,n.questions.length);h({...L,currentScore:x,timeUsed:_,creditsEarned:z,totalQuestions:n.questions.length}),L.attempts>=n.maxAttempts?o(!0):d(!0)}}),a&&u&&r.jsx(aC,{quiz:n,userAnswers:f,score:u.currentScore,timeUsed:u.timeUsed,onContinue:()=>{o(!1),h(null),i(null)}}),c&&u&&r.jsx(oC,{score:u.currentScore,totalQuestions:u.totalQuestions,attemptsRemaining:n.maxAttempts-u.attempts,bestScore:u.bestScore,onReview:()=>{d(!1),o(!0)},onRetake:()=>{d(!1),i(n),g([])},onReturn:()=>{d(!1),h(null),i(null)}})]})},Lb=({endTime:t,onTimeUp:e})=>{const[s,n]=I.useState(0);I.useEffect(()=>{const d=()=>{const h=new Date().getTime(),f=t.getTime(),g=Math.max(0,f-h);return Math.floor(g/1e3)};n(d());const u=setInterval(()=>{const h=d();n(h),h===0&&e&&(e(),clearInterval(u))},1e3);return()=>clearInterval(u)},[t,e]);const i=Math.floor(s/60),a=s%60,o=s<=30,c=s<=10;return r.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-xl font-bold text-2xl transition ${c?"bg-red-50 text-red-600 animate-pulse":o?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:[r.jsx(Gn,{className:`w-8 h-8 ${c?"animate-bounce":""}`}),r.jsxs("span",{className:"font-mono",children:[String(i).padStart(2,"0"),":",String(a).padStart(2,"0")]})]})};class dC{constructor(e){Sf(this,"seed");this.seed=typeof e=="string"?this.hashCode(e):e}hashCode(e){let s=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);s=(s<<5)-s+i,s=s&s}return Math.abs(s)}next(){return this.seed=(this.seed*9301+49297)%233280,this.seed/233280}}function Ob(t,e){const s=new dC(e),n=[...t];for(let i=n.length-1;i>0;i--){const a=Math.floor(s.next()*(i+1));[n[i],n[a]]=[n[a],n[i]]}return n}function uC(t,e,s){const n=`${e}-${s}-questions`;return Ob(t,n).map((a,o)=>({...a,originalPosition:t.indexOf(a)+1,studentPosition:o+1,sharedLabel:`Q${t.indexOf(a)+1}`}))}function Fb(t,e,s,n,i){const a=`${s}-${n}-q${i}-options`,o=t.map((f,g)=>({option:f,originalIndex:g})),c=Ob(o,a),d=c.map(f=>f.option),u=c.findIndex(f=>f.originalIndex===e),h=c.map(f=>f.originalIndex);return{shuffledOptions:d,newCorrectIndex:u,mapping:h}}function hC(t){return t.map(e=>e.originalPosition-1)}function mC(t,e,s){return t.map((n,i)=>{const{mapping:a}=Fb(n.options,n.correctAnswer,e,s,n.id||i);return a})}const fC=()=>{const{sessionId:t}=Ft(),e=Ce(),s=JSON.parse(localStorage.getItem("user")||"{}"),[n,i]=I.useState(null),[a,o]=I.useState([]),[c,d]=I.useState(0),[u,h]=I.useState([]),[f,g]=I.useState(!1),w=[{id:1,text:"What is 2 + 2?",options:["3","4","5","6"],correctAnswer:1},{id:2,text:"Capital of France?",options:["London","Berlin","Paris","Madrid"],correctAnswer:2},{id:3,text:"Which is a prime number?",options:["4","6","7","8"],correctAnswer:2},{id:4,text:"What is 5  6?",options:["25","30","35","40"],correctAnswer:1},{id:5,text:"Largest ocean?",options:["Atlantic","Pacific","Indian","Arctic"],correctAnswer:1},{id:6,text:"What is 10 - 3?",options:["5","6","7","8"],correctAnswer:2},{id:7,text:"Who wrote Hamlet?",options:["Dickens","Shakespeare","Austen","Tolkien"],correctAnswer:1},{id:8,text:"What is H2O?",options:["Oxygen","Water","Hydrogen","Carbon"],correctAnswer:1},{id:9,text:"Speed of light?",options:["200k km/s","300k km/s","400k km/s","500k km/s"],correctAnswer:1},{id:10,text:"First president of USA?",options:["Lincoln","Washington","Jefferson","Adams"],correctAnswer:1}];I.useEffect(()=>{if(t){i({id:t,quizId:"demo-quiz",quizTitle:"Live Quiz Demo",classId:"8-A",className:"Class 8-A",teacherId:"teacher-001",teacherName:"Mr. Sharma",startTime:{toDate:()=>new Date},endTime:{toDate:()=>new Date(Date.now()+12e4)},duration:120,sessionSeed:t,status:"active",questionCount:10});const j=uC(w,t,s.email||"student").map(b=>{const{shuffledOptions:E,newCorrectIndex:T}=Fb(b.options,b.correctAnswer,t,s.email||"student",b.id);return{...b,options:E,correctAnswer:T}});o(j),h(new Array(10).fill(-1))}},[t,s.email]);const A=L=>{const z=[...u];z[c]=L,h(z),setTimeout(()=>{c<a.length-1&&d(c+1)},300)},S=()=>{c<a.length-1&&d(c+1)},N=()=>{c>0&&d(c-1)},v=async()=>{if(!(!n||!t)){g(!0);try{let L=0;a.forEach((j,b)=>{u[b]===j.correctAnswer&&L++});const z=Date.now()-n.startTime.toDate().getTime();await S4({sessionId:t,studentId:s.email||"student",studentName:s.name||"Student",answers:u,score:L,timeTakenMs:z,submitTime:{toDate:()=>new Date},isLate:z>n.duration*1e3,questionOrder:hC(a),optionOrders:mC(a,n.sessionSeed,s.email||"student")}),e(`/student/live-quiz/${t}/results`)}catch(L){console.error("Firebase submit error (expected for demo):",L),setTimeout(()=>{e(`/student/live-quiz/${t}/results`)},500)}}},x=()=>{v()};if(!n||a.length===0)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading quiz..."})]})});const _=a[c],D=u.filter(L=>L!==-1).length;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsx(zt,{}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl p-6 mb-6 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:n.quizTitle}),r.jsxs("p",{className:"opacity-90",children:["Question ",c+1," of ",a.length]})]}),r.jsx(Lb,{endTime:n.endTime.toDate(),onTimeUp:x})]}),r.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:r.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${(c+1)/a.length*100}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-sm font-semibold",children:["Q",_.originalPosition||c+1]})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:_.text}),r.jsx("div",{className:"space-y-4",children:_.options.map((L,z)=>r.jsx("button",{onClick:()=>A(z),className:`w-full p-4 rounded-xl border-2 transition text-left ${u[c]===z?"border-blue-600 bg-blue-50 text-blue-900":"border-gray-200 hover:border-blue-300 text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${u[c]===z?"border-blue-600 bg-blue-600":"border-gray-300"}`,children:u[c]===z&&r.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})}),r.jsx("span",{className:"font-semibold",children:L})]})},z))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:N,disabled:c===0,className:`px-6 py-3 rounded-xl font-semibold transition ${c===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50 border-2"}`,children:"Previous"}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Answered: ",D,"/",a.length]})}),c<a.length-1?r.jsx("button",{onClick:S,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",children:"Next"}):r.jsxs("button",{onClick:v,disabled:f,className:`px-6 py-3 rounded-xl font-semibold transition flex items-center gap-2 ${f?"bg-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:[r.jsx(Fy,{className:"w-5 h-5"}),f?"Submitting...":"Submit Quiz"]})]})]})})},pC=()=>{const t=Ce(),[e]=I.useState({score:8,totalQuestions:10,timeTaken:95e3,rank:3,totalStudents:15,correctAnswers:[1,2,4,5,6,7,9,10],incorrectAnswers:[3,8]}),s=o=>{const c=Math.floor(o/1e3),d=Math.floor(c/60),u=c%60;return`${d}:${String(u).padStart(2,"0")}`},n=Math.round(e.score/e.totalQuestions*100),i=e.score===e.totalQuestions,a=n>=70;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsx(zt,{}),r.jsxs("div",{className:`rounded-2xl shadow-2xl p-8 mb-6 text-white relative overflow-hidden ${i?"bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500":a?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-gray-600 to-gray-700"}`,children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -mr-32 -mt-32"}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:i?"":a?"":""}),r.jsx("h1",{className:"text-4xl font-bold mb-2",children:i?"Perfect Score!":a?"Great Job!":"Keep Practicing!"}),r.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Quiz Complete"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[r.jsxs("div",{className:"text-3xl font-bold",children:[e.score,"/",e.totalQuestions]}),r.jsx("div",{className:"text-sm opacity-80",children:"Score"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("div",{className:"text-3xl font-bold",children:s(e.timeTaken)}),r.jsx("div",{className:"text-sm opacity-80",children:"Time"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[r.jsxs("div",{className:"text-3xl font-bold",children:["#",e.rank]}),r.jsx("div",{className:"text-sm opacity-80",children:"Rank"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Performance Breakdown"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"border-2 border-green-200 rounded-xl p-4 bg-green-50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(cs,{className:"w-6 h-6 text-green-600"}),r.jsx("span",{className:"font-semibold text-gray-800",children:"Correct"})]}),r.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.correctAnswers.length})]}),r.jsxs("div",{className:"border-2 border-red-200 rounded-xl p-4 bg-red-50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Uh,{className:"w-6 h-6 text-red-600"}),r.jsx("span",{className:"font-semibold text-gray-800",children:"Incorrect"})]}),r.jsx("div",{className:"text-3xl font-bold text-red-600",children:e.incorrectAnswers.length})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Accuracy"}),r.jsxs("span",{className:"font-bold",children:[n,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:r.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${i?"bg-yellow-500":a?"bg-green-500":"bg-red-500"}`,style:{width:`${n}%`}})})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Question Review"}),r.jsx("div",{className:"grid grid-cols-10 gap-2",children:[...Array(e.totalQuestions)].map((o,c)=>{const d=c+1,u=e.correctAnswers.includes(d);return r.jsx("div",{className:`aspect-square rounded-lg flex items-center justify-center font-bold text-sm ${u?"bg-green-100 text-green-700 border-2 border-green-500":"bg-red-100 text-red-700 border-2 border-red-500"}`,children:d},c)})})]}),r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl shadow-lg p-6 text-white mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Your Ranking"}),r.jsxs("p",{className:"opacity-90",children:["Out of ",e.totalStudents," students"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-5xl font-bold mb-1",children:["#",e.rank]}),r.jsx(fa,{className:"w-8 h-8 mx-auto"})]})]})}),r.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"What's Next?"}),r.jsxs("ul",{className:"space-y-2 text-blue-800",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-1",children:""}),r.jsx("span",{children:"Review incorrect answers with your teacher"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-1",children:""}),r.jsx("span",{children:"Practice similar questions to improve"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-1",children:""}),r.jsx("span",{children:"Check the leaderboard to see top performers"})]})]})]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsxs("button",{onClick:()=>t("/student/dashboard"),className:"flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition font-semibold",children:[r.jsx(ne,{className:"w-5 h-5"}),"Back to Dashboard"]})})]})})},gC=({quizTitle:t,questionCount:e,onStart:s,onClose:n})=>{const[i,a]=I.useState(""),[o,c]=I.useState(120),d=[{id:"8-A",name:"Class 8-A",studentCount:30},{id:"8-B",name:"Class 8-B",studentCount:28},{id:"9-A",name:"Class 9-A",studentCount:32},{id:"10-A",name:"Class 10-A",studentCount:25}],u=()=>{if(!i)return;const h=d.find(f=>f.id===i);h&&s({classId:i,className:h.name,duration:o})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 text-white p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[r.jsx(ul,{className:"w-6 h-6"}),"Start Live Quiz Session"]}),r.jsx("button",{onClick:n,className:"text-white hover:bg-white/20 rounded-lg p-2 transition",children:r.jsx(Kn,{className:"w-6 h-6"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsx("h3",{className:"font-bold text-gray-800",children:t}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:["Questions: ",e]}),r.jsx("p",{children:"Randomization: Enabled "})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(Ot,{className:"w-4 h-4"}),"Select Class"]}),r.jsxs("select",{value:i,onChange:h=>a(h.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none transition",children:[r.jsx("option",{value:"",children:"Choose a class..."}),d.map(h=>r.jsxs("option",{value:h.id,children:[h.name," (",h.studentCount," students)"]},h.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(Gn,{className:"w-4 h-4"}),"Quiz Duration"]}),r.jsxs("select",{value:o,onChange:h=>c(Number(h.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:outline-none transition",children:[r.jsx("option",{value:60,children:"1 minute (Quick)"}),r.jsx("option",{value:120,children:"2 minutes (Standard)"}),r.jsx("option",{value:180,children:"3 minutes (Extended)"}),r.jsx("option",{value:300,children:"5 minutes (Long)"})]})]}),r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Note:"})," Once started, all students in the selected class will see the quiz alert immediately. The quiz will auto-end after the selected duration."]})})]}),r.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[r.jsx("button",{onClick:n,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Cancel"}),r.jsxs("button",{onClick:u,disabled:!i,className:`flex-1 px-6 py-3 rounded-lg font-semibold transition flex items-center justify-center gap-2 ${i?"bg-gradient-to-r from-red-600 to-orange-600 text-white hover:from-red-700 hover:to-orange-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[r.jsx(ul,{className:"w-5 h-5"}),"Start Quiz"]})]})]})})},xC=()=>{const t=Ce(),e=JSON.parse(localStorage.getItem("user")||"{}"),s=V.teachers.find(u=>u.email===e.email)||V.teachers[0],n=V.courses.filter(u=>u.teacher_id===s.id),i=n.flatMap(u=>V.enrollments.filter(f=>f.course_id===u.id).map(f=>({...V.students.find(w=>w.id===f.student_id),...f,courseName:u.title}))),a=i.filter(u=>u.progress<70),[o,c]=I.useState(!1),d=async u=>{try{const h=await E4({quizId:"demo-quiz",quizTitle:"Live Quiz Demo",classId:u.classId,className:u.className,teacherId:s.id.toString(),teacherName:s.name,duration:u.duration,questionCount:10});c(!1),t(`/teacher/live-quiz/${h}/control`)}catch(h){console.error("Error starting live quiz:",h),alert("Failed to start quiz. Please try again.")}};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4 sm:mb-6",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Teacher Dashboard"}),r.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Welcome back, ",s.name]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx($,{to:"/teacher/courses",className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"My Courses"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mt-1 sm:mt-2",children:s.courses})]}),r.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/teacher/students",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:[...new Set(i.map(u=>u.id))].length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length," total enrollments"]})]}),r.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:r.jsx(Ot,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/teacher/performance",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Completion"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:[s.completion_avg,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click for breakdown "})]}),r.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:r.jsx(ut,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/teacher/credits",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Wallet Balance"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:s.credits}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click for details "})]}),r.jsx("div",{className:"bg-yellow-500 p-3 rounded-lg",children:r.jsx(ga,{className:"w-6 h-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-500 via-orange-500 to-yellow-500 rounded-2xl shadow-2xl p-8 mb-8 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -mr-32 -mt-32"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-10 rounded-full -ml-24 -mb-24"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),r.jsx("h2",{className:"text-3xl font-bold",children:" LIVE QUIZ"}),r.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm font-semibold backdrop-blur-sm",children:"NEW"})]}),r.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Launch timed quizzes instantly with your students. Randomized questions, real-time leaderboard, and instant feedback!"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold mb-1",children:"2 min"}),r.jsx("div",{className:"text-sm opacity-80",children:"Timed Sessions"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold mb-1",children:"100%"}),r.jsx("div",{className:"text-sm opacity-80",children:"Randomized"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[r.jsx("div",{className:"text-2xl font-bold mb-1",children:"Live"}),r.jsx("div",{className:"text-sm opacity-80",children:"Leaderboard"})]})]}),r.jsxs("button",{onClick:()=>c(!0),className:"bg-white text-red-600 px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl transition transform hover:scale-105 flex items-center gap-3",children:[r.jsx(ul,{className:"w-6 h-6"}),"Start Live Quiz Session"]})]})]}),a.length>0&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 sm:p-6 mb-6 sm:mb-8",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Iy,{className:"w-6 h-6 text-red-600 mr-3 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"text-base sm:text-lg font-bold text-red-800 mb-2",children:[a.length," At-Risk Student",a.length>1?"s":""]}),r.jsx("p",{className:"text-sm text-red-700 mb-3",children:"These students have completion rates below 70% and may need additional support."}),r.jsx("div",{className:"space-y-2",children:a.slice(0,3).map(u=>r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:u.name}),r.jsx("p",{className:"text-xs text-gray-600",children:u.courseName})]}),r.jsxs("span",{className:"text-red-600 font-bold",children:[u.progress,"%"]})]},u.id))})]})]})}),o&&r.jsx(gC,{quizTitle:"Live Quiz Demo",questionCount:10,onStart:d,onClose:()=>c(!1)}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border mb-6 sm:mb-8",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:"My Courses"}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:n.map(u=>{const h=V.enrollments.filter(f=>f.course_id===u.id);return r.jsxs("div",{onClick:()=>t(`/teacher/course/${u.id}`),className:"p-4 border rounded-lg hover:shadow-md cursor-pointer transition",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:u.title}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[u.subject,"  ",u.level]}),r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsxs("span",{className:"text-gray-600",children:[h.length," students"]}),r.jsxs("span",{className:"font-semibold text-green-600",children:[u.completion_avg,"% avg completion"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${u.completion_avg}%`}})})]},u.id)})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Student Progress Overview"}),r.jsx("div",{className:"hidden sm:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Student"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Course"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Last Active"})]})}),r.jsx("tbody",{children:i.slice(0,10).map(u=>r.jsxs("tr",{onClick:()=>t(`/teacher/student/${u.id}`),className:"border-b hover:bg-gray-50 cursor-pointer",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:u.name}),r.jsx("p",{className:"text-xs text-gray-500",children:u.class})]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:u.courseName}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-2",children:r.jsx("div",{className:`h-2 rounded-full ${u.progress>=70?"bg-green-600":"bg-red-600"}`,style:{width:`${u.progress}%`}})}),r.jsxs("span",{className:"text-sm font-semibold",children:[u.progress,"%"]})]})}),r.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-600",children:u.last_active})]},`${u.id}-${u.course_id}`))})]})}),r.jsx("div",{className:"sm:hidden space-y-3",children:i.slice(0,10).map(u=>r.jsxs("div",{onClick:()=>t(`/teacher/student/${u.id}`),className:"bg-gray-50 p-4 rounded-lg border hover:bg-gray-100 active:bg-gray-200 transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:u.name}),r.jsx("p",{className:"text-xs text-gray-500",children:u.class})]}),r.jsxs("span",{className:`text-sm font-semibold ${u.progress>=70?"text-green-600":"text-red-600"}`,children:[u.progress,"%"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.courseName}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${u.progress>=70?"bg-green-600":"bg-red-600"}`,style:{width:`${u.progress}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last active: ",u.last_active]})]},`${u.id}-${u.course_id}`))})]})]})},yC=()=>{const t=Ce(),e=JSON.parse(localStorage.getItem("user")||"{}"),s=V.teachers.find(i=>i.email===e.email)||V.teachers[0],n=V.courses.filter(i=>i.teacher_id===s.id);return r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"My Teaching Assignments"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(i=>{const a=V.enrollments.filter(c=>c.course_id===i.id),o=V.modules.filter(c=>c.course_id===i.id);return r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:r.jsxs("div",{onClick:()=>t(`/teacher/course/${i.id}`),className:"cursor-pointer hover:bg-gray-50 -m-6 p-6 rounded-xl transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:i.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[i.subject,"  ",i.level]})]}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i.traffic==="High"?"bg-orange-100 text-orange-700":i.traffic==="Medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:[i.traffic," Traffic"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Students"})]}),r.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[i.completion_avg,"%"]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Completion"})]}),r.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Modules"})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Modules"}),r.jsx("div",{className:"space-y-2",children:o.map(c=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"text-gray-700",children:[c.order,". ",c.title]}),r.jsxs("span",{className:"text-green-600 font-semibold",children:[c.completion_rate,"%"]})]},c.id))})]})]})},i.id)})})]})},vC=()=>{const{courseId:t}=Ft(),e=V.courses.find(a=>a.id===Number(t)),s=V.modules.filter(a=>a.course_id===Number(t)),n=V.enrollments.filter(a=>a.course_id===Number(t)),i=n.map(a=>({...V.students.find(c=>c.id===a.student_id),...a}));return e?r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Courses"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.title}),r.jsxs("p",{className:"text-gray-600 mb-6",children:[e.subject,"  ",e.level]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enrolled"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.completion_avg,"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Completion"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Modules"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.traffic}),r.jsx("p",{className:"text-sm text-gray-600",children:"Traffic"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Course Modules"}),r.jsx("div",{className:"space-y-3",children:s.map(a=>r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{children:r.jsxs("p",{className:"font-semibold text-gray-800",children:[a.order,". ",a.title]})}),r.jsxs("span",{className:"text-green-600 font-semibold",children:[a.completion_rate,"% complete"]})]},a.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enrolled Students"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Student"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Modules"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Last Active"})]})}),r.jsx("tbody",{children:i.map(a=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:a.name}),r.jsx("p",{className:"text-xs text-gray-500",children:a.class})]}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${a.progress>=70?"bg-green-500":"bg-red-500"}`,style:{width:`${a.progress}%`}})}),r.jsxs("span",{className:"text-sm font-semibold",children:[a.progress,"%"]})]})}),r.jsxs("td",{className:"py-3 px-4 text-center text-sm",children:[a.modules_completed,"/",a.total_modules]}),r.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-600",children:a.last_active})]},a.id))})]})]})]}):r.jsx("div",{children:"Course not found"})},bC=()=>{const{studentId:t}=Ft(),e=V.students.find(i=>i.id===Number(t)),n=V.enrollments.filter(i=>i.student_id===Number(t)).map(i=>({...V.courses.find(o=>o.id===i.course_id),...i}));return e?r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.name}),r.jsxs("p",{className:"text-gray-600 mb-6",children:[e.class,"  ",e.email]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[e.completion,"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Completion"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.quiz_avg,"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Quiz Average"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.badges}),r.jsx("p",{className:"text-sm text-gray-600",children:"Badges"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.credits}),r.jsx("p",{className:"text-sm text-gray-600",children:"Credits"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enrolled Courses"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Course"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Modules"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Last Active"})]})}),r.jsx("tbody",{children:n.map(i=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:i.title}),r.jsx("p",{className:"text-xs text-gray-500",children:i.subject})]}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${i.progress>=70?"bg-green-500":"bg-red-500"}`,style:{width:`${i.progress}%`}})}),r.jsxs("span",{className:"text-sm font-semibold",children:[i.progress,"%"]})]})}),r.jsxs("td",{className:"py-3 px-4 text-center text-sm",children:[i.modules_completed,"/",i.total_modules]}),r.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-600",children:i.last_active})]},i.id))})]})]})]}):r.jsx("div",{children:"Student not found"})},wC=()=>{const t=JSON.parse(localStorage.getItem("user")||"{}"),e=V.teachers.find(S=>S.email===t.email)||V.teachers[0],s=V.courses.filter(S=>S.teacher_id===e.id),[n,i]=I.useState(""),[a,o]=I.useState(""),[c,d]=I.useState(""),[u,h]=I.useState(null),[f,g]=I.useState(!1),w=S=>{S.target.files&&S.target.files[0]&&h(S.target.files[0])},A=S=>{if(S.preventDefault(),!n||!a||!c){alert("Please fill in all fields");return}const N={id:Date.now(),courseId:n,title:a,description:c,fileName:(u==null?void 0:u.name)||"No file",status:"Pending",submittedAt:new Date().toISOString(),teacherId:e.id},v=JSON.parse(localStorage.getItem("teacherEvidence")||"[]");v.push(N),localStorage.setItem("teacherEvidence",JSON.stringify(v)),g(!0),i(""),o(""),d(""),h(null),setTimeout(()=>g(!1),3e3)};return r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Evidence Submission"}),f&&r.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-fade-in z-50",children:[r.jsx(hu,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Evidence submitted successfully!"}),r.jsx("p",{className:"text-sm opacity-90",children:"(Demo Mode)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Submit New Evidence"}),r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Course"}),r.jsxs("select",{value:n,onChange:S=>i(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Choose a course..."}),s.map(S=>r.jsx("option",{value:S.id,children:S.title},S.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evidence Title"}),r.jsx("input",{type:"text",value:a,onChange:S=>o(S.target.value),placeholder:"e.g., Module 1 Teaching Session",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{rows:4,value:c,onChange:S=>d(S.target.value),placeholder:"Describe your evidence...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Files"}),r.jsxs("label",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition cursor-pointer block",children:[r.jsx("input",{type:"file",onChange:w,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",className:"hidden"}),r.jsx(vj,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),u?r.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:u.name}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG up to 10MB"})]})]})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Submit Evidence"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Previously Submitted"}),r.jsx("div",{className:"space-y-3",children:(()=>{const S=JSON.parse(localStorage.getItem("teacherEvidence")||"[]");return S.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No evidence submitted yet"}):S.map(N=>r.jsxs("div",{className:`p-4 border rounded-lg ${N.status==="Approved"?"bg-green-50 border-green-200":N.status==="Rejected"?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:N.title}),r.jsx("span",{className:`px-2 py-1 text-white text-xs rounded-full ${N.status==="Approved"?"bg-green-500":N.status==="Rejected"?"bg-red-500":"bg-yellow-500"}`,children:N.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:N.description}),r.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[r.jsxs("span",{children:[" ",N.fileName]}),r.jsxs("span",{children:[" ",new Date(N.submittedAt).toLocaleDateString()]})]})]},N.id))})()})]})]})]})},NC=()=>r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx(dc,{role:"teacher"})]}),jC=()=>{const t=Ce(),e=JSON.parse(localStorage.getItem("user")||"{}"),s=V.teachers.find(d=>d.email===e.email)||V.teachers[0],i=V.courses.filter(d=>d.teacher_id===s.id).map(d=>d.id),a=V.enrollments.filter(d=>i.includes(d.course_id)),o=[...new Set(a.map(d=>d.student_id))],c=V.students.filter(d=>o.includes(d.id));return r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-3 sm:mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-6",children:"All My Students"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border",children:[r.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:r.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:["Total Students: ",c.length]})}),r.jsx("div",{className:"hidden sm:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Student Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Email"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Courses Enrolled"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Avg Completion"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Last Active"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Action"})]})}),r.jsx("tbody",{children:c.map(d=>{var g;const u=a.filter(w=>w.student_id===d.id),h=Math.round(u.reduce((w,A)=>w+A.progress,0)/u.length),f=((g=u.sort((w,A)=>new Date(A.last_active).getTime()-new Date(w.last_active).getTime())[0])==null?void 0:g.last_active)||"N/A";return r.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",onClick:()=>t(`/teacher/student/${d.id}`),children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pa,{className:"w-5 h-5 mr-2 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-800",children:d.name})]})}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:d.email}),r.jsxs("td",{className:"py-3 px-4 text-gray-600",children:[u.length," course(s)"]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`font-semibold ${h>=85?"text-green-600":h>=70?"text-yellow-600":"text-red-600"}`,children:[h,"%"]})}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:f}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-semibold",children:"View Details "})})]},d.id)})})]})}),r.jsx("div",{className:"sm:hidden space-y-3",children:c.map(d=>{var g;const u=a.filter(w=>w.student_id===d.id),h=Math.round(u.reduce((w,A)=>w+A.progress,0)/u.length),f=((g=u.sort((w,A)=>new Date(A.last_active).getTime()-new Date(w.last_active).getTime())[0])==null?void 0:g.last_active)||"N/A";return r.jsxs("div",{onClick:()=>t(`/teacher/student/${d.id}`),className:"bg-gray-50 p-4 rounded-lg border hover:bg-gray-100 active:bg-gray-200 transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(pa,{className:"w-5 h-5 mr-2 text-gray-400"}),r.jsx("p",{className:"font-semibold text-gray-800",children:d.name})]}),r.jsxs("span",{className:`text-sm font-semibold ${h>=85?"text-green-600":h>=70?"text-yellow-600":"text-red-600"}`,children:[h,"%"]})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:d.email}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[u.length," course(s) enrolled"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Last active: ",f]})]},d.id)})})]})]})},_C=()=>{const t=JSON.parse(localStorage.getItem("user")||"{}"),e=V.teachers.find(a=>a.email===t.email)||V.teachers[0],n=V.courses.filter(a=>a.teacher_id===e.id).map(a=>{const o=V.enrollments.filter(d=>d.course_id===a.id),c=o.length>0?Math.round(o.reduce((d,u)=>d+u.progress,0)/o.length):0;return{...a,enrollments:o.length,avgCompletion:c,highPerformers:o.filter(d=>d.progress>=85).length,needsAttention:o.filter(d=>d.progress<70).length}}),i=Math.round(n.reduce((a,o)=>a+o.avgCompletion,0)/n.length);return r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Class Performance Breakdown"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Overall Average Completion: ",r.jsxs("span",{className:"font-bold text-2xl text-blue-600",children:[i,"%"]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(a=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:a.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[a.subject,"  ",a.level]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[a.avgCompletion,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Completion"})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Students:"}),r.jsx("span",{className:"font-semibold text-gray-800",children:a.enrollments})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 flex items-center",children:[r.jsx(Ct,{className:"w-4 h-4 mr-1 text-green-500"}),"High Performers (85%):"]}),r.jsx("span",{className:"font-semibold text-green-600",children:a.highPerformers})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 flex items-center",children:[r.jsx(ut,{className:"w-4 h-4 mr-1 text-yellow-500"}),"Needs Attention (<70%):"]}),r.jsx("span",{className:"font-semibold text-red-600",children:a.needsAttention})]})]}),r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[r.jsx("span",{className:"text-gray-500",children:"Progress"}),r.jsxs("span",{className:"text-gray-500",children:[a.avgCompletion,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:`h-3 rounded-full transition-all ${a.avgCompletion>=85?"bg-green-500":a.avgCompletion>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a.avgCompletion}%`}})})]}),r.jsx($,{to:`/teacher/course/${a.id}`,className:"block text-center mt-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:"View Course Details"})]},a.id))})]})},EC=()=>{var u,h;const t=JSON.parse(localStorage.getItem("user")||"{}"),e=V.teachers.find(f=>f.email===t.email)||V.teachers[0],n=V.courses.filter(f=>f.teacher_id===e.id).map(f=>f.id),i=V.enrollments.filter(f=>n.includes(f.course_id)),a=[...new Set(i.map(f=>f.student_id))],o=V.students.filter(f=>a.includes(f.id)),c=o.map(f=>{const g=i.filter(S=>S.student_id===f.id),w=g.length>0?Math.round(g.reduce((S,N)=>S+N.progress,0)/g.length):0,A=Math.floor(w*1.5)+f.badges*20;return{...f,credits:A,badges:f.badges}}).sort((f,g)=>g.credits-f.credits),d=c.reduce((f,g)=>f+g.credits,0);return r.jsxs("div",{children:[r.jsxs($,{to:"/teacher/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Student Credits Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Total Credits Distributed"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:d.toLocaleString()})]}),r.jsx(Hp,{className:"w-16 h-16 opacity-50"})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Top Performer"}),r.jsx("p",{className:"text-2xl font-bold mt-2",children:(u=c[0])==null?void 0:u.name.split(" ")[0]}),r.jsxs("p",{className:"text-sm mt-1",children:[(h=c[0])==null?void 0:h.credits," credits"]})]}),r.jsx(Ct,{className:"w-16 h-16 opacity-50"})]})}),r.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Average per Student"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:Math.round(d/o.length)})]}),r.jsx(ut,{className:"w-16 h-16 opacity-50"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Credits by Student"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Student Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Email"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Credits"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Badges"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:c.map((f,g)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${g===0?"bg-yellow-100 text-yellow-700":g===1?"bg-gray-100 text-gray-700":g===2?"bg-orange-100 text-orange-700":"bg-blue-50 text-blue-600"}`,children:g+1})}),r.jsx("td",{className:"py-3 px-4 font-medium text-gray-800",children:f.name}),r.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:f.email}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("span",{className:"font-bold text-yellow-600 flex items-center justify-end",children:[r.jsx(Hp,{className:"w-4 h-4 mr-1"}),f.credits]})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsx("span",{className:"font-semibold text-gray-700",children:f.badges})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f.credits>=100?"bg-green-100 text-green-700":f.credits>=50?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:f.credits>=100?"Excellent":f.credits>=50?"Good":"Developing"})})]},f.id))})]})})]})]})},SC=()=>{const{sessionId:t}=Ft(),e=Ce(),[s]=I.useState({id:t,quizId:"quadratic-equations",quizTitle:"Quadratic Equations Quiz",classId:"8-A",className:"Class 8-A",teacherId:"teacher-001",teacherName:"Mr. Sharma",startTime:{toDate:()=>new Date},endTime:{toDate:()=>new Date(Date.now()+12e4)},duration:120,sessionSeed:"abc123",status:"active",questionCount:10,totalStudents:30,submittedCount:0}),[n,i]=I.useState(0),[a,o]=I.useState(0);I.useEffect(()=>{const h=setInterval(()=>{o(g=>Math.min(g+Math.floor(Math.random()*3),s.totalStudents||30))},2e3),f=setInterval(()=>{i(g=>g>=a?g:Math.min(g+1,a))},5e3);return()=>{clearInterval(h),clearInterval(f)}},[a,s.totalStudents]);const c=async()=>{if(t&&window.confirm("Are you sure you want to end the quiz early? Students who haven't submitted will be automatically submitted."))try{await T4(t),e(`/teacher/live-quiz/${t}/results`)}catch(h){console.error("Error ending quiz:",h),alert("Failed to end quiz. Please try again.")}},d=()=>{e(`/teacher/live-quiz/${t}/results`)},u=s.totalStudents?Math.round(n/s.totalStudents*100):0;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsx(zt,{}),r.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-2xl p-8 mb-6 shadow-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-4 h-4 bg-white rounded-full animate-pulse"}),r.jsx("h1",{className:"text-3xl font-bold",children:"LIVE QUIZ IN PROGRESS"})]}),r.jsx("p",{className:"text-xl opacity-90",children:s.quizTitle}),r.jsx("p",{className:"text-lg opacity-75",children:s.className})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-gray-600 font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5"}),"Time Remaining"]}),r.jsx(Lb,{endTime:s.endTime.toDate(),onTimeUp:d})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-gray-600 font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Ot,{className:"w-5 h-5"}),"Connected Students"]}),r.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:[a," / ",s.totalStudents]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-500",style:{width:`${a/(s.totalStudents||1)*100}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-gray-600 font-semibold mb-4 flex items-center gap-2",children:[r.jsx(cs,{className:"w-5 h-5"}),"Submitted"]}),r.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[n," / ",a]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${u}%`}})})]})]}),a<(s.totalStudents||0)&&r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-400 rounded-xl p-6 mt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tj,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-yellow-800 mb-2",children:[(s.totalStudents||0)-a," student(s) not connected yet"]}),r.jsx("p",{className:"text-yellow-700 text-sm",children:"Students may be having connectivity issues or haven't joined the quiz yet."})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Live Activity"}),r.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[[...Array(Math.min(5,n))].map((h,f)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(cs,{className:"w-5 h-5 text-green-600"}),r.jsxs("span",{className:"text-gray-800",children:["Student ",n-f," submitted their answers"]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[Math.floor(Math.random()*60)," seconds ago"]})]},f)),n===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"Waiting for students to submit..."})]})]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsxs("button",{onClick:c,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-8 py-4 rounded-xl font-semibold hover:from-gray-700 hover:to-gray-800 transition flex items-center gap-3 shadow-lg",children:[r.jsx(xj,{className:"w-6 h-6"}),"End Quiz Early"]})})]})})},CC=()=>{const{sessionId:t}=Ft(),e=Ce(),[s,n]=I.useState("leaderboard"),[i,a]=I.useState([]),o=[{id:"1",sessionId:t||"",studentId:"1",studentName:"Aisha Khan",score:10,timeTakenMs:75e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"2",sessionId:t||"",studentId:"2",studentName:"Vikram Joshi",score:10,timeTakenMs:102e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"3",sessionId:t||"",studentId:"3",studentName:"Rahul Patel",score:9,timeTakenMs:9e4,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"4",sessionId:t||"",studentId:"4",studentName:"Divya Menon",score:9,timeTakenMs:115e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"5",sessionId:t||"",studentId:"5",studentName:"Karthik Balan",score:8,timeTakenMs:8e4,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"6",sessionId:t||"",studentId:"6",studentName:"Priya Sharma",score:8,timeTakenMs:95e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"7",sessionId:t||"",studentId:"7",studentName:"Rohan Kumar",score:7,timeTakenMs:11e4,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"8",sessionId:t||"",studentId:"8",studentName:"Sneha Reddy",score:7,timeTakenMs:105e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"9",sessionId:t||"",studentId:"9",studentName:"Arjun Nair",score:6,timeTakenMs:118e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]},{id:"10",sessionId:t||"",studentId:"10",studentName:"Meera Iyer",score:6,timeTakenMs:112e3,submitTime:{},isLate:!1,answers:[],questionOrder:[],optionOrders:[]}],c=[{questionId:7,text:"What is the discriminant of the quadratic equation?",wrongCount:18,totalAttempts:28,correctRate:36},{questionId:3,text:"Solve by completing the square: x + 6x + 8 = 0",wrongCount:15,totalAttempts:28,correctRate:46},{questionId:9,text:"Word problem: A garden has perimeter 50m...",wrongCount:12,totalAttempts:28,correctRate:57}];I.useEffect(()=>{a(o)},[t]);const d=h=>{const f=Math.floor(h/1e3),g=Math.floor(f/60),w=f%60;return`${g}:${String(w).padStart(2,"0")}`},u=()=>{alert("Export functionality will download CSV with all results")};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsx(zt,{}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-2xl p-8 mb-6 shadow-xl",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Quiz Results"}),r.jsx("p",{className:"text-xl opacity-90",children:"Quadratic Equations Quiz - Class 8-A"}),r.jsxs("p",{className:"text-lg opacity-75",children:["Completed  ",i.length," students participated"]})]}),r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsxs("button",{onClick:()=>n("leaderboard"),className:`flex-1 py-4 px-6 rounded-xl font-semibold transition flex items-center justify-center gap-2 ${s==="leaderboard"?"bg-white text-blue-600 shadow-lg":"bg-white/50 text-gray-600 hover:bg-white"}`,children:[r.jsx(fa,{className:"w-5 h-5"}),"Leaderboard"]}),r.jsxs("button",{onClick:()=>n("analysis"),className:`flex-1 py-4 px-6 rounded-xl font-semibold transition flex items-center justify-center gap-2 ${s==="analysis"?"bg-white text-blue-600 shadow-lg":"bg-white/50 text-gray-600 hover:bg-white"}`,children:[r.jsx(yj,{className:"w-5 h-5"}),"Item Analysis"]})]}),s==="leaderboard"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" Top Performers"}),r.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[r.jsx(Py,{className:"w-5 h-5"}),"Export CSV"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Rank"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Student"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Score"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Time Taken"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((h,f)=>r.jsxs("tr",{className:`hover:bg-gray-50 transition ${f<3?"bg-yellow-50":""}`,children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-2xl font-bold ${f===0?"text-yellow-500":f===1?"text-gray-400":f===2?"text-orange-600":"text-gray-300"}`,children:f+1}),f<3&&r.jsx(fa,{className:`w-5 h-5 ${f===0?"text-yellow-500":f===1?"text-gray-400":"text-orange-600"}`})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"font-semibold text-gray-800",children:h.studentName})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[h.score,"/10"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-gray-600",children:d(h.timeTakenMs)})}),r.jsx("td",{className:"px-6 py-4",children:h.isLate?r.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:"Late"}):r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:"On Time"})})]},h.id))})]})})]}),s==="analysis"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" Weakest Questions (Class Needs Review)"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"These questions had the highest error rate. Consider reviewing these topics with the whole class."}),r.jsx("div",{className:"space-y-4",children:c.map(h=>r.jsx("div",{className:"border-2 border-red-200 rounded-xl p-6 hover:shadow-lg transition",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:r.jsxs("span",{className:"text-xl font-bold text-red-600",children:["Q",h.questionId]})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:h.text}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Wrong: "}),r.jsxs("span",{className:"text-lg font-bold text-red-600",children:[h.wrongCount,"/",h.totalAttempts]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Correct Rate: "}),r.jsxs("span",{className:`text-lg font-bold ${h.correctRate<50?"text-red-600":"text-orange-600"}`,children:[h.correctRate,"%"]})]})]}),r.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:`h-3 rounded-full ${h.correctRate<50?"bg-red-500":"bg-orange-500"}`,style:{width:`${h.correctRate}%`}})})]}),r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:"Review with Class"})]})},h.questionId))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-gray-600 font-semibold mb-2",children:"Average Score"}),r.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[(i.reduce((h,f)=>h+f.score,0)/i.length).toFixed(1),"/10"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-gray-600 font-semibold mb-2",children:"Average Time"}),r.jsx("p",{className:"text-4xl font-bold text-green-600",children:d(i.reduce((h,f)=>h+f.timeTakenMs,0)/i.length)})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-gray-600 font-semibold mb-2",children:"Perfect Scores"}),r.jsx("p",{className:"text-4xl font-bold text-purple-600",children:i.filter(h=>h.score===10).length})]})]})]}),r.jsx("div",{className:"mt-8 flex justify-center",children:r.jsxs("button",{onClick:()=>e("/teacher/quizzes"),className:"flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition font-semibold",children:[r.jsx(ne,{className:"w-5 h-5"}),"Back to Quizzes"]})})]})})},TC=()=>{var S;const t=Ce(),s=(S=JSON.parse(localStorage.getItem("user")||"{}").email)!=null&&S.includes("college")?2:1,n=V.schools.find(N=>N.id===s),i=V.students.filter(N=>N.school_id===s),a=V.teachers.filter(N=>N.school_id===s),o=V.courses.filter(N=>N.school_id===s),c=i.length,d=a.length,u=o.length,h=Math.round(i.reduce((N,v)=>N+v.completion,0)/c),f=I4(5).filter(N=>N.school_id===s),g=P4(5).filter(N=>N.type==="Student"?i.some(v=>v.id===N.id):a.some(v=>v.id===N.id)),w=R4().filter(N=>N.school_id===s),A=V.completionByGrade.filter(N=>s===1?N.grade.includes("10")||N.grade.includes("12"):N.grade.includes("CS"));return r.jsxs("div",{children:[r.jsxs("div",{onClick:()=>t(`/principal/school/${s}`),className:"mb-4 sm:mb-6 cursor-pointer hover:bg-gray-50 p-3 sm:p-4 rounded-lg transition -m-3 sm:-m-4",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:n==null?void 0:n.name}),r.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Principal Dashboard - ",n==null?void 0:n.location,"  Click for details "]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx("div",{onClick:()=>{t("/principal/students"),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border hover:shadow-md cursor-pointer transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mt-1 sm:mt-2",children:c})]}),r.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:r.jsx(Ot,{className:"w-6 h-6 text-white"})})]})}),r.jsx("div",{onClick:()=>{t("/principal/teachers"),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md cursor-pointer transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Teachers"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:d})]}),r.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:r.jsx(Ry,{className:"w-6 h-6 text-white"})})]})}),r.jsx("div",{onClick:()=>{t("/principal/courses"),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md cursor-pointer transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Courses"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:u})]}),r.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-white"})})]})}),r.jsx("div",{onClick:()=>{t("/principal/system-stats"),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md cursor-pointer transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"System Stats"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:[h,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Completion"})]}),r.jsx("div",{className:"bg-orange-500 p-3 rounded-lg",children:r.jsx(Fh,{className:"w-6 h-6 text-white"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{onClick:()=>{t("/principal/class-analytics"),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md cursor-pointer transition",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Completion by Class"}),r.jsx(Pn,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click for detailed analytics "}),r.jsx("div",{className:"space-y-3",children:A.map(N=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-700 font-medium",children:N.grade}),r.jsxs("span",{className:"text-gray-600",children:[N.completion,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full",style:{width:`${N.completion}%`}})})]},N.grade))})]}),r.jsxs("div",{onClick:()=>{t("/principal/courses"),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border hover:shadow-md cursor-pointer transition",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Weekly Active Students"}),r.jsx(Pn,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click for activity breakdown "}),r.jsx("div",{className:"space-y-3",children:V.weeklyActivity.slice(0,4).map((N,v)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-20 text-sm font-medium text-gray-600",children:N.week}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"bg-gray-200 rounded-full h-6",children:r.jsx("div",{className:"bg-green-500 h-6 rounded-full flex items-center justify-end pr-2",style:{width:`${N.students/60*100}%`},children:r.jsx("span",{className:"text-xs font-bold text-white",children:N.students})})})})]},v))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top 5 Performing Students"}),r.jsx("div",{className:"space-y-3",children:f.map((N,v)=>r.jsxs("div",{onClick:()=>{t(`/principal/student/${N.id}`),window.scrollTo(0,0)},className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 ${v===0?"bg-yellow-500":v===1?"bg-gray-400":v===2?"bg-orange-600":"bg-blue-100"}`,children:r.jsx("span",{className:`text-sm font-bold ${v<3?"text-white":"text-blue-600"}`,children:v+1})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:N.name}),r.jsx("p",{className:"text-xs text-gray-500",children:N.class})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-lg font-bold text-green-600 mr-2",children:[N.completion,"%"]}),r.jsx(Pn,{className:"w-4 h-4 text-gray-400"})]})]},N.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Top 5 Badge Holders"}),r.jsx("div",{className:"space-y-3",children:g.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mr-3",children:r.jsx(Ct,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:N.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[N.type,"  ",N.class||N.department]})]})]}),r.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[N.badges," "]})]},`${N.type}-${N.id}`))})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"High Traffic Courses"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.map(N=>r.jsxs("div",{onClick:()=>{t(`/principal/course/${N.id}`),window.scrollTo(0,0)},className:"p-4 border border-orange-200 bg-orange-50 rounded-lg hover:shadow-md cursor-pointer transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-bold text-gray-800",children:N.title}),r.jsx("span",{className:"px-2 py-1 bg-orange-500 text-white text-xs rounded-full",children:"High"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:N.subject}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:[N.enrollments," enrolled"]}),r.jsxs("span",{className:"font-semibold text-orange-600",children:[N.active_users," active"]})]})]},N.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"All Courses"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Course"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Subject"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Enrollments"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Completion"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Action"})]})}),r.jsx("tbody",{children:o.map(N=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:N.title}),r.jsx("p",{className:"text-xs text-gray-500",children:N.level})]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:N.subject}),r.jsx("td",{className:"py-3 px-4 text-center text-sm font-semibold",children:N.enrollments}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${N.completion_avg>=85?"bg-green-100 text-green-700":N.completion_avg>=70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N.completion_avg,"%"]})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("button",{onClick:()=>t(`/principal/course/${N.id}`),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center ml-auto",children:["View Details",r.jsx(Pn,{className:"w-4 h-4 ml-1"})]})})]},N.id))})]})})]})]})},AC=()=>{var n;const e=(n=JSON.parse(localStorage.getItem("user")||"{}").email)!=null&&n.includes("college")?2:1,s=V.courses.filter(i=>i.school_id===e);return I.useEffect(()=>{window.scrollTo(0,0)},[]),r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"All Courses"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>r.jsxs($,{to:`/principal/course/${i.id}`,className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:i.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i.traffic==="High"?"bg-orange-100 text-orange-700":i.traffic==="Medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:i.traffic})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[i.subject,"  ",i.level]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-lg font-bold text-gray-800",children:i.enrollments}),r.jsx("p",{className:"text-xs text-gray-600",children:"Enrolled"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:[i.completion_avg,"%"]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Completion"})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("span",{className:"text-blue-600 text-sm font-semibold",children:"View Details "})})]},i.id))})]})},kC=()=>{const{courseId:t}=Ft(),e=Ce(),s=V.courses.find(o=>o.id===parseInt(t||"0")),n=D4(parseInt(t||"0")),i=V.teachers.find(o=>o.id===(s==null?void 0:s.teacher_id)),a=V.modules.filter(o=>o.course_id===parseInt(t||"0"));return I.useEffect(()=>{window.scrollTo(0,0)},[]),s?r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-3 sm:mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border mb-4 sm:mb-6",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-2",children:s.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-6 text-xs sm:text-sm text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:s.subject}),r.jsx("span",{children:""}),r.jsx("span",{children:s.level}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Teacher: ",i==null?void 0:i.name]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Enrollments"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mt-1 sm:mt-2",children:s.enrollments})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Students"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:s.active_users})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Completion"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[s.completion_avg,"%"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Traffic Level"}),r.jsx("p",{className:`text-2xl font-bold mt-2 ${s.traffic==="High"?"text-orange-600":s.traffic==="Medium"?"text-blue-600":"text-gray-600"}`,children:s.traffic})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border mb-6 sm:mb-8",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Course Modules"}),r.jsx("div",{className:"space-y-3",children:a.map(o=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:o.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Module ",o.order]})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"mr-4",children:[r.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${o.completion_rate}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1 text-right",children:[o.completion_rate,"%"]})]})})]},o.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Enrolled Students"}),r.jsx("div",{className:"hidden sm:block overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Student"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Class"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Progress"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Modules"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Last Active"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Action"})]})}),r.jsx("tbody",{children:n.map(o=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:o.name}),r.jsx("p",{className:"text-xs text-gray-500",children:o.email})]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:o.class}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${o.progress}%`}})}),r.jsxs("span",{className:"text-sm font-semibold",children:[o.progress,"%"]})]})}),r.jsxs("td",{className:"py-3 px-4 text-center text-sm",children:[o.modules_completed,"/",o.total_modules]}),r.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-600",children:o.last_active}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("button",{onClick:()=>e(`/principal/student/${o.id}`),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center ml-auto",children:["View Profile",r.jsx(Pn,{className:"w-4 h-4 ml-1"})]})})]},o.id))})]})}),r.jsx("div",{className:"sm:hidden space-y-3",children:n.map(o=>r.jsxs("div",{onClick:()=>e(`/principal/student/${o.id}`),className:"bg-gray-50 p-4 rounded-lg border hover:bg-gray-100 active:bg-gray-200 transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:o.name}),r.jsx("p",{className:"text-xs text-gray-500",children:o.email})]}),r.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[o.progress,"%"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.class}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Modules: ",o.modules_completed,"/",o.total_modules]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${o.progress}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Last active: ",o.last_active]})]},o.id))})]})]}):r.jsx("div",{children:"Course not found"})},IC=()=>{var s,n;const{studentId:t}=Ft(),e=M4(parseInt(t||"0"));return e?r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Vy,{className:"w-4 h-4 mr-1"}),e.email]}),r.jsx("span",{children:""}),r.jsx("span",{children:e.class}),r.jsx("span",{children:""}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.status==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-1",children:r.jsx(Ct,{className:"w-8 h-8 text-yellow-600"})}),r.jsx("p",{className:"text-xs text-gray-600",children:"Badges"}),r.jsx("p",{className:"text-lg font-bold text-gray-800",children:e.badges})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-1",children:r.jsx(ga,{className:"w-8 h-8 text-purple-600"})}),r.jsx("p",{className:"text-xs text-gray-600",children:"Credits"}),r.jsx("p",{className:"text-lg font-bold text-gray-800",children:e.credits})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Overall Completion"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[e.completion,"%"]})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(ut,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Quiz Average"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:[e.quiz_avg,"%"]})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Courses"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:((s=e.courses)==null?void 0:s.length)||0})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enrolled Courses"}),r.jsx("div",{className:"space-y-4",children:(n=e.courses)==null?void 0:n.map(i=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-800",children:i.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[i.subject,"  ",i.level]})]}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[i.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${i.progress}%`}})})]},i.id))})]})]}):r.jsx("div",{children:"Student not found"})},PC=()=>{var i;const t=Ce(),s=(i=JSON.parse(localStorage.getItem("user")||"{}").email)!=null&&i.includes("college")?2:1,n=V.students.filter(a=>a.school_id===s);return r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"All Students"}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Class"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Completion"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Quiz Avg"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Badges"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Credits"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Action"})]})}),r.jsx("tbody",{children:n.map(a=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:a.name}),r.jsx("p",{className:"text-xs text-gray-500",children:a.email})]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:a.class}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${a.completion>=85?"bg-green-100 text-green-700":a.completion>=70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[a.completion,"%"]})}),r.jsxs("td",{className:"py-3 px-4 text-center text-sm font-semibold",children:[a.quiz_avg,"%"]}),r.jsx("td",{className:"py-3 px-4 text-center text-sm",children:a.badges}),r.jsx("td",{className:"py-3 px-4 text-center text-sm font-semibold text-purple-600",children:a.credits}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsx("button",{onClick:()=>t(`/principal/student/${a.id}`),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold",children:"View Profile"})})]},a.id))})]})})]})},RC=()=>{var n;const e=(n=JSON.parse(localStorage.getItem("user")||"{}").email)!=null&&n.includes("college")?2:1,s=V.teachers.filter(i=>i.school_id===e);return r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"All Teachers"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(i=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:i.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i.email}),r.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:[r.jsx("strong",{children:"Department:"})," ",i.department]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.courses}),r.jsx("p",{className:"text-xs text-gray-600",children:"Courses"})]}),r.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.students}),r.jsx("p",{className:"text-xs text-gray-600",children:"Students"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-gray-800",children:[i.completion_avg,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Avg Completion"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-yellow-600",children:i.badges}),r.jsx("p",{className:"text-xs text-gray-500",children:"Badges"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-purple-600",children:i.credits}),r.jsx("p",{className:"text-xs text-gray-500",children:"Credits"})]})]})]},i.id))})]})},DC=()=>r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx(dc,{role:"principal"})]}),MC=()=>{const t=V.completionByGrade.map(s=>{const n=V.students.filter(o=>o.class===s.grade),i=V.enrollments.filter(o=>n.some(c=>c.id===o.student_id)),a=i.length>0?Math.round(i.reduce((o,c)=>o+c.progress,0)/i.length):0;return{...s,studentCount:n.length,avgCompletion:a,highPerformers:i.filter(o=>o.progress>=85).length,needsAttention:i.filter(o=>o.progress<70).length}}),e=t.length>0?Math.round(t.reduce((s,n)=>s+(n.completion||0),0)/t.length):0;return r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Class Analytics - Completion by Grade"}),r.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Overall School Performance"}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Average completion across all grades: ",r.jsxs("span",{className:"font-bold text-blue-600 text-lg",children:[e,"%"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(s=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:s.grade}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[s.completion||0,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Completion Rate"})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[r.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Total Students"]}),r.jsx("span",{className:"font-semibold text-gray-800",children:s.studentCount})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Avg Completion"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:[s.avgCompletion,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[r.jsx(Ct,{className:"w-4 h-4 mr-2"}),"High Performers"]}),r.jsx("span",{className:"font-semibold text-green-600",children:s.highPerformers})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-red-600 flex items-center",children:[r.jsx(ut,{className:"w-4 h-4 mr-2"}),"Needs Attention"]}),r.jsx("span",{className:"font-semibold text-red-600",children:s.needsAttention})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:r.jsx("div",{className:`h-3 rounded-full transition-all ${(s.completion||0)>=85?"bg-green-500":(s.completion||0)>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.completion||0}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[s.completion||0,"% Complete"]})]},s.grade))})]})},VC=()=>{const t=[{day:"Monday",active:85,inactive:15},{day:"Tuesday",active:78,inactive:22},{day:"Wednesday",active:92,inactive:8},{day:"Thursday",active:88,inactive:12},{day:"Friday",active:95,inactive:5},{day:"Saturday",active:42,inactive:58},{day:"Sunday",active:35,inactive:65}],e=V.students.length,s=Math.round(t.reduce((n,i)=>n+i.active,0)/t.length);return r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Weekly Active Students"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Student engagement and activity breakdown"}),r.jsxs("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[r.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[r.jsx(ut,{className:"w-5 h-5 mr-2 text-blue-600"}),"Key Insights"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsx("li",{children:" Weekday engagement is consistently high (78-95%)"}),r.jsx("li",{children:" Friday shows peak student activity at 95%"}),r.jsx("li",{children:" Weekend activity drops significantly, suggesting need for better weekend content"}),r.jsx("li",{children:" Wednesday shows a strong mid-week spike at 92%"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-xl p-6 text-white",children:[r.jsx(cl,{className:"w-12 h-12 mb-3 opacity-80"}),r.jsx("p",{className:"text-sm opacity-90",children:"Total Students"}),r.jsx("p",{className:"text-4xl font-bold",children:e})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl p-6 text-white",children:[r.jsx(ut,{className:"w-12 h-12 mb-3 opacity-80"}),r.jsx("p",{className:"text-sm opacity-90",children:"Avg Weekly Active"}),r.jsxs("p",{className:"text-4xl font-bold",children:[s,"%"]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 rounded-xl p-6 text-white",children:[r.jsx(nj,{className:"w-12 h-12 mb-3 opacity-80"}),r.jsx("p",{className:"text-sm opacity-90",children:"Peak Day"}),r.jsx("p",{className:"text-3xl font-bold",children:"Friday"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Daily Activity Breakdown"}),r.jsx("div",{className:"space-y-4",children:t.map(n=>r.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:n.day}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("span",{className:"font-semibold text-green-600",children:[n.active,"% Active"]}),"  ",r.jsxs("span",{className:"text-gray-500",children:[n.inactive,"% Inactive"]})]})]}),r.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-6 overflow-hidden flex",children:[r.jsx("div",{className:"bg-green-500 flex items-center justify-center text-white text-xs font-semibold",style:{width:`${n.active}%`},children:n.active>20&&`${n.active}%`}),r.jsx("div",{className:"bg-gray-300 flex items-center justify-center text-gray-600 text-xs font-semibold",style:{width:`${n.inactive}%`},children:n.inactive>20&&`${n.inactive}%`})]})]},n.day))})]})]})},LC=()=>{var o,c;const t=JSON.parse(localStorage.getItem("user")||"{}"),e=((o=t.selectedRole)==null?void 0:o.toLowerCase())||"principal",s=(c=t.email)!=null&&c.includes("college")?2:1,n=V.schools.find(d=>d.id===s)||V.schools[0],i=V.students.filter(d=>d.school_id===n.id),a=Math.round(i.reduce((d,u)=>d+u.completion,0)/i.length);return r.jsxs("div",{children:[r.jsxs($,{to:`/${e}/dashboard`,className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-8 text-white mb-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:n.name}),r.jsxs("p",{className:"text-blue-100 mb-4",children:[n.location,"  ",n.type]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm",children:"Est. 2010"}),r.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm",children:"CBSE Affiliated"})]})]}),r.jsx(uu,{className:"w-24 h-24 opacity-50"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx(Ot,{className:"w-10 h-10 text-blue-600 mb-3"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Total Students"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:i.length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx(ut,{className:"w-10 h-10 text-green-600 mb-3"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Avg Completion"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[a,"%"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx(Ct,{className:"w-10 h-10 text-yellow-600 mb-3"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Avg Quiz Score"}),r.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[Math.round(i.reduce((d,u)=>d+u.quiz_avg,0)/i.length),"%"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx(uu,{className:"w-10 h-10 text-purple-600 mb-3"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Courses Offered"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:V.courses.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Performance Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"High Performers (85%)"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.filter(d=>d.completion>=85).length}),r.jsx("p",{className:"text-sm text-gray-600 ml-2",children:"students"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"On Track (70-84%)"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.filter(d=>d.completion>=70&&d.completion<85).length}),r.jsx("p",{className:"text-sm text-gray-600 ml-2",children:"students"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Needs Attention (<70%)"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.filter(d=>d.completion<70).length}),r.jsx("p",{className:"text-sm text-gray-600 ml-2",children:"students"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"School Information"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsx("span",{className:"font-semibold",children:n.type})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("span",{className:"font-semibold",children:n.location})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Board:"}),r.jsx("span",{className:"font-semibold",children:"CBSE"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Grades:"}),r.jsx("span",{className:"font-semibold",children:"1-12"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Contact Details"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{className:"font-semibold",children:"admin@achariya.org"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{className:"font-semibold",children:"+91 80 1234 5678"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Website:"}),r.jsx("span",{className:"font-semibold text-blue-600",children:"www.achariya.in"})]})]})]})]})]})},OC=()=>{const t={serverHealth:98,databaseSize:2.4,activeUsers:247,totalRequests:15420,avgResponseTime:245,uptime:99.9};return r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"System Statistics"}),r.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center",children:[r.jsx(cl,{className:"w-5 h-5 text-green-600 mr-3"}),r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("strong",{children:"All systems operational."})," No issues detected in the past 24 hours."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-xl p-6 text-white",children:[r.jsx(Fh,{className:"w-12 h-12 mb-3 opacity-80"}),r.jsx("p",{className:"text-sm opacity-90",children:"Server Health"}),r.jsxs("p",{className:"text-4xl font-bold",children:[t.serverHealth,"%"]}),r.jsx("p",{className:"text-xs opacity-75 mt-2",children:"All systems operational"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl p-6 text-white",children:[r.jsx(Ai,{className:"w-12 h-12 mb-3 opacity-80"}),r.jsx("p",{className:"text-sm opacity-90",children:"Database Size"}),r.jsxs("p",{className:"text-4xl font-bold",children:[t.databaseSize," GB"]}),r.jsx("p",{className:"text-xs opacity-75 mt-2",children:"PostgreSQL 14.5"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-400 to-purple-600 rounded-xl p-6 text-white",children:[r.jsx(Ot,{className:"w-12 h-12 mb-3 opacity-80"}),r.jsx("p",{className:"text-sm opacity-90",children:"Active Users (24h)"}),r.jsx("p",{className:"text-4xl font-bold",children:t.activeUsers}),r.jsx("p",{className:"text-xs opacity-75 mt-2",children:"Students & Faculty"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center",children:[r.jsx(cl,{className:"w-5 h-5 mr-2 text-blue-600"}),"Performance Metrics"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Avg Response Time"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:[t.avgResponseTime,"ms"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"80%"}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"System Uptime"}),r.jsxs("span",{className:"font-semibold text-green-600",children:[t.uptime,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"99.9%"}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"API Requests (24h)"}),r.jsx("span",{className:"font-semibold text-gray-800",children:t.totalRequests.toLocaleString()})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"65%"}})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center",children:[r.jsx(dj,{className:"w-5 h-5 mr-2 text-green-600"}),"Resource Usage"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[r.jsx(aj,{className:"w-4 h-4 mr-1"}),"CPU Usage"]}),r.jsx("span",{className:"font-semibold text-gray-800",children:"42%"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"42%"}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Memory Usage"}),r.jsx("span",{className:"font-semibold text-gray-800",children:"6.2 / 16 GB"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"39%"}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Disk Space"}),r.jsx("span",{className:"font-semibold text-gray-800",children:"12.4 / 50 GB"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"25%"}})})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"System Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Backend"}),r.jsx("p",{className:"font-semibold text-gray-800",children:"FastAPI 0.104.1"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Frontend"}),r.jsx("p",{className:"font-semibold text-gray-800",children:"React 18.2.0"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Database"}),r.jsx("p",{className:"font-semibold text-gray-800",children:"PostgreSQL 14.5"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Hosting"}),r.jsx("p",{className:"font-semibold text-gray-800",children:"AWS EC2"})]})]})]})]})},FC=()=>{const[t,e]=I.useState(()=>{const h=localStorage.getItem("teacherEvidence");return h?JSON.parse(h):[{id:1,teacherId:1,teacherName:"Hari Krishnan",courseId:1,courseName:"Advanced Mathematics",title:"Module 2 Teaching Materials",description:"Comprehensive lesson plans and student worksheets for Module 2",fileName:"module2_materials.pdf",status:"Pending",submittedAt:"2025-12-04T10:30:00"},{id:2,teacherId:2,teacherName:"Meena Sundaram",courseId:2,courseName:"Physics Fundamentals",title:"Lab Session Evidence",description:"Photos and reports from practical lab sessions",fileName:"lab_evidence.zip",status:"Pending",submittedAt:"2025-12-05T14:20:00"}]}),[s,n]=I.useState(!1),[i,a]=I.useState(""),o=h=>{e(f=>{const g=f.map(w=>w.id===h?{...w,status:"Approved",approvedAt:new Date().toISOString()}:w);return localStorage.setItem("teacherEvidence",JSON.stringify(g)),g}),a(" approved successfully!"),n(!0),setTimeout(()=>n(!1),3e3)},c=h=>{e(f=>{const g=f.map(w=>w.id===h?{...w,status:"Rejected",rejectedAt:new Date().toISOString()}:w);return localStorage.setItem("teacherEvidence",JSON.stringify(g)),g}),a("Evidence rejected."),n(!0),setTimeout(()=>n(!1),3e3)},d=t.filter(h=>h.status==="Pending"),u=t.filter(h=>h.status!=="Pending");return r.jsxs("div",{children:[r.jsxs($,{to:"/principal/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Evidence Approval"}),s&&r.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50",children:r.jsx("p",{className:"font-semibold",children:i})}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Pending Review (",d.length,")"]}),d.length===0?r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[r.jsx(Gn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"No pending evidence to review"})]}):r.jsx("div",{className:"space-y-4",children:d.map(h=>r.jsxs("div",{className:"bg-white border border-yellow-200 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:h.title}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[h.teacherName,"  ",h.courseName]}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:h.description}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(dl,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:h.fileName}),r.jsx("span",{className:"mx-2",children:""}),r.jsxs("span",{children:["Submitted: ",new Date(h.submittedAt).toLocaleDateString()]})]})]}),r.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 text-sm rounded-full",children:"Pending"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>o(h.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition",children:[r.jsx(cs,{className:"w-5 h-5"}),"Approve"]}),r.jsxs("button",{onClick:()=>c(h.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition",children:[r.jsx(Uh,{className:"w-5 h-5"}),"Reject"]})]})]},h.id))})]}),u.length>0&&r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:["Recently Reviewed (",u.length,")"]}),r.jsx("div",{className:"space-y-3",children:u.map(h=>r.jsx("div",{className:`p-4 border rounded-lg ${h.status==="Approved"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:h.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[h.teacherName,"  ",h.courseName]})]}),r.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${h.status==="Approved"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:h.status})]})},h.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"All Submitted Evidence"}),t.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:"No evidence has been submitted yet."})}):r.jsx("div",{className:"space-y-4",children:t.map(h=>r.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:h.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[r.jsxs("span",{children:[" ",h.fileName]}),r.jsxs("span",{children:[" ",new Date(h.submittedAt).toLocaleDateString()]}),r.jsxs("span",{children:[" ",h.teacherName]}),r.jsxs("span",{children:[" ",h.courseName]})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${h.status==="Approved"?"bg-green-100 text-green-700":h.status==="Rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:h.status})]})},h.id))})]})]})},zC=()=>{const t=V.students.length+V.teachers.length+2,e=V.courses.length,s=V.modules.length;return r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 sm:mb-6",children:"Admin Dashboard"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx($,{to:"/admin/users",className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mt-1 sm:mt-2",children:t})]}),r.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:r.jsx(Ot,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/admin/courses",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Courses"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:e})]}),r.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/admin/courses",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Modules"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:s})]}),r.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:r.jsx(Ke,{className:"w-6 h-6 text-white"})})]})}),r.jsx($,{to:"/admin/question-bank",className:"bg-white rounded-xl shadow-sm p-6 border hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Quiz Questions"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:120})]}),r.jsx("div",{className:"bg-orange-500 p-3 rounded-lg",children:r.jsx(Qp,{className:"w-6 h-6 text-white"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs($,{to:"/admin/users",className:"bg-blue-50 border border-blue-200 rounded-xl p-6 hover:shadow-md cursor-pointer transition",children:[r.jsx(Ot,{className:"w-8 h-8 text-blue-600 mb-3"}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"Manage Users"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add, edit, or remove users"})]}),r.jsxs($,{to:"/admin/courses",className:"bg-green-50 border border-green-200 rounded-xl p-6 hover:shadow-md cursor-pointer transition",children:[r.jsx(Ke,{className:"w-8 h-8 text-green-600 mb-3"}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"Manage Courses"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create and edit courses"})]}),r.jsxs($,{to:"/admin/question-bank",className:"bg-purple-50 border border-purple-200 rounded-xl p-6 hover:shadow-md cursor-pointer transition",children:[r.jsx(Qp,{className:"w-8 h-8 text-purple-600 mb-3"}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"Question Bank"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage quiz questions"})]}),r.jsxs($,{to:"/admin/config",className:"bg-orange-50 border border-orange-200 rounded-xl p-6 hover:shadow-md cursor-pointer transition",children:[r.jsx(zh,{className:"w-8 h-8 text-orange-600 mb-3"}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"System Config"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure system settings"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Schools Overview"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.schools.map(i=>{const a=V.students.filter(d=>d.school_id===i.id),o=V.teachers.filter(d=>d.school_id===i.id),c=V.courses.filter(d=>d.school_id===i.id);return r.jsxs($,{to:`/principal/school/${i.id}`,className:"p-4 border rounded-lg hover:shadow-md transition cursor-pointer",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:i.name}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[i.location,"  ",i.type]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Students"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Teachers"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.length}),r.jsx("p",{className:"text-xs text-gray-600",children:"Courses"})]})]})]},i.id)})})]}),r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4",children:"Platform Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:V.students.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Students"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:V.teachers.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Teachers"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:V.enrollments.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enrollments"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:V.courses.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Courses"})]})]})]})]})},UC=()=>r.jsxs("div",{children:[r.jsxs($,{to:"/admin/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Course Management"}),r.jsxs($,{to:"/admin/courses/create",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[r.jsx(Oy,{className:"w-4 h-4 mr-2"}),"Create New Course"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.courses.map(t=>{const e=V.schools.find(n=>n.id===t.school_id),s=V.modules.filter(n=>n.course_id===t.id);return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:t.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.traffic==="High"?"bg-orange-100 text-orange-700":t.traffic==="Medium"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:t.traffic})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[t.subject,"  ",t.level]}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:e==null?void 0:e.name}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-gray-800",children:t.enrollments}),r.jsx("p",{className:"text-xs text-gray-500",children:"Students"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-green-600",children:[t.completion_avg,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Completion"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-purple-600",children:s.length}),r.jsx("p",{className:"text-xs text-gray-500",children:"Modules"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx($,{to:`/admin/courses/edit/${t.id}`,className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-semibold hover:bg-blue-100 transition text-center",children:"Edit"}),r.jsx("button",{className:"flex-1 px-3 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-semibold hover:bg-red-100 transition",children:"Delete"})]})]},t.id)})})]}),BC=()=>{const t=[...V.students.map(e=>({...e,role:"Student"})),...V.teachers.map(e=>({...e,role:"Teacher"}))];return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"User Management"}),r.jsxs($,{to:"/admin/users/add",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[r.jsx(qy,{className:"w-4 h-4 mr-2"}),"Add New User"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Email"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Role"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),r.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Credits"}),r.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:t.slice(0,15).map(e=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500",children:e.class||e.department})]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:e.email}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.role==="Student"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:e.role})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:e.status})}),r.jsx("td",{className:"py-3 px-4 text-center text-sm font-semibold text-purple-600",children:e.credits}),r.jsxs("td",{className:"py-3 px-4 text-right",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-semibold mr-3",children:"Edit"}),r.jsx("button",{className:"text-red-600 hover:text-red-700 text-sm font-semibold",children:"Delete"})]})]},`${e.role}-${e.id}`))})]})})]})},qC=()=>r.jsxs("div",{children:[r.jsxs($,{to:"/admin/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"System Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quiz Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Questions per Quiz"}),r.jsx("input",{type:"number",defaultValue:"15",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (seconds)"}),r.jsx("input",{type:"number",defaultValue:"120",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Attempts"}),r.jsx("input",{type:"number",defaultValue:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passing Score (%)"}),r.jsx("input",{type:"number",defaultValue:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Credit Slabs"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Fast & Full Performance"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"100% score in 60 seconds"}),r.jsx("input",{type:"number",defaultValue:"15",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Credits"})]}),r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Normal & Full Performance"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"100% score in 120 seconds"}),r.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Credits"})]}),r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Basic Performance"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Passed but slower"}),r.jsx("input",{type:"number",defaultValue:"2",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Credits"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Content Completion Thresholds"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video/Audio Completion (%)"}),r.jsx("input",{type:"number",defaultValue:"90",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Content marked complete at this percentage"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Module Unlock Threshold (%)"}),r.jsx("input",{type:"number",defaultValue:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Content completion required to unlock next module"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Teacher Credit Rules"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evidence Upload Credits"}),r.jsx("input",{type:"number",defaultValue:"50",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Achievement Bonus"}),r.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Credits per student scoring 100%"})]})]})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsxs("button",{className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:[r.jsx(Oh,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})})]}),$C=()=>r.jsxs("div",{children:[r.jsxs($,{to:"/admin/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx(dc,{role:"admin"})]}),HC=()=>{const[t,e]=I.useState("all"),[s,n]=I.useState("all"),[i,a]=I.useState(!1),o=Lo.filter(d=>{const u=t==="all"||d.course===t,h=s==="all"||d.difficulty===s;return u&&h}),c=()=>{a(!0)};return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Question Bank"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["Total: ",o.length," questions"]})]}),r.jsxs("button",{onClick:c,className:"flex items-center px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold",children:[r.jsx(Py,{className:"w-5 h-5 mr-2"}),"Export to PDF"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(oj,{className:"w-5 h-5 text-gray-600"}),r.jsxs("select",{value:t,onChange:d=>e(d.target.value),className:"px-4 py-2 border rounded-lg",children:[r.jsx("option",{value:"all",children:"All Courses"}),r.jsx("option",{value:"Advanced Mathematics",children:"Advanced Mathematics"}),r.jsx("option",{value:"Physics",children:"Physics"}),r.jsx("option",{value:"English Literature",children:"English Literature"})]}),r.jsxs("select",{value:s,onChange:d=>n(d.target.value),className:"px-4 py-2 border rounded-lg",children:[r.jsx("option",{value:"all",children:"All Difficulties"}),r.jsx("option",{value:"Easy",children:"Easy"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"Hard",children:"Hard"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Course"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Topic"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Question"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Difficulty"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Answer"})]})}),r.jsx("tbody",{children:o.map(d=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4 font-mono text-sm text-gray-600",children:["Q",d.id]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:d.course}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:d.topic}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-800 max-w-md",children:d.question}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${d.difficulty==="Easy"?"bg-green-100 text-green-700":d.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.difficulty})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded font-semibold text-sm",children:d.correctAnswer})})]},d.id))})]})})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex items-center justify-between",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[r.jsx(dl,{className:"w-6 h-6 mr-2 text-red-600"}),"Question Bank PDF Preview"]}),r.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsxs("div",{className:"p-8 bg-white",style:{fontFamily:"serif"},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Achariya Learning Portal"}),r.jsx("h2",{className:"text-xl text-gray-700 mb-1",children:"Question Bank Repository"}),r.jsxs("p",{className:"text-gray-600",children:["Total Questions: ",o.length]}),r.jsx("div",{className:"border-b-2 border-gray-300 mt-4"})]}),o.map((d,u)=>r.jsxs("div",{className:"mb-6 pb-4 border-b",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("p",{className:"font-bold text-lg",children:["Question ",u+1," (ID: Q",d.id,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-sm px-2 py-1 bg-gray-100 rounded",children:d.course}),r.jsx("span",{className:`text-sm px-2 py-1 rounded ${d.difficulty==="Easy"?"bg-green-100 text-green-700":d.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.difficulty})]})]}),r.jsxs("p",{className:"text-gray-700 mb-1",children:[r.jsx("strong",{children:"Topic:"})," ",d.topic]}),r.jsx("p",{className:"text-gray-900 mb-3",children:d.question}),r.jsx("div",{className:"space-y-1 ml-4",children:d.options.map((h,f)=>r.jsx("p",{className:`${h.startsWith(d.correctAnswer)?"font-bold text-green-700":"text-gray-700"}`,children:h},f))}),r.jsx("p",{className:"mt-2 text-sm text-green-700",children:r.jsxs("strong",{children:["Correct Answer: ",d.correctAnswer]})})]},d.id)),r.jsx("div",{className:"text-center mt-8 pt-4 border-t",children:r.jsx("p",{className:"text-gray-600 text-sm",children:" Achariya Learning Portal  Question Bank"})})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t p-4 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>window.print(),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold",children:"Print / Save as PDF"}),r.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Close"})]})]})})]})},QC=()=>{const[t,e]=I.useState({name:"",email:"",role:"student",department:"",class:"",phone:""}),[s,n]=I.useState(!1),i=a=>{a.preventDefault(),n(!0),setTimeout(()=>{n(!1),e({name:"",email:"",role:"student",department:"",class:"",phone:""})},3e3)};return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/users",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to User Management"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Add New User"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border max-w-2xl",children:[s&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:" User created successfully! (Demo Mode)"}),r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(pa,{className:"w-4 h-4 inline mr-2"}),"Full Name *"]}),r.jsx("input",{type:"text",required:!0,value:t.name,onChange:a=>e({...t,name:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(Vy,{className:"w-4 h-4 inline mr-2"}),"Email Address *"]}),r.jsx("input",{type:"email",required:!0,value:t.email,onChange:a=>e({...t,email:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"user@achariya.org"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(zy,{className:"w-4 h-4 inline mr-2"}),"Role *"]}),r.jsxs("select",{required:!0,value:t.role,onChange:a=>e({...t,role:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"student",children:"Student"}),r.jsx("option",{value:"teacher",children:"Teacher"}),r.jsx("option",{value:"principal",children:"Principal"}),r.jsx("option",{value:"admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(uu,{className:"w-4 h-4 inline mr-2"}),"Department/Subject"]}),r.jsx("input",{type:"text",value:t.department,onChange:a=>e({...t,department:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Mathematics, Science"})]}),t.role==="student"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Class/Grade"}),r.jsx("input",{type:"text",value:t.class,onChange:a=>e({...t,class:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Grade 10A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:t.phone,onChange:a=>e({...t,phone:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+91 XXXXX XXXXX"})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold flex items-center justify-center",children:[r.jsx(qy,{className:"w-5 h-5 mr-2"}),"Create User"]}),r.jsx($,{to:"/admin/users",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold text-center",children:"Cancel"})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6 italic",children:"* This is a mockup form. In production, this would create a new user account and send credentials via email."})]})]})},WC=()=>{const{courseId:t}=Ft(),e=V.courses.find(c=>c.id===Number(t))||V.courses[0],[s,n]=I.useState({title:e.title,subject:e.subject,level:e.level,teacher_id:e.teacher_id,description:`Comprehensive ${e.subject} course covering fundamental and advanced topics.`,credits:3,duration:"12 weeks"}),[i,a]=I.useState(!1),o=c=>{c.preventDefault(),a(!0),setTimeout(()=>a(!1),3e3)};return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Course Management"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Course"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Course ID: ",e.id]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border max-w-3xl",children:[i&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:" Course updated successfully! (Demo Mode)"}),r.jsxs("form",{onSubmit:o,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Title *"}),r.jsx("input",{type:"text",required:!0,value:s.title,onChange:c=>n({...s,title:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Advanced Mathematics"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",required:!0,value:s.subject,onChange:c=>n({...s,subject:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Level *"}),r.jsxs("select",{required:!0,value:s.level,onChange:c=>n({...s,level:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Beginner",children:"Beginner"}),r.jsx("option",{value:"Intermediate",children:"Intermediate"}),r.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assigned Teacher *"}),r.jsx("select",{required:!0,value:s.teacher_id,onChange:c=>n({...s,teacher_id:Number(c.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:V.teachers.map(c=>r.jsxs("option",{value:c.id,children:[c.name," - ",c.department]},c.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Description"}),r.jsx("textarea",{value:s.description,onChange:c=>n({...s,description:c.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Describe the course objectives and content..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Credits"}),r.jsx("input",{type:"number",value:s.credits,onChange:c=>n({...s,credits:Number(c.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",max:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration"}),r.jsx("input",{type:"text",value:s.duration,onChange:c=>n({...s,duration:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 12 weeks"})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[r.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold flex items-center justify-center",children:[r.jsx(Oh,{className:"w-5 h-5 mr-2"}),"Save Changes"]}),r.jsx($,{to:"/admin/courses",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold text-center",children:"Cancel"})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6 italic",children:"* Demo mode - Changes are not persisted to database"})]})]})},GC=()=>{const[t,e]=I.useState({title:"",subject:"",level:"Intermediate",teacher_id:V.teachers[0].id,description:"",credits:3,duration:"12 weeks"}),[s,n]=I.useState(!1),i=a=>{a.preventDefault(),n(!0),setTimeout(()=>{n(!1),e({title:"",subject:"",level:"Intermediate",teacher_id:V.teachers[0].id,description:"",credits:3,duration:"12 weeks"})},3e3)};return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Course Management"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Create New Course"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border max-w-3xl",children:[s&&r.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:" Course created successfully! (Demo Mode)"}),r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(Ke,{className:"w-4 h-4 inline mr-2"}),"Course Title *"]}),r.jsx("input",{type:"text",required:!0,value:t.title,onChange:a=>e({...t,title:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Introduction to Data Science"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",required:!0,value:t.subject,onChange:a=>e({...t,subject:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Computer Science"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Level *"}),r.jsxs("select",{required:!0,value:t.level,onChange:a=>e({...t,level:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Beginner",children:"Beginner"}),r.jsx("option",{value:"Intermediate",children:"Intermediate"}),r.jsx("option",{value:"Advanced",children:"Advanced"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assign Teacher *"}),r.jsx("select",{required:!0,value:t.teacher_id,onChange:a=>e({...t,teacher_id:Number(a.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:V.teachers.map(a=>r.jsxs("option",{value:a.id,children:[a.name," - ",a.department]},a.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Description *"}),r.jsx("textarea",{required:!0,value:t.description,onChange:a=>e({...t,description:a.target.value}),rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Provide a detailed description of course objectives, topics covered, and learning outcomes..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Credits *"}),r.jsx("input",{type:"number",required:!0,value:t.credits,onChange:a=>e({...t,credits:Number(a.target.value)}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",max:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration *"}),r.jsx("input",{type:"text",required:!0,value:t.duration,onChange:a=>e({...t,duration:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 12 weeks, 3 months"})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[r.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold flex items-center justify-center",children:[r.jsx(Oy,{className:"w-5 h-5 mr-2"}),"Create Course"]}),r.jsx($,{to:"/admin/courses",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold text-center",children:"Cancel"})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-6 italic",children:"* Demo mode - After creation, you'll need to add modules and content separately"})]})]})},KC=()=>{const t=V.students.length+V.teachers.length+2,e=V.courses.length,s=V.enrollments.length,n=Math.round(V.students.reduce((o,c)=>o+c.completion,0)/V.students.length),i={apiResponse:45,dbQueries:23,activeConnections:127,memoryUsage:67,cpuUsage:34,diskUsage:42},a=[{timestamp:"2025-12-11 15:35",event:"User Login",user:"Pranav R",type:"info"},{timestamp:"2025-12-11 15:30",event:"Course Enrollment",user:"Aisha Khan",type:"success"},{timestamp:"2025-12-11 15:28",event:"Quiz Submitted",user:"Arjun S",type:"success"},{timestamp:"2025-12-11 15:25",event:"Evidence Uploaded",user:"Hari Krishnan",type:"info"},{timestamp:"2025-12-11 15:20",event:"Failed Login Attempt",user:"Unknown",type:"warning"}];return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"System Monitoring"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(cs,{className:"w-10 h-10 text-green-600"}),r.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-sm rounded-full",children:"Healthy"})]}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"System Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"All services operational"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(cl,{className:"w-10 h-10 text-blue-600"}),r.jsx("span",{className:"text-3xl font-bold text-blue-600",children:t})]}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"Active Users"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Currently online: ",i.activeConnections]})]}),r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(ut,{className:"w-10 h-10 text-purple-600"}),r.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:[n,"%"]})]}),r.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:"Avg Completion"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Across all courses"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Performance Metrics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"API Response Time"}),r.jsxs("span",{className:"text-sm font-bold text-green-600",children:[i.apiResponse,"ms"]})]}),r.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"15%"}})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Excellent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Database Queries"}),r.jsxs("span",{className:"text-sm font-bold text-green-600",children:[i.dbQueries,"ms"]})]}),r.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"10%"}})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Excellent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Active Connections"}),r.jsx("span",{className:"text-sm font-bold text-blue-600",children:i.activeConnections})]}),r.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"60%"}})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Normal"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Resource Usage"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CPU Usage"}),r.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[i.cpuUsage,"%"]})]}),r.jsx("div",{className:"bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${i.cpuUsage}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Memory Usage"}),r.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[i.memoryUsage,"%"]})]}),r.jsx("div",{className:"bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-yellow-500 h-3 rounded-full",style:{width:`${i.memoryUsage}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Disk Usage"}),r.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[i.diskUsage,"%"]})]}),r.jsx("div",{className:"bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${i.diskUsage}%`}})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Activity"}),r.jsx("div",{className:"space-y-3",children:a.map((o,c)=>r.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg border border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[o.type==="info"&&r.jsx(Fh,{className:"w-5 h-5 text-blue-500"}),o.type==="success"&&r.jsx(cs,{className:"w-5 h-5 text-green-500"}),o.type==="warning"&&r.jsx(Iy,{className:"w-5 h-5 text-yellow-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:o.event}),r.jsx("p",{className:"text-sm text-gray-600",children:o.user})]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:o.timestamp})]},c))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border mt-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Database Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(Ai,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(Ai,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Courses"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(Ai,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enrollments"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(Ai,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:V.modules.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Modules"})]})]})]})]})},YC=()=>{const{moduleId:t}=Ft(),e=Ce(),s=V.modules.find(w=>w.id===parseInt(t||"0")),n=s?V.courses.find(w=>w.id===s.course_id):null,[i,a]=I.useState((s==null?void 0:s.title)||""),[o,c]=I.useState((s==null?void 0:s.order)||1),[d,u]=I.useState((s==null?void 0:s.completion_rate)||0),[h,f]=I.useState(!1);if(!s||!n)return r.jsx("div",{className:"text-center py-8",children:"Module not found"});const g=w=>{w.preventDefault(),f(!0),setTimeout(()=>{f(!1),e("/admin/courses")},2e3)};return r.jsxs("div",{children:[r.jsxs($,{to:"/admin/courses",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[r.jsx(ne,{className:"w-4 h-4 mr-2"}),"Back to Courses"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Edit Module"}),h&&r.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg z-50",children:r.jsx("p",{className:"font-semibold",children:" Module updated successfully! (Demo Mode)"})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Course"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n.title}),r.jsxs("p",{className:"text-sm text-gray-500",children:[n.subject,"  ",n.level]})]}),r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Module Title *"}),r.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Number *"}),r.jsx("input",{type:"number",value:o,onChange:w=>c(parseInt(w.target.value)),min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Completion Rate (%)"}),r.jsx("input",{type:"number",value:d,onChange:w=>u(parseInt(w.target.value)),min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Note:"})," In demo mode, changes are saved locally. In production, module content editing will be integrated with the backend CMS."]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:[r.jsx(Oh,{className:"w-5 h-5"}),"Save Changes"]}),r.jsxs("button",{type:"button",onClick:()=>e("/admin/courses"),className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:[r.jsx(Kn,{className:"w-5 h-5"}),"Cancel"]})]})]})]})]})};function JC(){return r.jsx(XN,{children:r.jsxs(UN,{children:[r.jsx(K,{path:"/",element:r.jsx(wj,{})}),r.jsx(K,{path:"/select-role",element:r.jsx(Nj,{})}),r.jsxs(K,{element:r.jsx(k4,{}),children:[r.jsx(K,{path:"/student/dashboard",element:r.jsx($4,{})}),r.jsx(K,{path:"/student/courses",element:r.jsx(H4,{})}),r.jsx(K,{path:"/student/course/:courseId",element:r.jsx(Q4,{})}),r.jsx(K,{path:"/student/module/:moduleId",element:r.jsx(W4,{})}),r.jsx(K,{path:"/student/quiz/:moduleId",element:r.jsx(cC,{})}),r.jsx(K,{path:"/student/wallet",element:r.jsx(G4,{})}),r.jsx(K,{path:"/student/badges",element:r.jsx(K4,{})}),r.jsx(K,{path:"/student/marketplace",element:r.jsx(X4,{})}),r.jsx(K,{path:"/student/leaderboard",element:r.jsx(Z4,{})}),r.jsx(K,{path:"/student/challenges",element:r.jsx(eC,{})}),r.jsx(K,{path:"/student/progress",element:r.jsx(tC,{})}),r.jsx(K,{path:"/student/rivals",element:r.jsx(sC,{})}),r.jsx(K,{path:"/student/powerups",element:r.jsx(nC,{})}),r.jsx(K,{path:"/student/social",element:r.jsx(rC,{})}),r.jsx(K,{path:"/student/faq",element:r.jsx(J4,{})}),r.jsx(K,{path:"/student/live-quiz/:sessionId/take",element:r.jsx(fC,{})}),r.jsx(K,{path:"/student/live-quiz/:sessionId/results",element:r.jsx(pC,{})}),r.jsx(K,{path:"/teacher/dashboard",element:r.jsx(xC,{})}),r.jsx(K,{path:"/teacher/courses",element:r.jsx(yC,{})}),r.jsx(K,{path:"/teacher/course/:courseId",element:r.jsx(vC,{})}),r.jsx(K,{path:"/teacher/student/:studentId",element:r.jsx(bC,{})}),r.jsx(K,{path:"/teacher/students",element:r.jsx(jC,{})}),r.jsx(K,{path:"/teacher/performance",element:r.jsx(_C,{})}),r.jsx(K,{path:"/teacher/credits",element:r.jsx(EC,{})}),r.jsx(K,{path:"/teacher/evidence",element:r.jsx(wC,{})}),r.jsx(K,{path:"/teacher/faq",element:r.jsx(NC,{})}),r.jsx(K,{path:"/teacher/live-quiz/:sessionId/control",element:r.jsx(SC,{})}),r.jsx(K,{path:"/teacher/live-quiz/:sessionId/results",element:r.jsx(CC,{})}),r.jsx(K,{path:"/principal/dashboard",element:r.jsx(TC,{})}),r.jsx(K,{path:"/principal/courses",element:r.jsx(AC,{})}),r.jsx(K,{path:"/principal/students",element:r.jsx(PC,{})}),r.jsx(K,{path:"/principal/teachers",element:r.jsx(RC,{})}),r.jsx(K,{path:"/principal/course/:courseId",element:r.jsx(kC,{})}),r.jsx(K,{path:"/principal/student/:studentId",element:r.jsx(IC,{})}),r.jsx(K,{path:"/principal/class-analytics",element:r.jsx(MC,{})}),r.jsx(K,{path:"/principal/student-activity",element:r.jsx(VC,{})}),r.jsx(K,{path:"/principal/school/:schoolId",element:r.jsx(LC,{})}),r.jsx(K,{path:"/principal/system-stats",element:r.jsx(OC,{})}),r.jsx(K,{path:"/principal/evidence",element:r.jsx(FC,{})}),r.jsx(K,{path:"/principal/faq",element:r.jsx(DC,{})}),r.jsx(K,{path:"/admin/dashboard",element:r.jsx(zC,{})}),r.jsx(K,{path:"/admin/courses",element:r.jsx(UC,{})}),r.jsx(K,{path:"/admin/users",element:r.jsx(BC,{})}),r.jsx(K,{path:"/admin/users/add",element:r.jsx(QC,{})}),r.jsx(K,{path:"/admin/courses/create",element:r.jsx(GC,{})}),r.jsx(K,{path:"/admin/courses/edit/:courseId",element:r.jsx(WC,{})}),r.jsx(K,{path:"/admin/modules/edit/:moduleId",element:r.jsx(YC,{})}),r.jsx(K,{path:"/admin/question-bank",element:r.jsx(HC,{})}),r.jsx(K,{path:"/admin/config",element:r.jsx(qC,{})}),r.jsx(K,{path:"/admin/monitoring",element:r.jsx(KC,{})}),r.jsx(K,{path:"/admin/faq",element:r.jsx($C,{})})]}),r.jsx(K,{path:"*",element:r.jsx(ON,{to:"/",replace:!0})})]})})}pd.createRoot(document.getElementById("root")).render(r.jsx(yx.StrictMode,{children:r.jsx(GN,{children:r.jsx(JC,{})})}));
